  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.386Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715386_3osdr) ==========
2026-01-03T03:08:35.386Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.386Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715386_3osdr)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.386Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.386Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.386Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.386Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.386Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.386Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.386Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.386Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.390Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715390_hkf12) ==========
2026-01-03T03:08:35.390Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.390Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715390_hkf12)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.391Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.391Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.391Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.391Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.391Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.391Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.391Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.391Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.395Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715395_is3pg) ==========
2026-01-03T03:08:35.395Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.395Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715395_is3pg)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.396Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.396Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.396Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.396Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.396Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.396Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.396Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.396Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.399Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715399_ehht0) ==========
2026-01-03T03:08:35.399Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.399Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715399_ehht0)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.400Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.400Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.400Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.400Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.400Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.400Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.400Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.400Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.404Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715404_qahad) ==========
2026-01-03T03:08:35.404Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.404Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715404_qahad)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.404Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.404Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.404Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.404Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.404Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.404Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.404Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.404Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.408Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715408_xdykz) ==========
2026-01-03T03:08:35.408Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.408Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715408_xdykz)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.409Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.409Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.409Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.409Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.409Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.409Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.409Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.409Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.412Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715412_396f4) ==========
2026-01-03T03:08:35.412Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.412Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715412_396f4)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.413Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.413Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.413Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.413Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.413Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.413Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.413Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.413Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.417Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715417_39km1) ==========
2026-01-03T03:08:35.417Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.417Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715417_39km1)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.417Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.417Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.417Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.417Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.417Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.417Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.417Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.417Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.422Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715422_4ipvv) ==========
2026-01-03T03:08:35.422Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.422Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715422_4ipvv)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.423Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.423Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.423Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.423Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.423Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.423Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.423Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.423Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.427Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715427_z5dqe) ==========
2026-01-03T03:08:35.427Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.427Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715427_z5dqe)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.427Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.427Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.427Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.427Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.427Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.427Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.427Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.427Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.431Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715431_xmodx) ==========
2026-01-03T03:08:35.431Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.431Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715431_xmodx)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.432Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.432Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.432Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.432Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.432Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.432Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.432Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.432Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.436Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715436_i2r3j) ==========
2026-01-03T03:08:35.436Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.436Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715436_i2r3j)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.436Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.436Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.436Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.436Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.436Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.436Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.437Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.437Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.440Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715440_qf1bi) ==========
2026-01-03T03:08:35.440Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.440Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715440_qf1bi)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.441Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.441Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.441Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.441Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.441Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.441Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.441Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.441Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.445Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715445_fwafs) ==========
2026-01-03T03:08:35.445Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.445Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715445_fwafs)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.445Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.445Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.445Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.445Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.445Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.445Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.445Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.445Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.449Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715449_mkz9f) ==========
2026-01-03T03:08:35.449Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.449Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715449_mkz9f)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.450Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.450Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.450Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.450Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.450Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.450Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.450Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.450Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.453Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715453_hlf88) ==========
2026-01-03T03:08:35.453Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.453Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715453_hlf88)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.454Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.454Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.454Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.454Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.454Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.454Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.454Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.454Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.459Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715459_x1480) ==========
2026-01-03T03:08:35.459Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.459Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715459_x1480)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.459Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.459Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.459Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.459Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.459Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.459Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.459Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.459Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.463Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715463_d6n7r) ==========
2026-01-03T03:08:35.463Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.463Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715463_d6n7r)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.464Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.464Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.464Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.464Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.464Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.464Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.464Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.464Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.467Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715467_k7faj) ==========
2026-01-03T03:08:35.467Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.467Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715467_k7faj)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.468Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.468Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.468Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.468Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.468Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.468Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.468Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.468Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.472Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715472_nuus9) ==========
2026-01-03T03:08:35.472Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.472Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715472_nuus9)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.473Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.473Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.473Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.473Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.473Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.473Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.473Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.473Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.476Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715476_11s6s) ==========
2026-01-03T03:08:35.476Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.476Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715476_11s6s)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.477Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.477Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.477Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.477Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.477Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.477Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.477Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.477Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.481Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715481_bdkbg) ==========
2026-01-03T03:08:35.481Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.481Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715481_bdkbg)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.482Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.482Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.482Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.482Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.482Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.482Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.482Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.482Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.485Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715485_xcfjn) ==========
2026-01-03T03:08:35.485Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.485Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715485_xcfjn)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.486Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.486Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.486Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.486Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.486Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.486Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.486Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.486Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.490Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715490_i62sj) ==========
2026-01-03T03:08:35.490Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.490Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715490_i62sj)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.491Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.491Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.491Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.491Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.491Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.491Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.491Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.491Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.495Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715495_lx6u6) ==========
2026-01-03T03:08:35.495Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.495Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715495_lx6u6)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.496Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.496Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.496Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.496Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.496Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.496Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.496Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.496Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.500Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715500_s70rg) ==========
2026-01-03T03:08:35.500Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.500Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715500_s70rg)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.500Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.500Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.500Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.500Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.500Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.500Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.500Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.500Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.504Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715504_bmqjo) ==========
2026-01-03T03:08:35.504Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.504Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715504_bmqjo)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.505Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.505Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.505Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.505Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.505Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.505Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.505Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.505Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.509Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715509_pzgal) ==========
2026-01-03T03:08:35.509Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.509Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715509_pzgal)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.510Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.510Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.510Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.510Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.510Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.510Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.510Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.510Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_h521cayl, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T03:08:35.513Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767409715513_sa9og) ==========
2026-01-03T03:08:35.513Z [checkAndTriggerAutoPass] Priority: p_zu6txrfc, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T03:08:35.513Z [checkAndTriggerAutoPass] p_zu6txrfc is AI, handled separately (ID: autopass_1767409715513_sa9og)
[AI] AI player checking priority: {
  gameId: 'game_mjxpmimj',
  playerId: 'p_zu6txrfc',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_zu6txrfc',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjxpmimj', playerId: 'p_zu6txrfc' }
[priority] autoPassLoop starting - active players: p_zu6txrfc, p_x3fj732v, p_h521cayl, autoPassEnabled: p_x3fj732v, p_zu6txrfc, p_h521cayl, currentPriority: p_x3fj732v, turnPlayer: p_zu6txrfc
[canRespond] p_x3fj732v: checking instant-speed responses only
[canRespond] p_x3fj732v: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_x3fj732v (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_x3fj732v - no available actions
[canRespond] p_h521cayl: checking instant-speed responses only
[canRespond] p_h521cayl: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_h521cayl (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_h521cayl - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T03:08:35.514Z [nextStep] ========== CALLED ==========
2026-01-03T03:08:35.514Z [nextStep] Game: game_mjxpmimj
2026-01-03T03:08:35.514Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T03:08:35.514Z [nextStep] Priority: p_zu6txrfc, Turn: p_zu6txrfc
2026-01-03T03:08:35.514Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-03T03:08:35.514Z [checkPendingInteractions] Waiting for p_x3fj732v to declare blockers
2026-01-03T03:08:35.514Z [checkPendingInteractions] Pending: blocker_declaration
2026-01-03T03:08:35.514Z [nextStep] BLOCKED: Cannot advance step - pending interactions: blocker_declaration
[AI] Advanced to next step for game game_mjxpmimj
[VIEW_FOR_DEBUG] {
  viewer: 'p_zu6txrfc',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_zu6txrfc, match=true
[getPlayableCardIds] Player p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Smuggler's Surprise not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_a97u3gn0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_zu6txrfc: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_zu6txrfc: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_zu6txrfc: No actions available - returning FALSE
[canRespond] p_zu6txrfc: checking instant-speed responses only
[canRespond] p_zu6txrfc: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_x3fj732v',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking caretaker's talent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "caretaker's talent"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking token: { hasKarametra: false, hasAcolyte: false, fullCardName: 'token' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nahiri, the harbinger: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nahiri, the harbinger'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking the wind crystal: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'the wind crystal'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skyknight vanguard: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'skyknight vanguard'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_zu6txrfc, viewerId=p_x3fj732v, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_h521cayl',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_zu6txrfc: { handCount: 7, firstKnown: [Array] },
    p_x3fj732v: { handCount: 5, firstKnown: [Array] },
    p_h521cayl: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking weatherlight compleated: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'weatherlight compleated'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking three tree city: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'three tree city'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking swiftfoot boots: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'swiftfoot boots'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking oketra's monument: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "oketra's monument"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
