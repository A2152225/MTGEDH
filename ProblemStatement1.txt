
Friday, January 2, 2026 3:46:13 AM

> @mtgedh/server@0.1.0 dev
> tsx watch --watch-path=src src/index.ts

[Server] Initializing database...
[Server] Database initialized successfully.
[SCRYFALL] No planeswalker cache clearing needed (0 planeswalkers in cache, all have loyalty field)
[Socket] GameManager configured with IO server for rules engine integration
[Resolution] AI handler initialized
[Server] Running at http://127.0.0.1:3001
[CLI] Detected Windows PowerShell. If CLI commands are not working correctly,
[CLI] try using cmd.exe, Windows Terminal, or Git Bash instead.

ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
  MTGEDH Server CLI - Type "help" for available commands
ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

mtgedh> [Resolution] Priority management handler initialized
Socket connected: COOHbo_V5KjZSUyZAAAB
[GameManager] Ensured game game_mjwmkor2 using full rules engine (createInitialGameState)
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mjwmkor2', count: 1 }
[GameManager] RulesBridge initialized for game game_mjwmkor2
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 0, firstKnown: [] } }
}
[deck] canImportWithoutWipe {
  gameId: 'game_mjwmkor2',
  phaseStr: 'PRE_GAME',
  seqVal: 0,
  isPreGame: true
}
[deck] importDeck called { gameId: 'game_mjwmkor2', playerId: 'p_ozn5ema5' }
[SCRYFALL DEBUG] Caching planeswalker: {
  name: "Elspeth, Sun's Champion",
  type_line: 'Legendary Planeswalker ΓÇö Elspeth',
  'data.loyalty': '4',
  'data keys': [ 'loyalty' ]
}
[SCRYFALL DEBUG] Cached planeswalker result: {
  name: "Elspeth, Sun's Champion",
  'card.loyalty': '4',
  'cached value': '4'
}
[deck] importDeck resolved cards {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  resolvedCount: 23,
  missingCount: 0,
  firstCard: {
    name: 'Myrel, Shield of Argive',
    id: 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b',
    type_line: 'Legendary Creature ΓÇö Human Soldier'
  },
  lastCard: {
    name: 'Plunge into Winter',
    id: 'fe4aceba-f386-457c-bc68-6382eda46754_mjwmqsw5_n_6dad91c6',
    type_line: 'Instant'
  }
}
[deck] Validation result {
  gameId: 'game_mjwmkor2',
  format: 'commander',
  illegalCount: 5,
  warningCount: 0
}
[deck] importDeck pregame-check {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  phaseStr: 'PRE_GAME',
  seqVal: 0,
  isPreGame: true
}
[deck] clearPlayerTransientZonesForImport { gameId: 'game_mjwmkor2', playerId: 'p_ozn5ema5' }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  pendingInitialDrawSize: 1
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:46:34.185Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343594185_zgjnd) ==========
2026-01-02T08:46:34.185Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: pre_game, Step: undefined
2026-01-02T08:46:34.185Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343594185_zgjnd)
[deck] importDeck (pre-game) emitting suggestCommanders {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  names: [ 'Myrel, Shield of Argive' ]
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  candidatesCount: 23
}
[import] applyConfirmedImport start {
  gameId: 'game_mjwmkor2',
  initiator: 'p_ozn5ema5',
  cards: 23,
  importerOnly: true,
  confirmId: 'imp_1767343594182_qv9oks'
}
[import] importer-only apply: skipping full reset { gameId: 'game_mjwmkor2' }
[importDeckResolved] Importing 23 cards for player p_ozn5ema5
[importDeckResolved] Mapped 23 cards. First card: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b)
[importDeckResolved] Library set for player p_ozn5ema5. Final library size: 23
[import] importDeckResolved attempted { gameId: 'game_mjwmkor2', playerId: 'p_ozn5ema5' }
[import] state.zones libraryCount update (no library array duplication) { gameId: 'game_mjwmkor2', playerId: 'p_ozn5ema5', libraryCount: 23 }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  pendingInitialDrawSize: 1
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:46:34.392Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343594392_axedu) ==========
2026-01-02T08:46:34.392Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: pre_game, Step: undefined
2026-01-02T08:46:34.392Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343594392_axedu)
[commander] emitImportedDeckCandidatesToPlayer {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  candidatesCount: 23
}
[commander] emitSuggestCommandersToPlayer {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] suggestCommanders emitted (importerSocket) {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] importApplied sent to player sockets { gameId: 'game_mjwmkor2', playerId: 'p_ozn5ema5' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:46:34.393Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343594393_niclc) ==========
2026-01-02T08:46:34.393Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: pre_game, Step: undefined
2026-01-02T08:46:34.393Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343594393_niclc)
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:46:34.393Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343594393_82cnz) ==========
2026-01-02T08:46:34.393Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: pre_game, Step: undefined
2026-01-02T08:46:34.393Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343594393_82cnz)
[import] applyConfirmedImport complete {
  gameId: 'game_mjwmkor2',
  initiator: 'p_ozn5ema5',
  confirmId: 'imp_1767343594182_qv9oks'
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  candidatesCount: 23
}
[commander] setCommander incoming {
  gameId: 'game_mjwmkor2',
  from: 'p_ozn5ema5',
  commanderNames: [ 'Myrel, Shield of Argive' ],
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b' ]
}
[commander] setCommander idsToApply {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  names: [ 'Myrel, Shield of Argive' ],
  idsToApply: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b' ]
}
[commander-socket] Calling game.setCommander for player p_ozn5ema5 with names: [ 'Myrel, Shield of Argive' ] ids: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b' ]
[setCommander] Initialized inCommandZone for p_ozn5ema5: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b' ]
[setCommander] Library size before commander removal: 23, Commander IDs to remove: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b' ]
[setCommander] Found commander "Myrel, Shield of Argive" (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 23
[setCommander] Removed card at index 0: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b)
[setCommander] Library size after removal: 22
[setCommander] Updated zones[p_ozn5ema5].libraryCount to 22
[commander] Persisted opening draw events (shuffle + draw 7) for player p_ozn5ema5
[DEBUG_CMD] after setCommander {
  gameId: 'game_mjwmkor2',
  playerId: 'p_ozn5ema5',
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmqsw4_1_62aa072b' ],
  commanderNames: [ 'Myrel, Shield of Argive' ],
  libraryCount: 15,
  libraryTop: null
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:46:36.376Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343596376_mteux) ==========
2026-01-02T08:46:36.376Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: pre_game, Step: undefined
2026-01-02T08:46:36.376Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343596376_mteux)
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:46:49.024Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343609024_0yem0) ==========
2026-01-02T08:46:49.024Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: pre_game, Step: undefined
2026-01-02T08:46:49.024Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343609024_0yem0)
[skipToPhase] request from player=p_ozn5ema5 game=game_mjwmkor2 turnPlayer=p_ozn5ema5 currentPhase=pre_game currentStep= targetPhase=precombatMain targetStep=MAIN1
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[skipToPhase] Drew 1 card(s) for p_ozn5ema5 (skipped from  to MAIN1, additional: 0)
[skipToPhase] Reset priority tracking, priority set to p_ozn5ema5
[skipToPhase] Skipped to phase=precombatMain, step=MAIN1 for game game_mjwmkor2
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 8, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmqsw5_8_3250d775) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmqsw5_5_414a4903) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 2 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmqsw5_8_3250d775',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmqsw5_5_414a4903'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Checking hand with 8 cards
[canPlayLand] p_ozn5ema5: Sample cards in hand: [Arcane Signet(Artifact), Arcane Signet(Artifact), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_ozn5ema5: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_ozn5ema5: Turn player in main phase can play land - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:46:53.937Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343613937_bib77) ==========
2026-01-02T08:46:53.937Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:46:53.937Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343613937_bib77)
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[playLand] Player p_ozn5ema5 has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:46:55.651Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343615651_me7ef) ==========
2026-01-02T08:46:55.651Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:46:55.651Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343615651_me7ef)
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:46:55.654Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343615654_21vw5) ==========
2026-01-02T08:46:55.654Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:46:55.654Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343615654_21vw5)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343617980
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343617980
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Sol Ring: [ { permanentId: 'perm_5813xt8d', mana: 'W', count: 1 } ]
[castSpellFromHand] Added 1 W mana to p_ozn5ema5's pool from Plains
[castSpellFromHand] Consumed 1 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Sol Ring
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343621593
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343621593
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28_1767343630326
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28_1767343630326
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28_1767343645015
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28_1767343645015
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: 89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] Emitted targetSelectionRequest for Bandage (effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343676167, 1 valid targets)
[requestCastSpell] ======== REQUEST END (waiting for targets) ========
[targetSelectionConfirm] ======== CONFIRM START ========
[targetSelectionConfirm] gameId: game_mjwmkor2, effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343676167
[targetSelectionConfirm] selectedTargetIds: undefined
[targetSelectionConfirm] targets: ["p_ozn5ema5"]
[targetSelectionConfirm] playerId: p_ozn5ema5
[targetSelectionConfirm] Validated targetIds: p_ozn5ema5
[targetSelectionConfirm] Stored targets in pendingTargets[cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343676167]
[targetSelectionConfirm] Targets selected for Bandage, now requesting payment
[targetSelectionConfirm] Storing targets in pendingCast.targets: p_ozn5ema5
[targetSelectionConfirm] Emitted paymentRequired to p_ozn5ema5
[targetSelectionConfirm] ======== CONFIRM END (waiting for payment) ========
[targetSelectionConfirm] Player p_ozn5ema5 selected targets: [ 'p_ozn5ema5' ]
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:48:00.206Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343680206_h88gl) ==========
2026-01-02T08:48:00.206Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:00.206Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343680206_h88gl)
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5, effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343676167
[completeCastSpell] targets from client: ["p_ozn5ema5"]
[completeCastSpell] payment from client: undefined
[completeCastSpell] Found pendingCast: {
  "cardId": "89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5",
  "cardName": "Bandage",
  "manaCost": "{W}",
  "playerId": "p_ozn5ema5",
  "validTargetIds": [
    "p_ozn5ema5"
  ],
  "card": {
    "id": "89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5",
    "name": "Bandage",
    "type_line": "Instant",
    "oracle_text": "Prevent the next 1 damage that would be dealt to any target this turn.\nDraw a card.",
    "image_uris": {
      "small": "https://cards.scryfall.io/small/front/8/9/89dbe086-4c03-448f-a346-49bc08d02705.jpg?1562430336",
      "normal": "https://cards.scryfall.io/normal/front/8/9/89dbe086-4c03-448f-a346-49bc08d02705.jpg?1562430336",
      "art_crop": "https://cards.scryfall.io/art_crop/front/8/9/89dbe086-4c03-448f-a346-49bc08d02705.jpg?1562430336"
    },
    "mana_cost": "{W}",
    "layout": "normal",
    "zone": "library"
  },
  "targets": [
    "p_ozn5ema5"
  ]
}
[completeCastSpell] Using pending targets from server: p_ozn5ema5
[completeCastSpell] Cleaning up pendingTargets for effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343676167
[completeCastSpell] Final targets to use: p_ozn5ema5
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5
[handleCastSpellFromHand] targets: ["p_ozn5ema5"]
[handleCastSpellFromHand] payment: undefined
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Bandage: spellSpec=true, targetReqs=true, needsTargetSelection=false, hasTargets=true
[handleCastSpellFromHand] ======== DEBUG END ========
2026-01-02T08:48:08.067Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:08.067Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:08.067Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T08:48:08.067Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:08.067Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:48:08.068Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:48:08.068Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_ozn5ema5: 0
2026-01-02T08:48:08.068Z [nextStep] Granting priority to active player p_ozn5ema5 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_ozn5ema5: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:08.069Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:08.069Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:08.069Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:08.069Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:08.069Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:48:08.075Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:08.075Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:08.075Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T08:48:08.075Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:08.075Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:48:08.075Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T08:48:08.075Z [nextStep] Granting priority to active player p_ozn5ema5 (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_ozn5ema5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:08.075Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:08.075Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:08.075Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:08.075Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:08.075Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:48:08.076Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343688076_htruw) ==========
2026-01-02T08:48:08.076Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-02T08:48:08.076Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343688076_htruw)
2026-01-02T08:48:08.084Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:08.084Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:08.084Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T08:48:08.084Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:08.084Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:48:08.084Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T08:48:08.084Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T08:48:08.084Z [nextStep] Granting priority to active player p_ozn5ema5 (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_ozn5ema5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:08.084Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:08.084Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:08.084Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:08.084Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:08.084Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:48:08.085Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343688085_4fz2g) ==========
2026-01-02T08:48:08.085Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-02T08:48:08.085Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343688085_4fz2g)
2026-01-02T08:48:09.969Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:09.969Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:09.969Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T08:48:09.969Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:09.969Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:48:09.969Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T08:48:09.969Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T08:48:09.970Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T08:48:09.970Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T08:48:09.970Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T08:48:09.970Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T08:48:09.970Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T08:48:09.970Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T08:48:09.970Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T08:48:09.970Z [nextStep] Granting priority to active player p_ozn5ema5 (step: DAMAGE, stack size: 0)
[canAct] p_ozn5ema5: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:09.971Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:09.971Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:09.971Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:09.971Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:09.971Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:48:09.971Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:09.971Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:09.971Z [nextStep] Current: combat/DAMAGE
2026-01-02T08:48:09.971Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:09.971Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:48:09.971Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T08:48:09.971Z [nextStep] Granting priority to active player p_ozn5ema5 (step: END_COMBAT, stack size: 0)
[canAct] p_ozn5ema5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:09.971Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:09.971Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:09.971Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:09.971Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:09.971Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:48:09.972Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343689972_1ivch) ==========
2026-01-02T08:48:09.972Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: combat, Step: END_COMBAT
2026-01-02T08:48:09.972Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343689972_1ivch)
2026-01-02T08:48:10.635Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:10.635Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:10.635Z [nextStep] Current: combat/END_COMBAT
2026-01-02T08:48:10.635Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:10.635Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:48:10.635Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:48:10.635Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T08:48:10.635Z [nextStep] Granting priority to active player p_ozn5ema5 (step: MAIN2, stack size: 0)
[canAct] p_ozn5ema5: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:10.636Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:10.636Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:10.636Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:10.636Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:10.636Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:48:10.636Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:10.636Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:10.636Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T08:48:10.636Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:10.636Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:48:10.636Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:48:10.636Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T08:48:10.637Z [nextStep] Granting priority to active player p_ozn5ema5 (step: END, stack size: 0)
[canAct] p_ozn5ema5: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:48:10.637Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:10.637Z [nextStep]   Hand (7): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion
2026-01-02T08:48:10.637Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:48:10.637Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:10.637Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:48:10.638Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343690638_dihne) ==========
2026-01-02T08:48:10.638Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: ending, Step: END
2026-01-02T08:48:10.638Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343690638_dihne)
2026-01-02T08:48:11.723Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:11.723Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:11.724Z [nextStep] Current: ending/END
2026-01-02T08:48:11.724Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:11.724Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:48:11.724Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T08:48:11.724Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T08:48:11.724Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T08:48:11.725Z [untapPermanentsForPlayer] Player p_ozn5ema5: untapped 1, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T08:48:11.725Z [nextTurn] Cleared justSkippedToPhase flag for new turn
2026-01-02T08:48:11.725Z [nextTurn] Advanced to player p_ozn5ema5, phase=beginning, step=UPKEEP
2026-01-02T08:48:11.725Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:11.725Z [nextTurn] Auto-pass stopped at upkeep, player p_ozn5ema5 has priority
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:48:11.725Z [nextStep] ========== CALLED ==========
2026-01-02T08:48:11.725Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:48:11.726Z [nextStep] Current: beginning/UPKEEP
2026-01-02T08:48:11.726Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:48:11.726Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:48:11.726Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T08:48:11.726Z [nextStep] Drew 1 card(s) for p_ozn5ema5 at draw step (base: 1, additional: 0)
2026-01-02T08:48:11.726Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T08:48:11.726Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T08:48:11.726Z [nextStep] Granting priority to active player p_ozn5ema5 (step: MAIN1, stack size: 0)
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Checking hand with 8 cards
[canPlayLand] p_ozn5ema5: Sample cards in hand: [Arcane Signet(Artifact), Arcane Signet(Artifact), Sol Ring(Artifact)]
[canPlayLand] p_ozn5ema5: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_ozn5ema5: Turn player in main phase can play land - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
2026-01-02T08:48:11.726Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:48:11.726Z [nextStep]   Hand (8): Arcane Signet, Arcane Signet, Sol Ring, Bandage, Sol Ring, Plains, Elspeth, Sun's Champion, Elspeth, Sun's Champion
2026-01-02T08:48:11.726Z [nextStep]   canAct: true, canRespond: true
2026-01-02T08:48:11.726Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:48:11.726Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 8, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmqsw5_5_414a4903) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 4 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmqsw5_5_414a4903'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Checking hand with 8 cards
[canPlayLand] p_ozn5ema5: Sample cards in hand: [Arcane Signet(Artifact), Arcane Signet(Artifact), Sol Ring(Artifact)]
[canPlayLand] p_ozn5ema5: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_ozn5ema5: Turn player in main phase can play land - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:48:11.729Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343691729_b6l1p) ==========
2026-01-02T08:48:11.729Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:11.729Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343691729_b6l1p)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343695005
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343695005
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_5813xt8d","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Sol Ring: [ { permanentId: 'perm_5813xt8d', mana: 'W', count: 1 } ]
[castSpellFromHand] Added 1 W mana to p_ozn5ema5's pool from Plains
[castSpellFromHand] Consumed 1 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Sol Ring
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[playLand] Player p_ozn5ema5 has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:48:19.569Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343699569_26cne) ==========
2026-01-02T08:48:19.569Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:19.569Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343699569_26cne)
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:48:19.571Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343699571_3sleb) ==========
2026-01-02T08:48:19.571Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:19.571Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343699571_3sleb)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Arcane Signet
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763, effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763_1767343702139
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763_1767343702139
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Arcane Signet: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Arcane Signet
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[targetSelectionCancel] Player p_ozn5ema5 cancelled target selection for effect cast_3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763_1767343712860
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:48:34.326Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343714326_8ys3g) ==========
2026-01-02T08:48:34.326Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:34.326Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343714326_8ys3g)
[shuffleHand] Shuffled hand for player p_ozn5ema5 in game game_mjwmkor2
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:48:43.077Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343723077_70yxe) ==========
2026-01-02T08:48:43.077Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:43.077Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343723077_70yxe)
[reorderHand] Received request for game game_mjwmkor2 , order length: 7
[reorderHand] playerId: p_ozn5ema5 , spectator: false , game exists: true
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[reorderHand] Current hand length: 7 , order length: 7
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:48:45.398Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343725398_mq3jk) ==========
2026-01-02T08:48:45.398Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:45.398Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343725398_mq3jk)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343726223
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343726223
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Sol Ring: [ { permanentId: 'perm_6cmmzu1f', mana: 'W', count: 1 } ]
[castSpellFromHand] Added 1 W mana to p_ozn5ema5's pool from Plains
[castSpellFromHand] Consumed 1 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Sol Ring
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343728004
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5_1767343728004
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: 89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] Emitted targetSelectionRequest for Bandage (effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343732216, 1 valid targets)
[requestCastSpell] ======== REQUEST END (waiting for targets) ========
[targetSelectionConfirm] ======== CONFIRM START ========
[targetSelectionConfirm] gameId: game_mjwmkor2, effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343732216
[targetSelectionConfirm] selectedTargetIds: undefined
[targetSelectionConfirm] targets: ["p_ozn5ema5"]
[targetSelectionConfirm] playerId: p_ozn5ema5
[targetSelectionConfirm] Validated targetIds: p_ozn5ema5
[targetSelectionConfirm] Stored targets in pendingTargets[cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343732216]
[targetSelectionConfirm] Targets selected for Bandage, now requesting payment
[targetSelectionConfirm] Storing targets in pendingCast.targets: p_ozn5ema5
[targetSelectionConfirm] Emitted paymentRequired to p_ozn5ema5
[targetSelectionConfirm] ======== CONFIRM END (waiting for payment) ========
[targetSelectionConfirm] Player p_ozn5ema5 selected targets: [ 'p_ozn5ema5' ]
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:48:54.237Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343734237_xko8g) ==========
2026-01-02T08:48:54.237Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:48:54.237Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343734237_xko8g)
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5, effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343732216
[completeCastSpell] targets from client: ["p_ozn5ema5"]
[completeCastSpell] payment from client: undefined
[completeCastSpell] Found pendingCast: {
  "cardId": "89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5",
  "cardName": "Bandage",
  "manaCost": "{W}",
  "playerId": "p_ozn5ema5",
  "validTargetIds": [
    "p_ozn5ema5"
  ],
  "card": {
    "id": "89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5",
    "name": "Bandage",
    "type_line": "Instant",
    "oracle_text": "Prevent the next 1 damage that would be dealt to any target this turn.\nDraw a card.",
    "image_uris": {
      "small": "https://cards.scryfall.io/small/front/8/9/89dbe086-4c03-448f-a346-49bc08d02705.jpg?1562430336",
      "normal": "https://cards.scryfall.io/normal/front/8/9/89dbe086-4c03-448f-a346-49bc08d02705.jpg?1562430336",
      "art_crop": "https://cards.scryfall.io/art_crop/front/8/9/89dbe086-4c03-448f-a346-49bc08d02705.jpg?1562430336"
    },
    "mana_cost": "{W}",
    "layout": "normal",
    "zone": "library"
  },
  "targets": [
    "p_ozn5ema5"
  ]
}
[completeCastSpell] Using pending targets from server: p_ozn5ema5
[completeCastSpell] Cleaning up pendingTargets for effectId: cast_89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5_1767343732216
[completeCastSpell] Final targets to use: p_ozn5ema5
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5
[handleCastSpellFromHand] targets: ["p_ozn5ema5"]
[handleCastSpellFromHand] payment: undefined
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Bandage: spellSpec=true, targetReqs=true, needsTargetSelection=false, hasTargets=true
[handleCastSpellFromHand] ======== DEBUG END ========
2026-01-02T08:49:01.134Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:01.134Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:01.134Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T08:49:01.134Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:01.134Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:49:01.134Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:49:01.134Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_ozn5ema5: 0
2026-01-02T08:49:01.134Z [nextStep] Granting priority to active player p_ozn5ema5 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_ozn5ema5: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:01.134Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:01.134Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:01.135Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:01.135Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:01.135Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:49:01.135Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:01.135Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:01.135Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T08:49:01.135Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:01.135Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:49:01.135Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T08:49:01.135Z [nextStep] Granting priority to active player p_ozn5ema5 (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_ozn5ema5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:01.135Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:01.135Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:01.135Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:01.135Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:01.135Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:01.136Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343741136_5kcqc) ==========
2026-01-02T08:49:01.136Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-02T08:49:01.136Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343741136_5kcqc)
2026-01-02T08:49:01.139Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:01.139Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:01.139Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T08:49:01.139Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:01.139Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:49:01.139Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T08:49:01.139Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T08:49:01.139Z [nextStep] Granting priority to active player p_ozn5ema5 (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_ozn5ema5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:01.139Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:01.139Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:01.139Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:01.139Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:01.139Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:01.140Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343741140_t6z6u) ==========
2026-01-02T08:49:01.140Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-02T08:49:01.140Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343741140_t6z6u)
2026-01-02T08:49:02.475Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:02.475Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:02.475Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T08:49:02.475Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:02.475Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:49:02.475Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T08:49:02.475Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T08:49:02.475Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T08:49:02.475Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T08:49:02.475Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T08:49:02.475Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T08:49:02.475Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T08:49:02.475Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T08:49:02.475Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T08:49:02.475Z [nextStep] Granting priority to active player p_ozn5ema5 (step: DAMAGE, stack size: 0)
[canAct] p_ozn5ema5: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:02.475Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:02.475Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:02.475Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:02.475Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:02.475Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:49:02.475Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:02.475Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:02.475Z [nextStep] Current: combat/DAMAGE
2026-01-02T08:49:02.475Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:02.475Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:49:02.475Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T08:49:02.476Z [nextStep] Granting priority to active player p_ozn5ema5 (step: END_COMBAT, stack size: 0)
[canAct] p_ozn5ema5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:02.476Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:02.476Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:02.476Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:02.476Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:02.476Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:02.478Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343742478_cepzi) ==========
2026-01-02T08:49:02.478Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: combat, Step: END_COMBAT
2026-01-02T08:49:02.478Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343742478_cepzi)
2026-01-02T08:49:03.046Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:03.047Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:03.047Z [nextStep] Current: combat/END_COMBAT
2026-01-02T08:49:03.047Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:03.047Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:49:03.047Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:49:03.047Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T08:49:03.047Z [nextStep] Granting priority to active player p_ozn5ema5 (step: MAIN2, stack size: 0)
[canAct] p_ozn5ema5: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Already played max lands this turn (1/1)
[canAct] p_ozn5ema5: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:03.047Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:03.047Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:03.048Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:03.048Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:03.048Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:49:03.048Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:03.048Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:03.048Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T08:49:03.048Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:03.048Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:49:03.048Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:49:03.048Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T08:49:03.048Z [nextStep] Granting priority to active player p_ozn5ema5 (step: END, stack size: 0)
[canAct] p_ozn5ema5: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
2026-01-02T08:49:03.048Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:03.048Z [nextStep]   Hand (7): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring
2026-01-02T08:49:03.048Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:49:03.048Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:03.048Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Bandage not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_ozn5ema5: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_ozn5ema5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_ozn5ema5: No actions available - returning FALSE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:03.049Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343743049_xfh89) ==========
2026-01-02T08:49:03.049Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: ending, Step: END
2026-01-02T08:49:03.049Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343743049_xfh89)
2026-01-02T08:49:04.792Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:04.792Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:04.792Z [nextStep] Current: ending/END
2026-01-02T08:49:04.792Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:04.792Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4494:25)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:49:04.792Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T08:49:04.792Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T08:49:04.792Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T08:49:04.792Z [untapPermanentsForPlayer] Player p_ozn5ema5: untapped 2, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T08:49:04.792Z [nextTurn] Advanced to player p_ozn5ema5, phase=beginning, step=UPKEEP
2026-01-02T08:49:04.792Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:04.792Z [nextTurn] Auto-pass stopped at upkeep, player p_ozn5ema5 has priority
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[passPriority] All players passed priority - advanced to next step for game game_mjwmkor2
2026-01-02T08:49:04.793Z [nextStep] ========== CALLED ==========
2026-01-02T08:49:04.793Z [nextStep] Game: game_mjwmkor2
2026-01-02T08:49:04.793Z [nextStep] Current: beginning/UPKEEP
2026-01-02T08:49:04.793Z [nextStep] Priority: p_ozn5ema5, Turn: p_ozn5ema5
2026-01-02T08:49:04.793Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at Object.applyEvent (D:\Git\MTGEDH\server\src\state\index.ts:207:35)
        at appendGameEvent (D:\Git\MTGEDH\server\src\socket\util.ts:2076:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\game-actions.ts:4497:11)
2026-01-02T08:49:04.793Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T08:49:04.793Z [nextStep] Drew 1 card(s) for p_ozn5ema5 at draw step (base: 1, additional: 0)
2026-01-02T08:49:04.793Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T08:49:04.793Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T08:49:04.793Z [nextStep] Granting priority to active player p_ozn5ema5 (step: MAIN1, stack size: 0)
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Checking hand with 8 cards
[canPlayLand] p_ozn5ema5: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Arcane Signet(Artifact), Arcane Signet(Artifact)]
[canPlayLand] p_ozn5ema5: No lands found in hand of 8 cards - returning FALSE
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
2026-01-02T08:49:04.794Z [nextStep] DEBUG - Turn Player p_ozn5ema5:
2026-01-02T08:49:04.794Z [nextStep]   Hand (8): Elspeth, Sun's Champion, Arcane Signet, Arcane Signet, Elspeth, Sun's Champion, Bandage, Sol Ring, Sol Ring, Plunge into Winter
2026-01-02T08:49:04.794Z [nextStep]   canAct: true, canRespond: true
2026-01-02T08:49:04.794Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_ozn5ema5, autoPassEnabled: , currentPriority: p_ozn5ema5, turnPlayer: p_ozn5ema5
[priority] autoPassLoop - stopping at p_ozn5ema5: auto-pass not enabled
2026-01-02T08:49:04.794Z [nextStep] Auto-pass stopped, player p_ozn5ema5 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_ozn5ema5',
  stackLength: 0,
  stackItems: [],
  zones: { p_ozn5ema5: { handCount: 8, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_ozn5ema5, viewerId=p_ozn5ema5, match=true
[getPlayableCardIds] Player p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763) is playable
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Bandage (89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28) is playable
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 5 playable card(s): [
  '3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_g_050a8763',
  '3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c',
  '89dbe086-4c03-448f-a346-49bc08d02705_mjwmqsw5_l_4c7d9ef5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_a_ca2026e5',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmqsw5_c_8eddfa28'
]
[normalizeViewForEmit] getPlayableCardIds returned 5 cards
[normalizeViewForEmit] Set view.playableCards with 5 cards
[canAct] p_ozn5ema5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_ozn5ema5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_ozn5ema5: 1 lands per turn
[canPlayLand] p_ozn5ema5: Checking hand with 8 cards
[canPlayLand] p_ozn5ema5: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Arcane Signet(Artifact), Arcane Signet(Artifact)]
[canPlayLand] p_ozn5ema5: No lands found in hand of 8 cards - returning FALSE
[canAct] p_ozn5ema5: Can cast instant/flash spell - returning TRUE
[canRespond] p_ozn5ema5: checking instant-speed responses only
[canRespond] p_ozn5ema5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T08:49:04.796Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343744796_fpgli) ==========
2026-01-02T08:49:04.796Z [checkAndTriggerAutoPass] Priority: p_ozn5ema5, Phase: precombatMain, Step: MAIN1
2026-01-02T08:49:04.796Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_ozn5ema5, returning (ID: autopass_1767343744796_fpgli)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: fe4aceba-f386-457c-bc68-6382eda46754_mjwmqsw5_m_111b1e56, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmkor2, cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c, faceIndex: undefined
[requestCastSpell] playerId: p_ozn5ema5, priority: p_ozn5ema5
[requestCastSpell] No targets needed, emitted paymentRequired for Arcane Signet
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c, effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c_1767343759382
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_5813xt8d","mana":"W","count":1},{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c_1767343759382
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwmqsw5_f_d526155c
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_5813xt8d","mana":"W","count":1},{"permanentId":"perm_6cmmzu1f","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_ozn5ema5
[handleCastSpellFromHand] priority: p_ozn5ema5
[handleCastSpellFromHand] Arcane Signet: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Arcane Signet: [
  { permanentId: 'perm_5813xt8d', mana: 'W', count: 1 },
  { permanentId: 'perm_6cmmzu1f', mana: 'W', count: 1 }
]
[castSpellFromHand] Added 1 W mana to p_ozn5ema5's pool from Plains
[castSpellFromHand] Added 1 W mana to p_ozn5ema5's pool from Plains
[castSpellFromHand] Consumed 2 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Arcane Signet
Socket disconnected: COOHbo_V5KjZSUyZAAAB. Reason: transport close
Socket connected: r1DCE5kY6bHF86nMAAAD
[socket] deleteGame requested {
  gameId: 'game_mjwmkor2',
  bySocket: 'r1DCE5kY6bHF86nMAAAD',
  socketPlayerId: undefined,
  claimedPlayerId: undefined,
  resolvedPlayerId: undefined,
  isCreator: false,
  activePlayerCount: 0,
  noActivePlayers: true
}
[socket] GameManager.deleteGame { gameId: 'game_mjwmkor2', removed: true }
[socket] legacy games Map delete { gameId: 'game_mjwmkor2' }
[socket] deleteGameFromDb { gameId: 'game_mjwmkor2', dbOk: true }
[Game] Creating game without AI: { gameId: 'game_mjwmupme', format: 'commander', startingLife: 40 }
[GameManager] Created game game_mjwmupme using full rules engine (createInitialGameState)
[DB] Running insert: INSERT OR IGNORE INTO games (game_id, format, starting_life, created_at, created_by_socket_id, created_by_player_id) VALUES (?, ?, ?, ?, ?, ?)
[DB] Params: {
  gameId: 'game_mjwmupme',
  format: 'commander',
  startingLife: 40,
  now: 1767343778684,
  createdBySocketId: undefined,
  createdByPlayerId: undefined
}
[DB] Running update: UPDATE games SET format = ?, starting_life = ? WHERE game_id = ?
[DB] Params: { format: 'commander', startingLife: 40, gameId: 'game_mjwmupme' }
[Game] Created new game via GameManager: game_mjwmupme
[Game] Game created successfully: { gameId: 'game_mjwmupme', format: 'commander', startingLife: 40 }
[DB] Running insert: INSERT OR IGNORE INTO games (game_id, format, starting_life, created_at, created_by_socket_id, created_by_player_id) VALUES (?, ?, ?, ?, ?, ?)
[DB] Params: {
  gameId: 'game_mjwmupme',
  format: 'commander',
  startingLife: 40,
  now: 1767343778688,
  createdBySocketId: undefined,
  createdByPlayerId: undefined
}
[DB] Running update: UPDATE games SET format = ?, starting_life = ? WHERE game_id = ?
[DB] Params: { format: 'commander', startingLife: 40, gameId: 'game_mjwmupme' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 0, firstKnown: [] } }
}
[join] Set game creator for game_mjwmupme to player p_f8atnk1d
[Automation] Auto-pass for turn disabled for p_f8atnk1d in game game_mjwmupme
[Automation] Auto-pass for turn state in game game_mjwmupme: {}
[Automation] Auto-pass enabled for p_f8atnk1d in game game_mjwmupme
[Automation] Auto-pass players in game game_mjwmupme: [ 'p_f8atnk1d' ]
[Automation] Player p_f8atnk1d has priority - triggering auto-pass check
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:38.813Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343778813_pl3h5) ==========
2026-01-02T08:49:38.813Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:38.813Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343778813_pl3h5)
[deck] listSavedDecks called { gameId: 'game_mjwmupme', folder: undefined, playerId: 'p_f8atnk1d' }
[deck] canImportWithoutWipe {
  gameId: 'game_mjwmupme',
  phaseStr: 'PRE_GAME',
  seqVal: 3,
  isPreGame: true
}
[deck] importDeck called { gameId: 'game_mjwmupme', playerId: 'p_f8atnk1d' }
[deck] importDeck resolved cards {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  resolvedCount: 23,
  missingCount: 0,
  firstCard: {
    name: 'Myrel, Shield of Argive',
    id: 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2',
    type_line: 'Legendary Creature ΓÇö Human Soldier'
  },
  lastCard: {
    name: 'Plunge into Winter',
    id: 'fe4aceba-f386-457c-bc68-6382eda46754_mjwmuuv6_1a_ce236551',
    type_line: 'Instant'
  }
}
[deck] Validation result {
  gameId: 'game_mjwmupme',
  format: 'commander',
  illegalCount: 5,
  warningCount: 0
}
[deck] importDeck pregame-check {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  phaseStr: 'PRE_GAME',
  seqVal: 3,
  isPreGame: true
}
[deck] clearPlayerTransientZonesForImport { gameId: 'game_mjwmupme', playerId: 'p_f8atnk1d' }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  pendingInitialDrawSize: 1
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:43.363Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343783363_ye9bv) ==========
2026-01-02T08:49:43.363Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:43.363Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343783363_ye9bv)
[deck] importDeck (pre-game) emitting suggestCommanders {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  names: [ 'Myrel, Shield of Argive' ]
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  candidatesCount: 23
}
[import] applyConfirmedImport start {
  gameId: 'game_mjwmupme',
  initiator: 'p_f8atnk1d',
  cards: 23,
  importerOnly: true,
  confirmId: 'imp_1767343783362_4ykhx7'
}
[import] importer-only apply: skipping full reset { gameId: 'game_mjwmupme' }
[importDeckResolved] Importing 23 cards for player p_f8atnk1d
[importDeckResolved] Mapped 23 cards. First card: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2)
[importDeckResolved] Library set for player p_f8atnk1d. Final library size: 23
[import] importDeckResolved attempted { gameId: 'game_mjwmupme', playerId: 'p_f8atnk1d' }
[import] state.zones libraryCount update (no library array duplication) { gameId: 'game_mjwmupme', playerId: 'p_f8atnk1d', libraryCount: 23 }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  pendingInitialDrawSize: 1
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:43.566Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343783566_01ddr) ==========
2026-01-02T08:49:43.566Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:43.566Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343783566_01ddr)
[commander] emitImportedDeckCandidatesToPlayer {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  candidatesCount: 23
}
[commander] emitSuggestCommandersToPlayer {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] suggestCommanders emitted (importerSocket) {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] importApplied sent to player sockets { gameId: 'game_mjwmupme', playerId: 'p_f8atnk1d' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:43.567Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343783567_a6bmt) ==========
2026-01-02T08:49:43.567Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:43.567Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343783567_a6bmt)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:43.567Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343783567_shxk4) ==========
2026-01-02T08:49:43.567Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:43.567Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343783567_shxk4)
[import] applyConfirmedImport complete {
  gameId: 'game_mjwmupme',
  initiator: 'p_f8atnk1d',
  confirmId: 'imp_1767343783362_4ykhx7'
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  candidatesCount: 23
}
[commander] setCommander incoming {
  gameId: 'game_mjwmupme',
  from: 'p_f8atnk1d',
  commanderNames: [ 'Myrel, Shield of Argive' ],
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2' ]
}
[commander] setCommander idsToApply {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  names: [ 'Myrel, Shield of Argive' ],
  idsToApply: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2' ]
}
[commander-socket] Calling game.setCommander for player p_f8atnk1d with names: [ 'Myrel, Shield of Argive' ] ids: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2' ]
[setCommander] Initialized inCommandZone for p_f8atnk1d: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2' ]
[setCommander] Library size before commander removal: 23, Commander IDs to remove: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2' ]
[setCommander] Found commander "Myrel, Shield of Argive" (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 23
[setCommander] Removed card at index 0: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2)
[setCommander] Library size after removal: 22
[setCommander] Updated zones[p_f8atnk1d].libraryCount to 22
[commander] Persisted opening draw events (shuffle + draw 7) for player p_f8atnk1d
[DEBUG_CMD] after setCommander {
  gameId: 'game_mjwmupme',
  playerId: 'p_f8atnk1d',
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2' ],
  commanderNames: [ 'Myrel, Shield of Argive' ],
  libraryCount: 15,
  libraryTop: null
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:47.673Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343787673_ho86s) ==========
2026-01-02T08:49:47.673Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:47.673Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343787673_ho86s)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:51.636Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343791636_bs5pz) ==========
2026-01-02T08:49:51.636Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: pre_game, Step: undefined
2026-01-02T08:49:51.636Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767343791636_bs5pz)
[skipToPhase] request from player=p_f8atnk1d game=game_mjwmupme turnPlayer=p_f8atnk1d currentPhase=pre_game currentStep= targetPhase=precombatMain targetStep=MAIN1
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[skipToPhase] Drew 1 card(s) for p_f8atnk1d (skipped from  to MAIN1, additional: 0)
[skipToPhase] Reset priority tracking, priority set to p_f8atnk1d
[skipToPhase] Skipped to phase=precombatMain, step=MAIN1 for game game_mjwmupme
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 8, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_w_29bde5e9) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_p_10b4fd96) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_v_2799bd4d) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_w_29bde5e9',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_p_10b4fd96',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_v_2799bd4d'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 8 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact), Elspeth, Sun's Champion(Legendary Planeswalk)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:49:52.863Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343792863_kzldt) ==========
2026-01-02T08:49:52.863Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 8 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact), Elspeth, Sun's Champion(Legendary Planeswalk)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
2026-01-02T08:49:52.863Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343792863_kzldt)
2026-01-02T08:49:52.863Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343792863_kzldt)
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[playLand] Player p_f8atnk1d has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df) is playable
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:49:54.586Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343794586_h20i1) ==========
2026-01-02T08:49:54.586Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
2026-01-02T08:49:54.586Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343794586_h20i1)
2026-01-02T08:49:54.586Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343794586_h20i1)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df) is playable
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 3 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:49:54.587Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343794587_4jfux) ==========
2026-01-02T08:49:54.587Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
2026-01-02T08:49:54.587Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343794587_4jfux)
2026-01-02T08:49:54.587Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343794587_4jfux)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmupme, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df, faceIndex: undefined
[requestCastSpell] playerId: p_f8atnk1d, priority: p_f8atnk1d
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df_1767343797410
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_auw02z4d","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df_1767343797410
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_auw02z4d","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_f8atnk1d
[handleCastSpellFromHand] priority: p_f8atnk1d
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Sol Ring: [ { permanentId: 'perm_auw02z4d', mana: 'W', count: 1 } ]
[castSpellFromHand] Added 1 W mana to p_f8atnk1d's pool from Plains
[castSpellFromHand] Consumed 1 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Sol Ring
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_f8atnk1d cast Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_z_1336e3df) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: { p_f8atnk1d: { handCount: 6, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:49:58.295Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343798295_q8ee3) ==========
2026-01-02T08:49:58.295Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:49:58.295Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343798295_q8ee3)
2026-01-02T08:49:58.295Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343798295_q8ee3)
2026-01-02T08:49:58.295Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343798295_q8ee3)
2026-01-02T08:49:58.458Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343798295_q8ee3) ==========
2026-01-02T08:49:58.458Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:49:58.458Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343798295_q8ee3)
2026-01-02T08:49:58.458Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343798295_q8ee3)
2026-01-02T08:49:58.458Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343798295_q8ee3)
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] autoPassLoop - stopping at p_f8atnk1d: reached phase navigator target at MAIN1
2026-01-02T08:49:58.458Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767343798295_q8ee3)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_f8atnk1d
[resolveTopOfStack] Permanent Sol Ring entered battlefield under p_f8atnk1d
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T08:49:58.465Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343798295_q8ee3)
2026-01-02T08:49:58.465Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343798295_q8ee3)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9) is playable
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 2 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:49:58.467Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343798467_0gq7y) ==========
2026-01-02T08:49:58.467Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
2026-01-02T08:49:58.467Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343798467_0gq7y)
2026-01-02T08:49:58.467Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343798467_0gq7y)
2026-01-02T08:49:58.467Z [executeAutoPass] Broadcast complete (ID: autopass_1767343798295_q8ee3)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmupme, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9, faceIndex: undefined
[requestCastSpell] playerId: p_f8atnk1d, priority: p_f8atnk1d
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9_1767343799814
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_rtfgcj78","mana":"C","count":2}]
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9_1767343799814
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_rtfgcj78","mana":"C","count":2}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_f8atnk1d
[handleCastSpellFromHand] priority: p_f8atnk1d
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Sol Ring: [ { permanentId: 'perm_rtfgcj78', mana: 'C', count: 2 } ]
[castSpellFromHand] Added 2 C mana to p_f8atnk1d's pool from Sol Ring
[castSpellFromHand] Consumed 1 colorless mana for generic cost
[castSpellFromHand] Unspent mana remaining in pool: 1 colorless
[castSpellFromHand] Player p_f8atnk1d cast Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_x_cc0b5aa9) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: { p_f8atnk1d: { handCount: 5, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:00.875Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343800875_rraax) ==========
2026-01-02T08:50:00.875Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:00.875Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343800875_rraax)
2026-01-02T08:50:00.875Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343800875_rraax)
2026-01-02T08:50:00.875Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343800875_rraax)
2026-01-02T08:50:01.028Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343800875_rraax) ==========
2026-01-02T08:50:01.028Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:01.029Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343800875_rraax)
2026-01-02T08:50:01.029Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343800875_rraax)
2026-01-02T08:50:01.029Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343800875_rraax)
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:01.029Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767343800875_rraax)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_f8atnk1d
[resolveTopOfStack] Permanent Sol Ring entered battlefield under p_f8atnk1d
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T08:50:01.031Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343800875_rraax)
2026-01-02T08:50:01.031Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343800875_rraax)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e) is playable
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:50:01.033Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343801033_2d86z) ==========
2026-01-02T08:50:01.033Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: Can cast sorcery-speed spell - returning TRUE
2026-01-02T08:50:01.033Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343801033_2d86z)
2026-01-02T08:50:01.033Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343801033_2d86z)
2026-01-02T08:50:01.033Z [executeAutoPass] Broadcast complete (ID: autopass_1767343800875_rraax)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmupme, cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e, faceIndex: undefined
[requestCastSpell] playerId: p_f8atnk1d, priority: p_f8atnk1d
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e, effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e_1767343803240
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: undefined
[completeCastSpell] No pendingCast found for effectId: cast_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e_1767343803240
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: undefined
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_f8atnk1d
[handleCastSpellFromHand] priority: p_f8atnk1d
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Floating mana available in pool: 1 colorless
[castSpellFromHand] Consumed 1 colorless mana for generic cost
[castSpellFromHand] Player p_f8atnk1d cast Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwmuuv5_y_0b87fe6e) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.135Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804135_2hsdj) ==========
2026-01-02T08:50:04.135Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.135Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.135Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.135Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.292Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804135_2hsdj) ==========
2026-01-02T08:50:04.292Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.292Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.292Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.292Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804135_2hsdj)
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.292Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767343804135_2hsdj)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_f8atnk1d
[resolveTopOfStack] Permanent Sol Ring entered battlefield under p_f8atnk1d
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T08:50:04.293Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.293Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804135_2hsdj)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.294Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804294_mohkc) ==========
2026-01-02T08:50:04.294Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.295Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.295Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.295Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.295Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804135_2hsdj)
2026-01-02T08:50:04.446Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804294_mohkc) ==========
2026-01-02T08:50:04.446Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.447Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.447Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.447Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.447Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.447Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.447Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.447Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.447Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T08:50:04.447Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.447Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:04.447Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:50:04.447Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_f8atnk1d: 0
2026-01-02T08:50:04.447Z [nextStep] Granting priority to active player p_f8atnk1d (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.447Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.447Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.447Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.447Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.448Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:04.448Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.448Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804294_mohkc)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.449Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804449_cykp0) ==========
2026-01-02T08:50:04.449Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.449Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.449Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.449Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.449Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804294_mohkc)
2026-01-02T08:50:04.602Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804449_cykp0) ==========
2026-01-02T08:50:04.602Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.602Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.602Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.602Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.602Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.602Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.602Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.602Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.603Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T08:50:04.603Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.603Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:04.603Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T08:50:04.603Z [nextStep] Granting priority to active player p_f8atnk1d (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.603Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.603Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.603Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.603Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.603Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:04.603Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.603Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804449_cykp0)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.604Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804604_940gt) ==========
2026-01-02T08:50:04.604Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.604Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.604Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.604Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.604Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804449_cykp0)
2026-01-02T08:50:04.607Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.607Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.607Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T08:50:04.607Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.607Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:50:04.607Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T08:50:04.607Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T08:50:04.607Z [nextStep] Granting priority to active player p_f8atnk1d (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.607Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.607Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.607Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.607Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.607Z [nextStep] All players auto-passed after granting priority - caller should advance step
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.608Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804608_f4kti) ==========
2026-01-02T08:50:04.608Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.608Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.608Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.608Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.758Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804604_940gt) ==========
2026-01-02T08:50:04.758Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.758Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.758Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.758Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.758Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.758Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.759Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.759Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.759Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T08:50:04.759Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.759Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:04.759Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T08:50:04.759Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T08:50:04.759Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T08:50:04.759Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T08:50:04.759Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T08:50:04.759Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T08:50:04.759Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T08:50:04.759Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T08:50:04.759Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T08:50:04.759Z [nextStep] Granting priority to active player p_f8atnk1d (step: DAMAGE, stack size: 0)
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.759Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.759Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.759Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.759Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.759Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:04.759Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.759Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804604_940gt)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.760Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804760_xqzvc) ==========
2026-01-02T08:50:04.760Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: DAMAGE
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.760Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.760Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.760Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.760Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804604_940gt)
2026-01-02T08:50:04.760Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804608_f4kti) ==========
2026-01-02T08:50:04.760Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.761Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.761Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.761Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.761Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.761Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.761Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.761Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.761Z [nextStep] Current: combat/DAMAGE
2026-01-02T08:50:04.761Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.761Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:04.761Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T08:50:04.761Z [nextStep] Granting priority to active player p_f8atnk1d (step: END_COMBAT, stack size: 0)
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.761Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.761Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.761Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.761Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.761Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:04.761Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.761Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804608_f4kti)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.762Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804762_bkmir) ==========
2026-01-02T08:50:04.762Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: END_COMBAT
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.762Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.762Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.762Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.762Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804608_f4kti)
2026-01-02T08:50:04.914Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804760_xqzvc) ==========
2026-01-02T08:50:04.914Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.915Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.915Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.915Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.915Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.915Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.915Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.915Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.915Z [nextStep] Current: combat/END_COMBAT
2026-01-02T08:50:04.915Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.915Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:04.915Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:50:04.915Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T08:50:04.915Z [nextStep] Granting priority to active player p_f8atnk1d (step: MAIN2, stack size: 0)
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.916Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.916Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.916Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.916Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.916Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:04.916Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.916Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804760_xqzvc)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.917Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804917_29loe) ==========
2026-01-02T08:50:04.918Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: postcombatMain, Step: MAIN2
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.918Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:04.918Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:04.918Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:04.918Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804760_xqzvc)
2026-01-02T08:50:04.918Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804762_bkmir) ==========
2026-01-02T08:50:04.918Z [executeAutoPass] Phase: postcombatMain, Step: MAIN2
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.918Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.918Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.918Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.918Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.918Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.918Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:04.918Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:04.918Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T08:50:04.918Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:04.918Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:04.918Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:50:04.918Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T08:50:04.919Z [nextStep] Granting priority to active player p_f8atnk1d (step: END, stack size: 0)
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:04.919Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:04.919Z [nextStep]   Hand (4): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains
2026-01-02T08:50:04.919Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:04.919Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:04.919Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:04.919Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:04.919Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804762_bkmir)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:04.920Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343804920_3he3k) ==========
2026-01-02T08:50:04.920Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: ending, Step: END
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:04.920Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:04.920Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:04.920Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:04.920Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804762_bkmir)
2026-01-02T08:50:05.070Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804917_29loe) ==========
2026-01-02T08:50:05.070Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:05.070Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.070Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.070Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.070Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.071Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.071Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:05.071Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:05.071Z [nextStep] Current: ending/END
2026-01-02T08:50:05.071Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:05.071Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:05.071Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T08:50:05.071Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T08:50:05.071Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T08:50:05.071Z [untapPermanentsForPlayer] Player p_f8atnk1d: untapped 2, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T08:50:05.071Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T08:50:05.071Z [nextTurn] Advanced to player p_f8atnk1d, phase=beginning, step=UPKEEP
2026-01-02T08:50:05.071Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:05.072Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-02T08:50:05.072Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.072Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804917_29loe)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:05.073Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343805073_jlp0e) ==========
2026-01-02T08:50:05.073Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: beginning, Step: UPKEEP
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:05.073Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343805073_jlp0e)
2026-01-02T08:50:05.073Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343805073_jlp0e)
2026-01-02T08:50:05.073Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343805073_jlp0e)
2026-01-02T08:50:05.073Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804917_29loe)
2026-01-02T08:50:05.073Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343804920_3he3k) ==========
2026-01-02T08:50:05.073Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:05.074Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.074Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.074Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.074Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.074Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.074Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:05.074Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:05.074Z [nextStep] Current: beginning/UPKEEP
2026-01-02T08:50:05.074Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:05.074Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:05.074Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T08:50:05.074Z [nextStep] Drew 1 card(s) for p_f8atnk1d at draw step (base: 1, additional: 0)
2026-01-02T08:50:05.074Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T08:50:05.074Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T08:50:05.074Z [nextStep] Granting priority to active player p_f8atnk1d (step: MAIN1, stack size: 0)
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 5 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:05.074Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:05.074Z [nextStep]   Hand (5): Elspeth, Sun's Champion, Plunge into Winter, Plains, Plains, Plains
2026-01-02T08:50:05.074Z [nextStep]   canAct: true, canRespond: false
2026-01-02T08:50:05.074Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 5 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_f8atnk1d: active player can act
2026-01-02T08:50:05.075Z [nextStep] Auto-pass stopped, player p_f8atnk1d has priority
2026-01-02T08:50:05.075Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.075Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343804920_3he3k)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_p_10b4fd96) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_v_2799bd4d) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_r_6f6ba778) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2) is playable with cost {3}{W}
[getPlayableCardIds] Returning 4 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_p_10b4fd96',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_v_2799bd4d',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_r_6f6ba778',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 5 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:50:05.076Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343805076_yrrq3) ==========
2026-01-02T08:50:05.076Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 5 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
2026-01-02T08:50:05.076Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343805076_yrrq3)
2026-01-02T08:50:05.076Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343805076_yrrq3)
2026-01-02T08:50:05.076Z [executeAutoPass] Broadcast complete (ID: autopass_1767343804920_3he3k)
2026-01-02T08:50:05.225Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343805073_jlp0e) ==========
2026-01-02T08:50:05.225Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 5 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Elspeth, Sun's Champion(Legendary Planeswalk), Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
2026-01-02T08:50:05.225Z [executeAutoPass] Re-check: p_f8atnk1d canAct=true (ID: autopass_1767343805073_jlp0e)
2026-01-02T08:50:05.225Z [executeAutoPass] Player p_f8atnk1d CAN NOW ACT - canceling auto-pass (ID: autopass_1767343805073_jlp0e)
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[playLand] Player p_f8atnk1d has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion (46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97) is playable
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2) is playable with cost {3}{W}
[getPlayableCardIds] Returning 2 playable card(s): [
  '46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_f8atnk1d: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_f8atnk1d: Can cast commander from command zone - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:50:06.514Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343806514_k11k0) ==========
2026-01-02T08:50:06.514Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_f8atnk1d: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_f8atnk1d: Can cast commander from command zone - returning TRUE
2026-01-02T08:50:06.515Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343806514_k11k0)
2026-01-02T08:50:06.515Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343806514_k11k0)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Elspeth, Sun's Champion (46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97) is playable
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2) is playable with cost {3}{W}
[getPlayableCardIds] Returning 2 playable card(s): [
  '46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_f8atnk1d: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_f8atnk1d: Can cast commander from command zone - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:50:06.516Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343806516_hbq88) ==========
2026-01-02T08:50:06.516Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_f8atnk1d: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_f8atnk1d: Can cast commander from command zone - returning TRUE
2026-01-02T08:50:06.516Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343806516_hbq88)
2026-01-02T08:50:06.516Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343806516_hbq88)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwmupme, cardId: 46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97, faceIndex: undefined
[requestCastSpell] playerId: p_f8atnk1d, priority: p_f8atnk1d
[requestCastSpell] No targets needed, emitted paymentRequired for Elspeth, Sun's Champion
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97, effectId: cast_46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97_1767343809496
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_auw02z4d","mana":"W","count":1},{"permanentId":"perm_bwh1jk9h","mana":"W","count":1},{"permanentId":"perm_rtfgcj78","mana":"C","count":2},{"permanentId":"perm_ttm5g47j","mana":"C","count":2}]
[completeCastSpell] No pendingCast found for effectId: cast_46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97_1767343809496
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_auw02z4d","mana":"W","count":1},{"permanentId":"perm_bwh1jk9h","mana":"W","count":1},{"permanentId":"perm_rtfgcj78","mana":"C","count":2},{"permanentId":"perm_ttm5g47j","mana":"C","count":2}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_f8atnk1d
[handleCastSpellFromHand] priority: p_f8atnk1d
[handleCastSpellFromHand] Elspeth, Sun's Champion: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Elspeth, Sun's Champion: [
  { permanentId: 'perm_auw02z4d', mana: 'W', count: 1 },
  { permanentId: 'perm_bwh1jk9h', mana: 'W', count: 1 },
  { permanentId: 'perm_rtfgcj78', mana: 'C', count: 2 },
  { permanentId: 'perm_ttm5g47j', mana: 'C', count: 2 }
]
[castSpellFromHand] Added 1 W mana to p_f8atnk1d's pool from Plains
[castSpellFromHand] Added 1 W mana to p_f8atnk1d's pool from Plains
[castSpellFromHand] Added 2 C mana to p_f8atnk1d's pool from Sol Ring
[castSpellFromHand] Added 2 C mana to p_f8atnk1d's pool from Sol Ring
[castSpellFromHand] Consumed 2 W mana from pool
[castSpellFromHand] Consumed 4 colorless mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Elspeth, Sun's Champion
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_f8atnk1d cast Elspeth, Sun's Champion (46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_15_7df18c97) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 1,
  stackItems: [ "Elspeth, Sun's Champion" ],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:17.947Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343817947_g7fn1) ==========
2026-01-02T08:50:17.948Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:17.948Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:17.948Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:17.948Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:18.106Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343817947_g7fn1) ==========
2026-01-02T08:50:18.106Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.106Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:18.106Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:18.106Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343817947_g7fn1)
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.106Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767343817947_g7fn1)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_f8atnk1d
[PLANESWALKER DEBUG] Elspeth, Sun's Champion entering battlefield: {
  loyalty: undefined,
  baseLoyalty: 0,
  counters: undefined,
  hasOracleText: true,
  oracleTextLength: 180
}
[resolveTopOfStack] Permanent Elspeth, Sun's Champion entered battlefield under p_f8atnk1d
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T08:50:18.112Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:18.112Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343817947_g7fn1)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.115Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818115_3387k) ==========
2026-01-02T08:50:18.115Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.115Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.115Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.115Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.115Z [executeAutoPass] Broadcast complete (ID: autopass_1767343817947_g7fn1)
2026-01-02T08:50:18.278Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818115_3387k) ==========
2026-01-02T08:50:18.278Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.278Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.278Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.278Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.278Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.278Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.279Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.279Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.279Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T08:50:18.279Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.279Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.279Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:50:18.279Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_f8atnk1d: 0
2026-01-02T08:50:18.279Z [nextStep] Granting priority to active player p_f8atnk1d (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.279Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.279Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.279Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.279Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.279Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:18.279Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.279Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818115_3387k)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.280Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818280_lpy27) ==========
2026-01-02T08:50:18.280Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.280Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.280Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.280Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.280Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818115_3387k)
2026-01-02T08:50:18.430Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818280_lpy27) ==========
2026-01-02T08:50:18.431Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_f8atnk1d: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.431Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.431Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.431Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.431Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.431Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.431Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.431Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.431Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T08:50:18.431Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.431Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.431Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T08:50:18.431Z [nextStep] Granting priority to active player p_f8atnk1d (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.432Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.432Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.432Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.432Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.432Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:18.432Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.432Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818280_lpy27)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.433Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818433_f0rof) ==========
2026-01-02T08:50:18.433Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_f8atnk1d: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.433Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.433Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.433Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.433Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818280_lpy27)
2026-01-02T08:50:18.436Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.436Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.436Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T08:50:18.436Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.436Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T08:50:18.436Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T08:50:18.436Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T08:50:18.436Z [nextStep] Granting priority to active player p_f8atnk1d (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.436Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.436Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.436Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.436Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.436Z [nextStep] All players auto-passed after granting priority - caller should advance step
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.437Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818437_mwnho) ==========
2026-01-02T08:50:18.437Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.437Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.437Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.437Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.586Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818433_f0rof) ==========
2026-01-02T08:50:18.586Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_f8atnk1d: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.586Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.586Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.586Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.586Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.587Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.587Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.587Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.587Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T08:50:18.587Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.587Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.587Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T08:50:18.587Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T08:50:18.587Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T08:50:18.587Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T08:50:18.587Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T08:50:18.587Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T08:50:18.587Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T08:50:18.587Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T08:50:18.587Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T08:50:18.587Z [nextStep] Granting priority to active player p_f8atnk1d (step: DAMAGE, stack size: 0)
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.587Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.587Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.587Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.587Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.587Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:18.587Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.587Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818433_f0rof)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.589Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818589_qwnpl) ==========
2026-01-02T08:50:18.589Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: DAMAGE
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.589Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.589Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.589Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.589Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818433_f0rof)
2026-01-02T08:50:18.592Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818437_mwnho) ==========
2026-01-02T08:50:18.592Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_f8atnk1d: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.592Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.592Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.592Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.592Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.592Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.592Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.592Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.592Z [nextStep] Current: combat/DAMAGE
2026-01-02T08:50:18.592Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.592Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.592Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T08:50:18.592Z [nextStep] Granting priority to active player p_f8atnk1d (step: END_COMBAT, stack size: 0)
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.592Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.592Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.592Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.592Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.593Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:18.593Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.593Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818437_mwnho)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.593Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818593_3bj7c) ==========
2026-01-02T08:50:18.593Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: combat, Step: END_COMBAT
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.593Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.593Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.593Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.593Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818437_mwnho)
2026-01-02T08:50:18.741Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818589_qwnpl) ==========
2026-01-02T08:50:18.741Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_f8atnk1d: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.741Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.741Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.741Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.741Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.742Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.742Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.742Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.742Z [nextStep] Current: combat/END_COMBAT
2026-01-02T08:50:18.742Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.742Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.742Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:50:18.742Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T08:50:18.742Z [nextStep] Granting priority to active player p_f8atnk1d (step: MAIN2, stack size: 0)
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.742Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.742Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.742Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.742Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.743Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:18.743Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.743Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818589_qwnpl)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.744Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818744_utkte) ==========
2026-01-02T08:50:18.744Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: postcombatMain, Step: MAIN2
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.744Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.744Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.744Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.744Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818589_qwnpl)
2026-01-02T08:50:18.747Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818593_3bj7c) ==========
2026-01-02T08:50:18.747Z [executeAutoPass] Phase: postcombatMain, Step: MAIN2
[canAct] p_f8atnk1d: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Already played max lands this turn (1/1)
[canAct] p_f8atnk1d: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.747Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.747Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.747Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.747Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.748Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.748Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.748Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.748Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T08:50:18.748Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.748Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.748Z [clearManaPool] Processed mana pools for all players
2026-01-02T08:50:18.748Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T08:50:18.748Z [nextStep] Granting priority to active player p_f8atnk1d (step: END, stack size: 0)
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.748Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.748Z [nextStep]   Hand (3): Plunge into Winter, Plains, Plains
2026-01-02T08:50:18.748Z [nextStep]   canAct: false, canRespond: false
2026-01-02T08:50:18.748Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.748Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T08:50:18.748Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.748Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818593_3bj7c)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.749Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818749_y8up5) ==========
2026-01-02T08:50:18.749Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: ending, Step: END
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.749Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.749Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.749Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.749Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818593_3bj7c)
2026-01-02T08:50:18.898Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818744_utkte) ==========
2026-01-02T08:50:18.898Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_f8atnk1d: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.898Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.898Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.898Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.898Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.898Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.898Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.898Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.898Z [nextStep] Current: ending/END
2026-01-02T08:50:18.898Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.898Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.898Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T08:50:18.898Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T08:50:18.899Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T08:50:18.899Z [untapPermanentsForPlayer] Player p_f8atnk1d: untapped 4, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T08:50:18.899Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T08:50:18.899Z [nextTurn] Advanced to player p_f8atnk1d, phase=beginning, step=UPKEEP
2026-01-02T08:50:18.899Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_f8atnk1d - no available actions
2026-01-02T08:50:18.899Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-02T08:50:18.899Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.899Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818744_utkte)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 3, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T08:50:18.901Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818901_fepwi) ==========
2026-01-02T08:50:18.901Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: beginning, Step: UPKEEP
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.901Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=false (ID: autopass_1767343818901_fepwi)
2026-01-02T08:50:18.901Z [checkAndTriggerAutoPass] p_f8atnk1d CANNOT ACT - proceeding with auto-pass (ID: autopass_1767343818901_fepwi)
2026-01-02T08:50:18.901Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_f8atnk1d with 150ms delay (ID: autopass_1767343818901_fepwi)
2026-01-02T08:50:18.901Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818744_utkte)
2026-01-02T08:50:18.904Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818749_y8up5) ==========
2026-01-02T08:50:18.904Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_f8atnk1d: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_f8atnk1d: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_f8atnk1d: No actions available - returning FALSE
2026-01-02T08:50:18.904Z [executeAutoPass] Re-check: p_f8atnk1d canAct=false (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.904Z [executeAutoPass] Proceeding with auto-pass for p_f8atnk1d (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.904Z [executeAutoPass] Set _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.904Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.904Z [executeAutoPass] Advancing step after auto-pass for p_f8atnk1d (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.904Z [nextStep] ========== CALLED ==========
2026-01-02T08:50:18.904Z [nextStep] Game: game_mjwmupme
2026-01-02T08:50:18.905Z [nextStep] Current: beginning/UPKEEP
2026-01-02T08:50:18.905Z [nextStep] Priority: p_f8atnk1d, Turn: p_f8atnk1d
2026-01-02T08:50:18.905Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T08:50:18.905Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T08:50:18.905Z [nextStep] Drew 1 card(s) for p_f8atnk1d at draw step (base: 1, additional: 0)
2026-01-02T08:50:18.905Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T08:50:18.905Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T08:50:18.905Z [nextStep] Granting priority to active player p_f8atnk1d (step: MAIN1, stack size: 0)
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 4 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
2026-01-02T08:50:18.905Z [nextStep] DEBUG - Turn Player p_f8atnk1d:
2026-01-02T08:50:18.905Z [nextStep]   Hand (4): Plunge into Winter, Plains, Plains, Elspeth, Sun's Champion
2026-01-02T08:50:18.905Z [nextStep]   canAct: true, canRespond: false
2026-01-02T08:50:18.905Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_f8atnk1d, autoPassEnabled: p_f8atnk1d, currentPriority: p_f8atnk1d, turnPlayer: p_f8atnk1d
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 4 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_f8atnk1d (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_f8atnk1d: active player can act
2026-01-02T08:50:18.905Z [nextStep] Auto-pass stopped, player p_f8atnk1d has priority
2026-01-02T08:50:18.905Z [executeAutoPass] Cleared _autoPassInProgress flag for p_f8atnk1d (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:18.905Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767343818749_y8up5)
[VIEW_FOR_DEBUG] {
  viewer: 'p_f8atnk1d',
  stackLength: 0,
  stackItems: [],
  zones: { p_f8atnk1d: { handCount: 4, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth, sun's champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "elspeth, sun's champion"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_f8atnk1d, viewerId=p_f8atnk1d, match=true
[getPlayableCardIds] Player p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Card Plunge into Winter blocked - no valid targets: No creatures on the battlefield
[getPlayableCardIds] Card Elspeth, Sun's Champion (46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_16_f98c0641) is playable
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_v_2799bd4d) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_r_6f6ba778) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2) is playable with cost {3}{W}
[getPlayableCardIds] Returning 4 playable card(s): [
  '46dc2519-2729-4bbd-8892-fab6186bf116_mjwmuuv6_16_f98c0641',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_v_2799bd4d',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwmuuv5_r_6f6ba778',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwmuuv5_o_94025db2'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 4 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
[canRespond] p_f8atnk1d: checking instant-speed responses only
[canRespond] p_f8atnk1d: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T08:50:18.906Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767343818906_mdf4w) ==========
2026-01-02T08:50:18.906Z [checkAndTriggerAutoPass] Priority: p_f8atnk1d, Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 4 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
2026-01-02T08:50:18.906Z [checkAndTriggerAutoPass] canAct check: p_f8atnk1d isActive=true canAct=true (ID: autopass_1767343818906_mdf4w)
2026-01-02T08:50:18.906Z [checkAndTriggerAutoPass] p_f8atnk1d CAN ACT - returning early, NO auto-pass (ID: autopass_1767343818906_mdf4w)
2026-01-02T08:50:18.906Z [executeAutoPass] Broadcast complete (ID: autopass_1767343818749_y8up5)
2026-01-02T08:50:19.054Z [executeAutoPass] ========== EXECUTING for p_f8atnk1d (ID: autopass_1767343818901_fepwi) ==========
2026-01-02T08:50:19.054Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_f8atnk1d: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_f8atnk1d, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_f8atnk1d: 1 lands per turn
[canPlayLand] p_f8atnk1d: Checking hand with 4 cards
[canPlayLand] p_f8atnk1d: Sample cards in hand: [Plunge into Winter(Instant), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_f8atnk1d: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_f8atnk1d: Turn player in main phase can play land - returning TRUE
2026-01-02T08:50:19.054Z [executeAutoPass] Re-check: p_f8atnk1d canAct=true (ID: autopass_1767343818901_fepwi)
2026-01-02T08:50:19.054Z [executeAutoPass] Player p_f8atnk1d CAN NOW ACT - canceling auto-pass (ID: autopass_1767343818901_fepwi)
