Game 1: 
[Resolution] AI handler initialized
mtgedh> [Resolution] Priority management handler initialized
[socket] deleteGame requested {
  gameId: 'game_mjnnpxsm',
  bySocket: 'bb1jT8KuZT0A5oZPAAAB',
  socketPlayerId: undefined,
  claimedPlayerId: undefined,
  resolvedPlayerId: undefined,
  isCreator: false,
  activePlayerCount: 0,
  noActivePlayers: true
}
[socket] GameManager.deleteGame { gameId: 'game_mjnnpxsm', removed: false }
[socket] deleteGameFromDb { gameId: 'game_mjnnpxsm', dbOk: true }
Socket disconnected: bb1jT8KuZT0A5oZPAAAB. Reason: transport close
[AI] Creating game with multiple AI opponents: {
  gameId: 'game_mjv21p6b',
  playerName: 'A2',
  aiCount: 2,
  aiNames: [ 'AI Opponent 1', 'AI Opponent 2' ],
  aiDifficulties: [ 0.5, 0.5 ]
}
[AI] Created new game via GameManager: game_mjv21p6b
[AI] AI player joined game via game.join(): { aiPlayerId: 'p_57gmrf4b', aiName: 'AI Opponent 1' }
[AI] Loading deck for AI Opponent 1: { deckId: 'deck_1764197085965_ohucj3', deckName: 'King Maker' }
[join] Set game creator for game_mjv21p6b to player p_n439b3yo
[AI] Deck imported for AI Opponent 1: {
  aiPlayerId: 'p_57gmrf4b',
  deckName: 'King Maker',
  resolvedCount: 100
}
[AI] Persisted deckImportResolved event for AI Opponent 1: { aiPlayerId: 'p_57gmrf4b', cardCount: 100 }
[AI] Added AI player to auto-pass set: { gameId: 'game_mjv21p6b', playerId: 'p_57gmrf4b' }
[AI] Registered AI player: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  name: 'AI Opponent 1',
  strategy: 'basic',
  difficulty: 0.5
}
[AI] AI player joined game via game.join(): { aiPlayerId: 'p_8iedhd2l', aiName: 'AI Opponent 2' }
[AI] Loading deck for AI Opponent 2: { deckId: 'deck_1764197024446_6ekrf1', deckName: 'Chatterfang' }
[AI] Deck imported for AI Opponent 2: {
  aiPlayerId: 'p_8iedhd2l',
  deckName: 'Chatterfang',
  resolvedCount: 100
}
[AI] Persisted deckImportResolved event for AI Opponent 2: { aiPlayerId: 'p_8iedhd2l', cardCount: 100 }
[AI] Added AI player to auto-pass set: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[AI] Registered AI player: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  name: 'AI Opponent 2',
  strategy: 'basic',
  difficulty: 0.5
}
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=0 libraryCount=100
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=0 libraryCount=100
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=0 libraryCount=100
[AI] Triggering auto-commander selection for: { gameId: 'game_mjv21p6b', aiPlayerId: 'p_57gmrf4b' }
[AI] Triggering auto-commander selection for: { gameId: 'game_mjv21p6b', aiPlayerId: 'p_8iedhd2l' }
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: true,
  hasPriority: true
}
[AI] AI needs to select commander
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: true,
  hasPriority: true
}
[AI] AI needs to select commander
[AI] autoSelectAICommander: found library with 100 cards
[AI] First cards in library: [{"name":"Kynaios and Tiro of Meletis","type":"Legendary Creature ΓÇö Human Soldier","colors":[]},{"name":"Arcane Denial","type":"Instant","colors":[]},{"name":"Azorius Chancery","type":"Land","colors":[]}]
[AI] Deck color identity: WURG
[AI] Selected single commander from first card (exact identity match): Kynaios and Tiro of Meletis
[AI] Auto-selecting commander for AI: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  commanderNames: [ 'Kynaios and Tiro of Meletis' ],
  commanderIds: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_d047a2261e86f058' ],
  colorIdentity: [ 'W', 'U', 'R', 'G' ]
}
[setCommander] Initialized inCommandZone for p_57gmrf4b: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_d047a2261e86f058' ]
[AI] After setCommander - hand count: 7
[AI] Persisted opening draw events (shuffle + draw) for player p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] Commander set for AI player: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  commanderNames: [ 'Kynaios and Tiro of Meletis' ],
  finalHandCount: 7
}
[AI] Commander selection complete, continuing game flow
[AI] autoSelectAICommander: player already has commander, skipping {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  commanderIds: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_d047a2261e86f058' ]
}
[AI] Commander selection complete, continuing game flow
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjv21p6b', playerId: 'p_57gmrf4b' }
[AI] Mulligan analysis: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  handSize: 7,
  currentMulligans: 0,
  effectiveHandSizeAfterMulligan: 7,
  landCount: 3,
  manaSourceCount: 0,
  totalManaProduction: 3,
  lowCostSpellCount: 4,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] Hand has good land count (3-5 lands), keeping
[AI] AI keeping hand
[AI] AI is ready to start game (hand kept)
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: false,
  hasPriority: false
}
[AI] AI needs to select commander
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] autoSelectAICommander: found library with 100 cards
[AI] First cards in library: [{"name":"Chatterfang, Squirrel General","type":"Legendary Creature ΓÇö Squirrel Warrior","colors":[]},{"name":"Deep Forest Hermit","type":"Creature ΓÇö Elf Druid","colors":[]},{"name":"Deranged Hermit","type":"Creature ΓÇö Elf","colors":[]}]
[AI] Deck color identity: GBW
[AI] Auto-selecting commander for AI: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  commanderNames: [ 'Chatterfang, Squirrel General' ],
  commanderIds: [ 'card_1785cf85-1ac0-4246-9b89-1a8221a8e1b2_b17919b1dd797146' ],
  colorIdentity: [ 'G', 'B' ]
}
[setCommander] Initialized inCommandZone for p_8iedhd2l: [ 'card_1785cf85-1ac0-4246-9b89-1a8221a8e1b2_b17919b1dd797146' ]
[AI] After setCommander - hand count: 7
node.exe : [AI] First commander identity [GB] does not match deck identity [GBW] - searching for better options
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Users\A2\AppData\Roaming\npm ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ([AI] First comm... better options:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

[AI] Persisted opening draw events (shuffle + draw) for player p_8iedhd2l
[AI] Selected single commander with closest match (score: 20, coverage: 2/3, extra colors: 0) [GB]: Chatterfang, Squirrel General - Deck identity [GBW]
[AI] Commander identity mismatch: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  commanders: 'Chatterfang, Squirrel General',
  commanderIdentity: 'GB',
  deckIdentity: 'GBW'
}
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] Commander set for AI player: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  commanderNames: [ 'Chatterfang, Squirrel General' ],
  finalHandCount: 7
}
[AI] Commander selection complete, continuing game flow
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[AI] Mulligan analysis: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  handSize: 7,
  currentMulligans: 0,
  effectiveHandSizeAfterMulligan: 7,
  landCount: 2,
  manaSourceCount: 1,
  totalManaProduction: 3,
  lowCostSpellCount: 5,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] 2 lands with mana acceleration, keeping
[AI] AI keeping hand
[AI] AI is ready to start game (hand kept)
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI has kept hand but is not active player, waiting
[deck] listSavedDecks called { gameId: 'game_mjv21p6b', folder: undefined, playerId: 'p_n439b3yo' }
[deck] canImportWithoutWipe {
  gameId: 'game_mjv21p6b',
  phaseStr: 'PRE_GAME',
  seqVal: 15,
  isPreGame: true
}
[deck] importDeck called { gameId: 'game_mjv21p6b', playerId: 'p_n439b3yo' }
[deck] importDeck resolved cards {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  resolvedCount: 100,
  missingCount: 0,
  firstCard: {
    name: 'Myrel, Shield of Argive',
    id: 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjvyy421_1_4e6f2fbd',
    type_line: 'Legendary Creature ΓÇö Human Soldier'
  },
  lastCard: {
    name: 'Plains',
    id: '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjvyy422_2s_9b230c13',
    type_line: 'Basic Land ΓÇö Plains'
  }
}
[deck] importDeck pregame-check {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  phaseStr: 'PRE_GAME',
  seqVal: 15,
  isPreGame: true
}
[deck] clearPlayerTransientZonesForImport { gameId: 'game_mjv21p6b', playerId: 'p_n439b3yo' }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  pendingInitialDrawSize: 1
}
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[deck] importDeck (pre-game) emitting suggestCommanders {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  names: [ 'Myrel, Shield of Argive' ]
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  candidatesCount: 100
}
[import] applyConfirmedImport start {
  gameId: 'game_mjv21p6b',
  initiator: 'p_n439b3yo',
  cards: 100,
  importerOnly: true,
  confirmId: 'imp_1767303624458_v47gzh'
}
[import] importer-only apply: skipping full reset { gameId: 'game_mjv21p6b' }
[import] importDeckResolved attempted { gameId: 'game_mjv21p6b', playerId: 'p_n439b3yo' }
[import] state.zones libraryCount update (no library array duplication) { gameId: 'game_mjv21p6b', playerId: 'p_n439b3yo', libraryCount: 100 }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  pendingInitialDrawSize: 1
}
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[commander] emitImportedDeckCandidatesToPlayer {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  candidatesCount: 100
}
[commander] emitSuggestCommandersToPlayer {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] suggestCommanders emitted (importerSocket) {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] importApplied sent to player sockets { gameId: 'game_mjv21p6b', playerId: 'p_n439b3yo' }
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[import] applyConfirmedImport complete {
  gameId: 'game_mjv21p6b',
  initiator: 'p_n439b3yo',
  confirmId: 'imp_1767303624458_v47gzh'
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  candidatesCount: 100
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[commander] setCommander incoming {
  gameId: 'game_mjv21p6b',
  from: 'p_n439b3yo',
  commanderNames: [ 'Myrel, Shield of Argive' ],
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjvyy421_1_4e6f2fbd' ]
}
[commander] setCommander idsToApply {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  names: [ 'Myrel, Shield of Argive' ],
  idsToApply: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjvyy421_1_4e6f2fbd' ]
}
[setCommander] Initialized inCommandZone for p_n439b3yo: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjvyy421_1_4e6f2fbd' ]
[commander] Persisted opening draw events (shuffle + draw 7) for player p_n439b3yo
[DEBUG_CMD] after setCommander {
  gameId: 'game_mjv21p6b',
  playerId: 'p_n439b3yo',
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjvyy421_1_4e6f2fbd' ],
  commanderNames: [ 'Myrel, Shield of Argive' ],
  libraryCount: 92,
  libraryTop: null
}
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] All players ready, AI advancing from pre_game to beginning phase
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Advanced game from pre_game to beginning phase via nextTurn
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[completeCastSpell] Final targets to use: none
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_n439b3yo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_8iedhd2l
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant)]
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_f3c4996094a150ca'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  cardName: 'Forest',
  permanentId: 'perm_422mzqtj'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Acorn Harvest: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Return of the Wildspeaker: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Zulaport Cutthroat: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Beastmaster Ascension: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Elvish Mystic: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_8iedhd2l
[AI] All players passed priority with empty stack, advancing step
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[canPlayLand] p_57gmrf4b: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Reliquary Tower(Land), Summary Dismissal(Instant)]
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canPlayLand] p_57gmrf4b: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Reliquary Tower(Land), Summary Dismissal(Instant)]
[canPlayLand] p_57gmrf4b: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Reliquary Tower(Land), Summary Dismissal(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=8 libraryCount=91
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Acorn Harvest: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Return of the Wildspeaker: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Zulaport Cutthroat: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Beastmaster Ascension: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Elvish Mystic: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[canPlayLand] p_57gmrf4b: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Reliquary Tower(Land), Summary Dismissal(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=8 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Mountain
[AI] Playing land: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  cardId: 'card_c44f81ca-f72f-445c-8901-3a894a2a47f9_670f616a80150eb9'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  cardName: 'Mountain',
  permanentId: 'perm_ch08g41u'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_57gmrf4b',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Summary Dismissal: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}',
  'Temple Bell: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Minds Aglow: need 1 mana (have 0), colors: {"W":0,"U":1,"B":0,"R":0,"G":0,"C":0}',
  'Fog: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Cultivate: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_57gmrf4b' }
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_57gmrf4b
[AI] All players passed priority with empty stack, advancing step
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_57gmrf4b
[canAct] p_57gmrf4b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n439b3yo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Summary Dismissal: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}',
  'Temple Bell: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Minds Aglow: need 1 mana (have 0), colors: {"W":0,"U":1,"B":0,"R":0,"G":0,"C":0}',
  'Fog: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Cultivate: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_57gmrf4b' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Summary Dismissal: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}',
  'Temple Bell: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Minds Aglow: need 1 mana (have 0), colors: {"W":0,"U":1,"B":0,"R":0,"G":0,"C":0}',
  'Fog: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Cultivate: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_57gmrf4b' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_57gmrf4b',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n439b3yo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Summary Dismissal: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}',
  'Temple Bell: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Minds Aglow: need 1 mana (have 0), colors: {"W":0,"U":1,"B":0,"R":0,"G":0,"C":0}',
  'Fog: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Cultivate: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_57gmrf4b' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_n439b3yo: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Cathars' Crusade(Enchantment), Plains(Basic Land ΓÇö Plains)]
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
2026-01-01T21:41:22.184Z [COMBAT_DAMAGE] Attacker: Esper Sentinel, blocked by 0 creatures: []
[KEYWORDS] Normalized keywords array: []
[KEYWORDS] Esper Sentinel ACTIVE ABILITIES: [none]
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_n439b3yo, turnPlayer: p_n439b3yo
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n439b3yo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_n439b3yo
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_8iedhd2l
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant), Fabled Passage(Land)]
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_8iedhd2l, turnPlayer: p_8iedhd2l
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant), Fabled Passage(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canPlayLand] p_8iedhd2l: Sample cards in hand: [Acorn Harvest(Sorcery), Return of the Wildspeaker(Instant), Fabled Passage(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Fabled Passage
[AI] Playing land: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  cardId: 'card_6a21ecc8-f6fd-4670-91d8-94b9ce94c2fe_7d0c76012a985f05'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8iedhd2l',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Fabled Passage - Activating Fabled Passage (value: 11)
[AI] Activating ability: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  cardName: 'Fabled Passage',
  permanentId: 'perm_jri3l86l'
}
[AI] Tapped permanent for ability: Fabled Passage
[AI] Added FETCH LAND ability to stack: Fabled Passage
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[canAct] p_8iedhd2l: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  cardName: 'Forest',
  permanentId: 'perm_422mzqtj'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Acorn Harvest: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Return of the Wildspeaker: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Zulaport Cutthroat: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Beastmaster Ascension: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Elvish Mystic: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[priority] autoPassLoop starting - active players: p_57gmrf4b, p_n439b3yo, p_8iedhd2l, autoPassEnabled: p_n439b3yo, p_57gmrf4b, p_8iedhd2l, currentPriority: p_57gmrf4b, turnPlayer: p_8iedhd2l
[AI] All players passed priority, resolving top of stack
[priority] Entering resolution mode - priority will return to p_8iedhd2l after resolution completes
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] Passing priority: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjv21p6b players=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] zones=[p_57gmrf4b,p_n439b3yo,p_8iedhd2l] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjv21p6b',
  playerId: 'p_8iedhd2l',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjv21p6b', playerId: 'p_8iedhd2l' }


Game 2:
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }
[priority] autoPassLoop starting - active players: p_d152njlc, p_c825bpwf, p_p013evux, autoPassEnabled: p_c825bpwf, p_d152njlc, p_p013evux, currentPriority: p_d152njlc, turnPlayer: p_p013evux
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_p013evux: Sample cards in hand: [Parallel Lives(Enchantment), Master of the Wild Hunt(Creature ΓÇö Human Sha), Phyrexian Altar(Artifact)]
[priority] autoPassLoop starting - active players: p_d152njlc, p_c825bpwf, p_p013evux, autoPassEnabled: p_c825bpwf, p_d152njlc, p_p013evux, currentPriority: p_p013evux, turnPlayer: p_p013evux
[canPlayLand] p_p013evux: Sample cards in hand: [Parallel Lives(Enchantment), Master of the Wild Hunt(Creature ΓÇö Human Sha), Phyrexian Altar(Artifact)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[canPlayLand] p_p013evux: Sample cards in hand: [Parallel Lives(Enchantment), Master of the Wild Hunt(Creature ΓÇö Human Sha), Phyrexian Altar(Artifact)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[AI] AI player checking priority: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_p013evux',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Fabled Passage
[AI] Playing land: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  cardId: 'card_6a21ecc8-f6fd-4670-91d8-94b9ce94c2fe_45b1541d9a7a9f0e'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[AI] handleAIGameFlow: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_p013evux',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_p013evux',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_p013evux',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Blighted Woodland - Activating Blighted Woodland (value: 13)
[AI] Activating ability: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  cardName: 'Blighted Woodland',
  permanentId: 'perm_f6skxfx4'
}
[AI] Tapped permanent for ability: Blighted Woodland
[AI] Tapped for mana ability (resolves immediately, not on stack): Blighted Woodland
[AI] Activating ability: Fabled Passage - Activating Fabled Passage (value: 11)
[AI] Activating ability: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  cardName: 'Fabled Passage',
  permanentId: 'perm_5dirgdou'
}
[AI] Tapped permanent for ability: Fabled Passage
[AI] Added FETCH LAND ability to stack: Fabled Passage
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[AI] Activating ability: Swamp - Activating Swamp (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  cardName: 'Swamp',
  permanentId: 'perm_k3dvk46q'
}
[AI] Tapped permanent for ability: Swamp
[AI] Tapped for mana ability (resolves immediately, not on stack): Swamp
[AI] AI player checking priority: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_p013evux',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }
[priority] autoPassLoop starting - active players: p_d152njlc, p_c825bpwf, p_p013evux, autoPassEnabled: p_c825bpwf, p_d152njlc, p_p013evux, currentPriority: p_d152njlc, turnPlayer: p_p013evux
[AI] All players passed priority, resolving top of stack
[priority] Entering resolution mode - priority will return to p_p013evux after resolution completes
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }
[AI] Passing priority: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjvz2e4s players=[p_d152njlc,p_c825bpwf,p_p013evux] zones=[p_d152njlc,p_c825bpwf,p_p013evux] handCount=9 libraryCount=85
[AI] handleAIGameFlow: {
  gameId: 'game_mjvz2e4s',
  playerId: 'p_p013evux',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjvz2e4s', playerId: 'p_p013evux' }





