[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 3, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_7_b62f9b89) is playable
[getPlayableCardIds] Returning 3 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_7_b62f9b89'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 3 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:10:54.979Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759054979_8op1c) ==========
2026-01-07T04:10:54.979Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 3 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:10:54.979Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759054979_8op1c)
2026-01-07T04:10:54.979Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759054979_8op1c)
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[playLand] Player p_feg6sfri has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:02.959Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759062959_0qqb1) ==========
2026-01-07T04:11:02.959Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:11:02.959Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759062959_0qqb1)
2026-01-07T04:11:02.959Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759062959_0qqb1)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:02.974Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759062974_xzem4) ==========
2026-01-07T04:11:02.974Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:11:02.975Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759062974_xzem4)
2026-01-07T04:11:02.975Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759062974_xzem4)
[activateBattlefieldAbility] Processing ability aa9e7f3c-e752-4cee-9e9d-fae38ba27dc9_mk3i1654_f_ddceec57-ability-0 on Arcane Signet
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:04.822Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759064822_6uxea) ==========
2026-01-07T04:11:04.822Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:11:04.822Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759064822_6uxea)
2026-01-07T04:11:04.822Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759064822_6uxea)
[activateBattlefieldAbility] Processing ability 3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_7_b62f9b89-mana-w-0 on Plains
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:05.474Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759065474_88w9s) ==========
2026-01-07T04:11:05.474Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:11:05.474Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759065474_88w9s)
2026-01-07T04:11:05.474Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759065474_88w9s)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:05.489Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759065489_05fsr) ==========
2026-01-07T04:11:05.489Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:11:05.489Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759065489_05fsr)
2026-01-07T04:11:05.489Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759065489_05fsr)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:12.029Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759072028_0v8kw) ==========
2026-01-07T04:11:12.029Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:11:12.029Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759072028_0v8kw)
2026-01-07T04:11:12.029Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759072028_0v8kw)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:13.583Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759073583_y68jv) ==========
2026-01-07T04:11:13.583Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:11:13.583Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759073583_y68jv)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
[AI] All players passed priority with empty stack, advancing step
2026-01-07T04:11:14.205Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:14.205Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:14.205Z [nextStep] Current: precombatMain/MAIN1
2026-01-07T04:11:14.205Z [nextStep] Priority: p_feg6sfri, Turn: p_feg6sfri
2026-01-07T04:11:14.205Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4739:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2486:7)
2026-01-07T04:11:14.205Z [clearManaPool] Processed mana pools for all players
2026-01-07T04:11:14.205Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_feg6sfri: 0
2026-01-07T04:11:14.206Z [nextStep] Granting priority to active player p_feg6sfri (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_feg6sfri: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:14.206Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:14.206Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:14.206Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:14.206Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:14.206Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mk3i0x99
[AI] Auto-pass loop stopping - human player p_feg6sfri has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:14.220Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759074220_d8nfv) ==========
2026-01-07T04:11:14.220Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_feg6sfri: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:14.220Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.220Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.220Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.376Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759074220_d8nfv) ==========
2026-01-07T04:11:14.376Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_feg6sfri: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:14.376Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.376Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.376Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759074220_d8nfv)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:14.376Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.376Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.377Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:14.377Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:14.377Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-07T04:11:14.377Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:14.377Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:14.377Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-07T04:11:14.377Z [nextStep] Granting priority to active player p_feg6sfri (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: Has valid attackers - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:14.377Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:14.377Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:14.377Z [nextStep]   canAct: true, canRespond: false
2026-01-07T04:11:14.377Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: Has valid attackers - returning TRUE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=true, stack.length=0, step=DECLARE_ATTACKERS
[priority] autoPassLoop - stopping at p_feg6sfri: active player can act
2026-01-07T04:11:14.377Z [nextStep] Auto-pass stopped, player p_feg6sfri has priority
2026-01-07T04:11:14.377Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759074220_d8nfv)
2026-01-07T04:11:14.377Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759074220_d8nfv)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: Has valid attackers - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:14.393Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759074393_45zps) ==========
2026-01-07T04:11:14.393Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: Has valid attackers - returning TRUE
2026-01-07T04:11:14.393Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759074393_45zps)
2026-01-07T04:11:14.393Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759074393_45zps)
2026-01-07T04:11:14.393Z [executeAutoPass] Broadcast complete (ID: autopass_1767759074220_d8nfv)
[combat] Player p_feg6sfri has now attacked with 1 creature(s) this turn
[combat] Found 1 attack trigger(s) for game game_mk3i0x99
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'trigger_1767759076463_rrbi8m' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'trigger_1767759076463_rrbi8m' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:16.476Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759076476_ciuzp) ==========
2026-01-07T04:11:16.476Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:16.476Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.476Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.476Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759076476_ciuzp)
[combat] Player p_feg6sfri declared 1 attackers in game game_mk3i0x99
2026-01-07T04:11:16.629Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759076476_ciuzp) ==========
2026-01-07T04:11:16.629Z [executeAutoPass] Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:16.629Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.629Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.629Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.629Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
2026-01-07T04:11:16.629Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.629Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759076476_ciuzp)
2026-01-07T04:11:16.629Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759076476_ciuzp)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'trigger_1767759076463_rrbi8m' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'trigger_1767759076463_rrbi8m' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:16.642Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759076642_2oike) ==========
2026-01-07T04:11:16.642Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-07T04:11:16.642Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759076642_2oike)
2026-01-07T04:11:16.642Z [executeAutoPass] Broadcast complete (ID: autopass_1767759076476_ciuzp)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'COMBAT',
  step: 'DECLARE_ATTACKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: false,
  stackEmpty: false,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:11:17.266Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Triggered ability from Myrel, Shield of Argive resolved: Create X 1/1 colorless Soldier artifact creature tokens, where X is the number of Soldiers you control
[resolveTopOfStack] Executing trigger effect: controller=p_feg6sfri, sourceName=Myrel, Shield of Argive, triggerType=attacks
[executeTriggerEffect] triggerType=attacks, sourceName=Myrel, Shield of Argive
[executeTriggerEffect] ATTACK TRIGGER: createTokenMatch=false
[executeTriggerEffect] COUNT-BASED CHECK: value=undefined, effectData={"countType":"soldier","power":1,"toughness":1,"type":"Soldier","color":"colorless","isArtifact":true}, triggerValue.countType=soldier
[tokens] getTokenImageUrls: name=Soldier, power=1, toughness=1, colors=[], abilities=undefined
[tokens] Best dynamic match for soldier: Soldier (score: 12)
[executeTriggerEffect] Created 1/1 Soldier token (1/2) for p_feg6sfri
[tokens] getTokenImageUrls: name=Soldier, power=1, toughness=1, colors=[], abilities=undefined
[tokens] Best dynamic match for soldier: Soldier (score: 12)
[executeTriggerEffect] Created 1/1 Soldier token (2/2) for p_feg6sfri
[executeTriggerEffect] Myrel, Shield of Argive: Created 2 Soldier tokens based on soldier count
[AI] Stack resolved for game game_mk3i0x99
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: Has valid attackers - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:17.282Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759077282_rtkwe) ==========
2026-01-07T04:11:17.282Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_feg6sfri: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: Has valid attackers - returning TRUE
2026-01-07T04:11:17.282Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759077282_rtkwe)
2026-01-07T04:11:17.282Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759077282_rtkwe)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:30.905Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759090905_561i9) ==========
2026-01-07T04:11:30.905Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-07T04:11:30.905Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759090905_561i9)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'COMBAT',
  step: 'DECLARE_ATTACKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
[AI] All players passed priority with empty stack, advancing step
2026-01-07T04:11:31.521Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:31.521Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:31.521Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-07T04:11:31.521Z [nextStep] Priority: p_feg6sfri, Turn: p_feg6sfri
2026-01-07T04:11:31.521Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4739:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2486:7)
2026-01-07T04:11:31.521Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-07T04:11:31.521Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-07T04:11:31.521Z [nextStep] Granting priority to active player p_feg6sfri (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_feg6sfri: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:31.522Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:31.522Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:31.522Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:31.522Z [nextStep] Checking if auto-pass should apply after granting priority
2026-01-07T04:11:31.522Z [checkPendingInteractions] Auto-declaring empty blockers for p_8f4ma5qk (no valid blockers)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:31.522Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mk3i0x99
[AI] Auto-pass loop stopping - human player p_feg6sfri has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:31.536Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759091536_9kd0o) ==========
2026-01-07T04:11:31.536Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_feg6sfri: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:31.537Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.537Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.537Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.692Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759091536_9kd0o) ==========
2026-01-07T04:11:31.692Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_feg6sfri: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:31.693Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.693Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.693Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759091536_9kd0o)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:31.693Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.693Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.693Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:31.693Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:31.693Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-07T04:11:31.693Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:31.693Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:31.693Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-07T04:11:31.693Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-07T04:11:31.693Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-07T04:11:31.693Z [COMBAT_DAMAGE] Found 1 attackers
2026-01-07T04:11:31.693Z [COMBAT_DAMAGE] Attacker: Myrel, Shield of Argive, blocked by 0 creatures: []
2026-01-07T04:11:31.693Z [COMBAT_DAMAGE] Processing attacker: Myrel, Shield of Argive
[KEYWORDS] ========== Parsing keywords for: Myrel, Shield of Argive ==========
[KEYWORDS] Raw keywords: type=undefined, isArray=false
[KEYWORDS] Raw value: undefined
[KEYWORDS] Normalized keywords array: []
[KEYWORDS] Myrel, Shield of Argive ACTIVE ABILITIES: [none]
[KEYWORDS] First Strike: false, Double Strike: false
[KEYWORDS] ========== End parsing for: Myrel, Shield of Argive ==========
2026-01-07T04:11:31.694Z [dealCombatDamage] Myrel, Shield of Argive dealt 3 combat damage to p_8f4ma5qk (37 -> 34)
2026-01-07T04:11:31.694Z [dealCombatDamage] COMMANDER DAMAGE: Myrel, Shield of Argive dealt 3 to p_8f4ma5qk (total: 6/21)
2026-01-07T04:11:31.694Z [trackCreatureDamageToPlayer] Myrel, Shield of Argive (perm_hqkluq3z) dealt 3 damage to p_8f4ma5qk
2026-01-07T04:11:31.694Z [dealCombatDamage] Combat damage complete. Damage to players: {"p_8f4ma5qk":3}, Life gained: {}, Creatures destroyed: 0
2026-01-07T04:11:31.694Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-07T04:11:31.694Z [COMBAT_STEP] Result: damageToPlayers={"p_8f4ma5qk":3}, creaturesDestroyed=0
2026-01-07T04:11:31.694Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-07T04:11:31.694Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-07T04:11:31.694Z [nextStep] Granting priority to active player p_feg6sfri (step: DAMAGE, stack size: 0)
[canAct] p_feg6sfri: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:31.694Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:31.694Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:31.694Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:31.694Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:31.695Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-07T04:11:31.695Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.695Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759091536_9kd0o)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:31.708Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759091708_4m4ph) ==========
2026-01-07T04:11:31.709Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: DAMAGE
[canAct] p_feg6sfri: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:31.709Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.709Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.709Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.709Z [executeAutoPass] Broadcast complete (ID: autopass_1767759091536_9kd0o)
2026-01-07T04:11:31.861Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759091708_4m4ph) ==========
2026-01-07T04:11:31.862Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_feg6sfri: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:31.862Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.862Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.862Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759091708_4m4ph)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:31.862Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.862Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.862Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:31.862Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:31.862Z [nextStep] Current: combat/DAMAGE
2026-01-07T04:11:31.862Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:31.862Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:31.862Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-07T04:11:31.862Z [nextStep] Granting priority to active player p_feg6sfri (step: END_COMBAT, stack size: 0)
[canAct] p_feg6sfri: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:31.863Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:31.863Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:31.863Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:31.863Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:31.863Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-07T04:11:31.863Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:31.863Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759091708_4m4ph)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:31.876Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759091876_f51k4) ==========
2026-01-07T04:11:31.876Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: combat, Step: END_COMBAT
[canAct] p_feg6sfri: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:31.876Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:31.876Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:31.876Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:31.876Z [executeAutoPass] Broadcast complete (ID: autopass_1767759091708_4m4ph)
2026-01-07T04:11:32.033Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759091876_f51k4) ==========
2026-01-07T04:11:32.033Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_feg6sfri: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:32.033Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:32.033Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:32.033Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759091876_f51k4)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:32.033Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:32.034Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:32.034Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:32.034Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:32.034Z [nextStep] Current: combat/END_COMBAT
2026-01-07T04:11:32.034Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:32.034Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:32.034Z [clearCombatState] Cleared combat state from 1 permanents
2026-01-07T04:11:32.034Z [clearManaPool] Processed mana pools for all players
2026-01-07T04:11:32.034Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-07T04:11:32.034Z [nextStep] Granting priority to active player p_feg6sfri (step: MAIN2, stack size: 0)
[canAct] p_feg6sfri: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:32.035Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:32.035Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:32.035Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:32.035Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:32.035Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-07T04:11:32.035Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:32.035Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759091876_f51k4)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:32.054Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759092054_flhqk) ==========
2026-01-07T04:11:32.054Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: postcombatMain, Step: MAIN2
[canAct] p_feg6sfri: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:32.054Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.054Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.054Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.054Z [executeAutoPass] Broadcast complete (ID: autopass_1767759091876_f51k4)
2026-01-07T04:11:32.205Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759092054_flhqk) ==========
2026-01-07T04:11:32.205Z [executeAutoPass] Phase: postcombatMain, Step: MAIN2
[canAct] p_feg6sfri: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:32.205Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.205Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.205Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759092054_flhqk)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:32.206Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.206Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.206Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:32.206Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:32.206Z [nextStep] Current: postcombatMain/MAIN2
2026-01-07T04:11:32.206Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:32.206Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:32.206Z [clearManaPool] Processed mana pools for all players
2026-01-07T04:11:32.206Z [nextStep] Advanced to phase=ending, step=END
2026-01-07T04:11:32.206Z [nextStep] Granting priority to active player p_feg6sfri (step: END, stack size: 0)
[canAct] p_feg6sfri: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:32.206Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:32.206Z [nextStep]   Hand (2): Plains, Sol Ring
2026-01-07T04:11:32.206Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:32.206Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:32.206Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-07T04:11:32.206Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.206Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759092054_flhqk)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:32.222Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759092222_zbp32) ==========
2026-01-07T04:11:32.222Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: ending, Step: END
[canAct] p_feg6sfri: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:32.223Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.223Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.223Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.223Z [executeAutoPass] Broadcast complete (ID: autopass_1767759092054_flhqk)
2026-01-07T04:11:32.376Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759092222_zbp32) ==========
2026-01-07T04:11:32.377Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_feg6sfri: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:32.377Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.377Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.377Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759092222_zbp32)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:32.377Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.377Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.377Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:32.377Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:32.377Z [nextStep] Current: ending/END
2026-01-07T04:11:32.377Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:32.377Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:32.377Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-07T04:11:32.377Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-07T04:11:32.377Z [endTemporaryEffects] Cleared creaturesAttackedThisTurn tracking
2026-01-07T04:11:32.377Z [nextStep] Cleanup complete, advancing to next turn
2026-01-07T04:11:32.377Z [nextTurn] Reset planeswalker loyalty activation counters for player p_8f4ma5qk
2026-01-07T04:11:32.377Z [untapPermanentsForPlayer] Player p_8f4ma5qk: untapped 2, stun counters removed 0, skipped (doesn't untap) 0
2026-01-07T04:11:32.377Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-07T04:11:32.377Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-01-07T04:11:32.377Z [nextTurn] Advanced to player p_8f4ma5qk, phase=beginning, step=UPKEEP
2026-01-07T04:11:32.377Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:32.378Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-07T04:11:32.378Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759092222_zbp32)
2026-01-07T04:11:32.378Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759092222_zbp32)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:32.394Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759092394_0t1ey) ==========
2026-01-07T04:11:32.394Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: beginning, Step: UPKEEP
2026-01-07T04:11:32.394Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759092394_0t1ey)
2026-01-07T04:11:32.394Z [executeAutoPass] Broadcast complete (ID: autopass_1767759092222_zbp32)
[Automation] Auto-pass for turn disabled for p_feg6sfri in game game_mk3i0x99
[Automation] Auto-pass for turn state in game game_mk3i0x99: {}
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_8f4ma5qk
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_feg6sfri - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-07T04:11:33.007Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.007Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.007Z [nextStep] Current: beginning/UPKEEP
2026-01-07T04:11:33.007Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.007Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4739:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.007Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-07T04:11:33.007Z [nextStep] Drew 1 card(s) for p_8f4ma5qk at draw step (base: 1, additional: 0)
2026-01-07T04:11:33.007Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-07T04:11:33.007Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-07T04:11:33.007Z [nextStep] Granting priority to active player p_8f4ma5qk (step: MAIN1, stack size: 0)
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.008Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.008Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.008Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.008Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.008Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mk3i0x99
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-07T04:11:33.009Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.009Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.009Z [nextStep] Current: precombatMain/MAIN1
2026-01-07T04:11:33.009Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.009Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.009Z [clearManaPool] Processed mana pools for all players
2026-01-07T04:11:33.009Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_8f4ma5qk: 0
2026-01-07T04:11:33.009Z [nextStep] Granting priority to active player p_8f4ma5qk (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_8f4ma5qk: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.009Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.009Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.009Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.009Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.009Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to BEGIN_COMBAT
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-07T04:11:33.009Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.009Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.010Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-07T04:11:33.010Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.010Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.010Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-07T04:11:33.010Z [nextStep] Granting priority to active player p_8f4ma5qk (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_8f4ma5qk: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.010Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.010Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.010Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.010Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.010Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_ATTACKERS
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-07T04:11:33.010Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.010Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.010Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-07T04:11:33.010Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.010Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.010Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-07T04:11:33.010Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-07T04:11:33.010Z [nextStep] Granting priority to active player p_8f4ma5qk (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_8f4ma5qk: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.010Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.010Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.010Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.010Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.010Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_BLOCKERS
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-07T04:11:33.010Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.010Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.010Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-07T04:11:33.010Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.010Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.010Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-07T04:11:33.010Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-07T04:11:33.010Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-07T04:11:33.010Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-07T04:11:33.011Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-07T04:11:33.011Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-07T04:11:33.011Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-07T04:11:33.011Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-07T04:11:33.011Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-07T04:11:33.011Z [nextStep] Granting priority to active player p_8f4ma5qk (step: DAMAGE, stack size: 0)
[canAct] p_8f4ma5qk: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.011Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.011Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.011Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.011Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.011Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-07T04:11:33.011Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.011Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.011Z [nextStep] Current: combat/DAMAGE
2026-01-07T04:11:33.011Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.011Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.011Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-07T04:11:33.011Z [nextStep] Granting priority to active player p_8f4ma5qk (step: END_COMBAT, stack size: 0)
[canAct] p_8f4ma5qk: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.011Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.011Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.011Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.011Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.011Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 6), advancing again
2026-01-07T04:11:33.011Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.011Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.011Z [nextStep] Current: combat/END_COMBAT
2026-01-07T04:11:33.011Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.011Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.011Z [clearManaPool] Processed mana pools for all players
2026-01-07T04:11:33.011Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-07T04:11:33.012Z [nextStep] Granting priority to active player p_8f4ma5qk (step: MAIN2, stack size: 0)
[canAct] p_8f4ma5qk: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.012Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.012Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.012Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.012Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 8 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 8 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.013Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 7), advancing again
2026-01-07T04:11:33.013Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.013Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.013Z [nextStep] Current: postcombatMain/MAIN2
2026-01-07T04:11:33.013Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.013Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.013Z [clearManaPool] Processed mana pools for all players
2026-01-07T04:11:33.013Z [nextStep] Advanced to phase=ending, step=END
2026-01-07T04:11:33.013Z [nextStep] Granting priority to active player p_8f4ma5qk (step: END, stack size: 0)
[canAct] p_8f4ma5qk: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
2026-01-07T04:11:33.013Z [nextStep] DEBUG - Turn Player p_8f4ma5qk:
2026-01-07T04:11:33.013Z [nextStep]   Hand (8): Combat Celebrant, Adeline, Resplendent Cathar, Selfless Spirit, Seasoned Pyromancer, Soltari Champion, Aurelia, the Warleader, Wheel of Misfortune, Monastery Mentor
2026-01-07T04:11:33.013Z [nextStep]   canAct: false, canRespond: false
2026-01-07T04:11:33.013Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_8f4ma5qk
[canAct] p_8f4ma5qk: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[priority] autoPassLoop - checking p_8f4ma5qk (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_8f4ma5qk - no available actions
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_feg6sfri (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_feg6sfri - no available actions
2026-01-07T04:11:33.013Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 8), advancing again
2026-01-07T04:11:33.013Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.013Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.013Z [nextStep] Current: ending/END
2026-01-07T04:11:33.013Z [nextStep] Priority: p_8f4ma5qk, Turn: p_8f4ma5qk
2026-01-07T04:11:33.013Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4764:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2758:7)
2026-01-07T04:11:33.013Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-07T04:11:33.013Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-07T04:11:33.013Z [setupCleanupDiscard] Player p_8f4ma5qk needs to discard 1 cards (hand: 8, max: 7)
2026-01-07T04:11:33.013Z [nextStep] Waiting for player to select 1 cards to discard
[AI] Auto-advanced to CLEANUP
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 8, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 8, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:33.030Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759093030_kkhq3) ==========
2026-01-07T04:11:33.030Z [checkAndTriggerAutoPass] Priority: null, Phase: ending, Step: CLEANUP
2026-01-07T04:11:33.030Z [checkAndTriggerAutoPass] No priority holder (step CLEANUP doesn't grant priority), returning (ID: autopass_1767759093030_kkhq3)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'ENDING',
  step: 'CLEANUP',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'ending',
  step: 'cleanup',
  isAITurn: true,
  stackEmpty: true,
  priority: null,
  hasPriority: false
}
[AI] Cleanup step - handling automatic cleanup actions (Rule 514.1)
[AI] Cleanup step - AI has pending discard selection: 1 cards
[AI] Discarding 1 cards
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:33.659Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759093659_dq1hy) ==========
2026-01-07T04:11:33.659Z [checkAndTriggerAutoPass] Priority: null, Phase: ending, Step: CLEANUP
2026-01-07T04:11:33.659Z [checkAndTriggerAutoPass] No priority holder (step CLEANUP doesn't grant priority), returning (ID: autopass_1767759093659_dq1hy)
[AI] Advancing step: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  currentPhase: 'ending',
  currentStep: 'CLEANUP'
}
2026-01-07T04:11:33.970Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:33.970Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:33.970Z [nextStep] Current: ending/CLEANUP
2026-01-07T04:11:33.970Z [nextStep] Priority: null, Turn: p_8f4ma5qk
2026-01-07T04:11:33.970Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executeAdvanceStep (D:\Git\MTGEDH\server\src\socket\ai.ts:4330:21)
        at Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:4281:7)
        at listOnTimeout (node:internal/timers:588:17)
2026-01-07T04:11:33.970Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-07T04:11:33.970Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-07T04:11:33.970Z [endTemporaryEffects] Cleared creaturesAttackedThisTurn tracking
2026-01-07T04:11:33.970Z [nextStep] Cleanup complete, advancing to next turn
2026-01-07T04:11:33.970Z [clearSummoningSicknessForPlayer] Cleared summoning sickness from 2 permanent(s) for p_feg6sfri
2026-01-07T04:11:33.970Z [nextTurn] Reset planeswalker loyalty activation counters for player p_feg6sfri
2026-01-07T04:11:33.970Z [untapPermanentsForPlayer] Player p_feg6sfri: untapped 8, stun counters removed 0, skipped (doesn't untap) 0
2026-01-07T04:11:33.970Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-07T04:11:33.970Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-01-07T04:11:33.970Z [nextTurn] Advanced to player p_feg6sfri, phase=beginning, step=UPKEEP
2026-01-07T04:11:33.970Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_feg6sfri - no available actions
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:33.971Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Step advanced: { newPhase: 'beginning', newStep: 'UPKEEP' }
[AI] Clearing cleanup processing flags after advancing from cleanup
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 10
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:33.987Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759093987_2knv8) ==========
2026-01-07T04:11:33.987Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: beginning, Step: UPKEEP
[canAct] p_feg6sfri: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:33.987Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:33.987Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:33.987Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759093987_2knv8)
[Automation] Auto-pass for turn disabled for p_feg6sfri in game game_mk3i0x99
[Automation] Auto-pass for turn state in game game_mk3i0x99: {}
2026-01-07T04:11:34.141Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759093987_2knv8) ==========
2026-01-07T04:11:34.141Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_feg6sfri: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:34.141Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:34.141Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:34.141Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759093987_2knv8)
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_8f4ma5qk, turnPlayer: p_feg6sfri
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_8f4ma5qk (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_8f4ma5qk - no available actions
2026-01-07T04:11:34.141Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:34.141Z [executeAutoPass] Advancing step after auto-pass for p_feg6sfri (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:34.141Z [nextStep] ========== CALLED ==========
2026-01-07T04:11:34.141Z [nextStep] Game: game_mk3i0x99
2026-01-07T04:11:34.141Z [nextStep] Current: beginning/UPKEEP
2026-01-07T04:11:34.141Z [nextStep] Priority: p_8f4ma5qk, Turn: p_feg6sfri
2026-01-07T04:11:34.141Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2195:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-07T04:11:34.141Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-07T04:11:34.141Z [nextStep] Drew 1 card(s) for p_feg6sfri at draw step (base: 1, additional: 0)
2026-01-07T04:11:34.142Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-07T04:11:34.142Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-07T04:11:34.142Z [nextStep] Granting priority to active player p_feg6sfri (step: MAIN1, stack size: 0)
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 3 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact), Ajani Steadfast(Legendary Planeswalk)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
2026-01-07T04:11:34.142Z [nextStep] DEBUG - Turn Player p_feg6sfri:
2026-01-07T04:11:34.142Z [nextStep]   Hand (3): Plains, Sol Ring, Ajani Steadfast
2026-01-07T04:11:34.142Z [nextStep]   canAct: true, canRespond: false
2026-01-07T04:11:34.142Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_8f4ma5qk, p_feg6sfri, autoPassEnabled: p_feg6sfri, p_8f4ma5qk, currentPriority: p_feg6sfri, turnPlayer: p_feg6sfri
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 3 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact), Ajani Steadfast(Legendary Planeswalk)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_feg6sfri (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_feg6sfri: active player can act
2026-01-07T04:11:34.142Z [nextStep] Auto-pass stopped, player p_feg6sfri has priority
2026-01-07T04:11:34.142Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759093987_2knv8)
2026-01-07T04:11:34.142Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759093987_2knv8)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 3, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 3, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 6 }
[getPlayableCardIds] Total available mana: 10
[getPlayableCardIds] Checking 3 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[getPlayableCardIds] Card Ajani Steadfast (51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 3 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 3 cards
[normalizeViewForEmit] Set view.playableCards with 3 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 3 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact), Ajani Steadfast(Legendary Planeswalk)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:34.157Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759094157_g21h5) ==========
2026-01-07T04:11:34.157Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 3 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact), Ajani Steadfast(Legendary Planeswalk)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:11:34.157Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759094157_g21h5)
2026-01-07T04:11:34.157Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759094157_g21h5)
2026-01-07T04:11:34.157Z [executeAutoPass] Broadcast complete (ID: autopass_1767759093987_2knv8)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mk3i0x99, cardId: 51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04, faceIndex: undefined
[requestCastSpell] playerId: p_feg6sfri, priority: p_feg6sfri
[requestCastSpell] No targets needed, emitted paymentRequired for Ajani Steadfast
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04, effectId: cast_51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04_1767759097135
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_ejk7gtvi","mana":"W","count":1},{"permanentId":"perm_0czcfd4b","mana":"C","count":2},{"permanentId":"perm_09trosws","mana":"C","count":2}]
[completeCastSpell] No pendingCast found for effectId: cast_51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04_1767759097135
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_ejk7gtvi","mana":"W","count":1},{"permanentId":"perm_0czcfd4b","mana":"C","count":2},{"permanentId":"perm_09trosws","mana":"C","count":2}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_feg6sfri
[handleCastSpellFromHand] priority: p_feg6sfri
[handleCastSpellFromHand] Ajani Steadfast: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Ajani Steadfast: [
  { permanentId: 'perm_ejk7gtvi', mana: 'W', count: 1 },
  { permanentId: 'perm_0czcfd4b', mana: 'C', count: 2 },
  { permanentId: 'perm_09trosws', mana: 'C', count: 2 }
]
[castSpellFromHand] Added 1 W mana to p_feg6sfri's pool from Plains
[castSpellFromHand] Added 2 C mana to p_feg6sfri's pool from Sol Ring
[castSpellFromHand] Added 2 C mana to p_feg6sfri's pool from Sol Ring
[castSpellFromHand] Consumed 1 W mana from pool
[castSpellFromHand] Consumed 3 colorless mana for generic cost
[castSpellFromHand] Unspent mana remaining in pool: 1 colorless
[castSpellFromHand] Converge: 1 different color(s) spent for Ajani Steadfast
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_feg6sfri cast Ajani Steadfast (51825d35-cdb2-40fa-ab89-1625161b04af_mk3i1654_h_609f3d04) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'Ajani Steadfast' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'Ajani Steadfast' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:38.224Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759098224_adc9l) ==========
2026-01-07T04:11:38.224Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:38.224Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.224Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.224Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.381Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759098224_adc9l) ==========
2026-01-07T04:11:38.381Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:38.381Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.381Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.381Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.381Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
2026-01-07T04:11:38.381Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759098224_adc9l)
2026-01-07T04:11:38.381Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759098224_adc9l)
2026-01-07T04:11:38.381Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759098224_adc9l)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'Ajani Steadfast' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'Ajani Steadfast' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 15 ΓåÆ 13 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:38.397Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759098396_wxftq) ==========
2026-01-07T04:11:38.397Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:11:38.397Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759098396_wxftq)
2026-01-07T04:11:38.397Z [executeAutoPass] Broadcast complete (ID: autopass_1767759098224_adc9l)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: false,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:11:39.012Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Planeswalker Ajani Steadfast enters with 4 loyalty
[PLANESWALKER DEBUG] Ajani Steadfast entering battlefield: {
  loyalty: 4,
  baseLoyalty: 4,
  counters: { loyalty: 4 },
  hasOracleText: true,
  oracleTextLength: 354
}
[resolveTopOfStack] Permanent Ajani Steadfast entered battlefield under p_feg6sfri
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[AI] Stack resolved for game game_mk3i0x99
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:39.033Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759099033_2b2mv) ==========
2026-01-07T04:11:39.033Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:11:39.034Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759099033_2b2mv)
2026-01-07T04:11:39.034Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759099033_2b2mv)
[planeswalker] Requesting target selection for Ajani Steadfast ability: up to one target creature
[targetSelectionConfirm] ======== CONFIRM START ========
[targetSelectionConfirm] gameId: game_mk3i0x99, effectId: pw_perm_s6slmz31_1767759105343
[targetSelectionConfirm] selectedTargetIds: undefined
[targetSelectionConfirm] targets: ["perm_hqkluq3z"]
[targetSelectionConfirm] playerId: p_feg6sfri
[targetSelectionConfirm] Validated targetIds: perm_hqkluq3z
[targetSelectionConfirm] Stored targets in pendingTargets[pw_perm_s6slmz31_1767759105343]
[targetSelectionConfirm] Planeswalker ability Ajani Steadfast activated with 1 targets
[targetSelectionConfirm] Player p_feg6sfri selected targets: [ 'perm_hqkluq3z' ]
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'ability_1767759110708_rygdl5' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'ability_1767759110708_rygdl5' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:11:50.725Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759110725_h39xi) ==========
2026-01-07T04:11:50.725Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:50.726Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.726Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.726Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.890Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759110725_h39xi) ==========
2026-01-07T04:11:50.890Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:11:50.890Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.890Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.890Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.890Z [checkPendingInteractions] Pending: target_selection, stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: target_selection, stack_not_empty
2026-01-07T04:11:50.891Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759110725_h39xi)
2026-01-07T04:11:50.891Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759110725_h39xi)
2026-01-07T04:11:50.891Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759110725_h39xi)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'ability_1767759110708_rygdl5' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'ability_1767759110708_rygdl5' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:11:50.909Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759110909_7ixb4) ==========
2026-01-07T04:11:50.909Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:11:50.909Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759110909_7ixb4)
2026-01-07T04:11:50.909Z [executeAutoPass] Broadcast complete (ID: autopass_1767759110725_h39xi)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: false,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:11:51.527Z [checkPendingInteractions] Pending: target_selection, stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: target_selection, stack_not_empty
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Executing activated ability from Ajani Steadfast for p_feg6sfri: until end of turn, up to one target creature gets +1/+1 and gains first strike, vigilance, and lifelink.
[executeTriggerEffect] triggerType=undefined, sourceName=Ajani Steadfast
[executeTriggerEffect] Found 3 keywords via dynamic detection for Ajani Steadfast
[executeTriggerEffect] Unhandled trigger effect: "until end of turn, up to one target creature gets +1/+1 and gains first strike, vigilance, and lifelink." from Ajani Steadfast
[AI] Stack resolved for game game_mk3i0x99
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:11:51.550Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759111550_ayri1) ==========
2026-01-07T04:11:51.550Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:11:51.550Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759111550_ayri1)
2026-01-07T04:11:51.550Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759111550_ayri1)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:02.538Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759122538_a2loh) ==========
2026-01-07T04:12:02.538Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:02.538Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759122538_a2loh)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:03.153Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:03.169Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759123169_qxb2l) ==========
2026-01-07T04:12:03.169Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:12:03.169Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759123169_qxb2l)
2026-01-07T04:12:03.169Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759123169_qxb2l)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:04.986Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759124986_asifn) ==========
2026-01-07T04:12:04.986Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:04.986Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759124986_asifn)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:05.600Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:05.617Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759125617_hbe0x) ==========
2026-01-07T04:12:05.617Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:12:05.617Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759125617_hbe0x)
2026-01-07T04:12:05.617Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759125617_hbe0x)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:10.906Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759130906_qwekg) ==========
2026-01-07T04:12:10.906Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:10.906Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759130906_qwekg)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:11.528Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:11.546Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759131546_mbt27) ==========
2026-01-07T04:12:11.546Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:12:11.546Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759131546_mbt27)
2026-01-07T04:12:11.546Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759131546_mbt27)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:26.055Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759146055_n56o7) ==========
2026-01-07T04:12:26.055Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:26.055Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759146055_n56o7)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:26.667Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:26.684Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759146684_0uutj) ==========
2026-01-07T04:12:26.684Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:12:26.684Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759146684_0uutj)
2026-01-07T04:12:26.684Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759146684_0uutj)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:27.487Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759147487_3jn8q) ==========
2026-01-07T04:12:27.487Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:27.487Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759147487_3jn8q)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:28.110Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 2, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 16 ΓåÆ 14 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 2 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6) is playable
[getPlayableCardIds] Returning 2 playable card(s): [
  '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6',
  '3a438199-54f8-4702-81cf-a9d42e7cd9f1_mk3i1654_3_c7db68b6'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:28.123Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759148123_3lk26) ==========
2026-01-07T04:12:28.123Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Checking hand with 2 cards
[canPlayLand] p_feg6sfri: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Sol Ring(Artifact)]
[canPlayLand] p_feg6sfri: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_feg6sfri: Turn player in main phase can play land - returning TRUE
2026-01-07T04:12:28.124Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759148123_3lk26)
2026-01-07T04:12:28.124Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759148123_3lk26)
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[playLand] Player p_feg6sfri has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 1, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 1, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 1 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:37.636Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759157636_cfbhs) ==========
2026-01-07T04:12:37.636Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:12:37.637Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759157636_cfbhs)
2026-01-07T04:12:37.637Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759157636_cfbhs)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 1, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 1, firstKnown: [Array] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 1 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 3 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 1 cards in hand
[getPlayableCardIds] Card Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) is playable
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 1 playable card(s): [ '04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-07T04:12:37.654Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759157654_u82nc) ==========
2026-01-07T04:12:37.654Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: Can cast sorcery-speed spell - returning TRUE
2026-01-07T04:12:37.655Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=true (ID: autopass_1767759157654_u82nc)
2026-01-07T04:12:37.655Z [checkAndTriggerAutoPass] p_feg6sfri CAN ACT - returning early, NO auto-pass (ID: autopass_1767759157654_u82nc)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mk3i0x99, cardId: 04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6, faceIndex: undefined
[requestCastSpell] playerId: p_feg6sfri, priority: p_feg6sfri
[requestCastSpell] No targets needed, emitted paymentRequired for Sol Ring
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6, effectId: cast_04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6_1767759158429
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: undefined
[completeCastSpell] No pendingCast found for effectId: cast_04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6_1767759158429
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: undefined
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_feg6sfri
[handleCastSpellFromHand] priority: p_feg6sfri
[handleCastSpellFromHand] Sol Ring: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Floating mana available in pool: 1 colorless
[castSpellFromHand] Consumed 1 colorless mana for generic cost
[castSpellFromHand] Player p_feg6sfri cast Sol Ring (04002706-2236-4b79-bdea-4f263e43cb9c_mk3i1654_b_05866ab6) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:39.386Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759159386_irxy2) ==========
2026-01-07T04:12:39.386Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:39.386Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.386Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.386Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.545Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759159386_irxy2) ==========
2026-01-07T04:12:39.545Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_feg6sfri: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:39.545Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.545Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.545Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.545Z [checkPendingInteractions] Pending: target_selection, stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: target_selection, stack_not_empty
2026-01-07T04:12:39.546Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759159386_irxy2)
2026-01-07T04:12:39.546Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759159386_irxy2)
2026-01-07T04:12:39.546Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759159386_irxy2)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_8f4ma5qk: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 1,
  stackItems: [ 'Sol Ring' ],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 17 ΓåÆ 15 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:39.564Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759159564_5fgoh) ==========
2026-01-07T04:12:39.564Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:39.564Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759159564_5fgoh)
2026-01-07T04:12:39.564Z [executeAutoPass] Broadcast complete (ID: autopass_1767759159386_irxy2)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: false,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:40.176Z [checkPendingInteractions] Pending: target_selection, stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: target_selection, stack_not_empty
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Permanent Sol Ring entered battlefield under p_feg6sfri
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[AI] Stack resolved for game game_mk3i0x99
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:40.197Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759160197_z7tj2) ==========
2026-01-07T04:12:40.197Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:40.198Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.198Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.198Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.361Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759160197_z7tj2) ==========
2026-01-07T04:12:40.361Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:40.362Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.362Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.362Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.362Z [checkPendingInteractions] Pending: target_selection
[priority] autoPassLoop - blocking due to pending interactions: target_selection
2026-01-07T04:12:40.362Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.362Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759160197_z7tj2)
2026-01-07T04:12:40.362Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759160197_z7tj2)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:40.381Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759160381_4ynqz) ==========
2026-01-07T04:12:40.381Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:40.381Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759160381_4ynqz)
2026-01-07T04:12:40.381Z [executeAutoPass] Broadcast complete (ID: autopass_1767759160197_z7tj2)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:40.996Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:41.014Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759161014_ckscc) ==========
2026-01-07T04:12:41.014Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:41.015Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.015Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.015Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.166Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759161014_ckscc) ==========
2026-01-07T04:12:41.166Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:41.167Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.167Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.167Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.167Z [checkPendingInteractions] Pending: target_selection
[priority] autoPassLoop - blocking due to pending interactions: target_selection
2026-01-07T04:12:41.167Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759161014_ckscc)
2026-01-07T04:12:41.167Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759161014_ckscc)
2026-01-07T04:12:41.167Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759161014_ckscc)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:41.186Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759161186_ejja3) ==========
2026-01-07T04:12:41.186Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:41.186Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759161186_ejja3)
2026-01-07T04:12:41.186Z [executeAutoPass] Broadcast complete (ID: autopass_1767759161014_ckscc)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:41.798Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:41.817Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759161817_kdo7d) ==========
2026-01-07T04:12:41.817Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:41.818Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.818Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.818Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.968Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759161817_kdo7d) ==========
2026-01-07T04:12:41.968Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:41.969Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.969Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.969Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.969Z [checkPendingInteractions] Pending: target_selection
[priority] autoPassLoop - blocking due to pending interactions: target_selection
2026-01-07T04:12:41.969Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.969Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759161817_kdo7d)
2026-01-07T04:12:41.969Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759161817_kdo7d)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:41.989Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759161989_gt0q9) ==========
2026-01-07T04:12:41.989Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:41.989Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759161989_gt0q9)
2026-01-07T04:12:41.989Z [executeAutoPass] Broadcast complete (ID: autopass_1767759161817_kdo7d)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:42.601Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:42.619Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759162619_8vgsc) ==========
2026-01-07T04:12:42.619Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:42.619Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.619Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.619Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.771Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759162619_8vgsc) ==========
2026-01-07T04:12:42.771Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:42.771Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.772Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.772Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.772Z [checkPendingInteractions] Pending: target_selection
[priority] autoPassLoop - blocking due to pending interactions: target_selection
2026-01-07T04:12:42.772Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.772Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759162619_8vgsc)
2026-01-07T04:12:42.772Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759162619_8vgsc)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:42.794Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759162794_fd2gv) ==========
2026-01-07T04:12:42.794Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:42.794Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759162794_fd2gv)
2026-01-07T04:12:42.794Z [executeAutoPass] Broadcast complete (ID: autopass_1767759162619_8vgsc)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:43.406Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:43.424Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759163424_czmax) ==========
2026-01-07T04:12:43.424Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:43.425Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.425Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.425Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.577Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759163424_czmax) ==========
2026-01-07T04:12:43.577Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:43.577Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.577Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.577Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.577Z [checkPendingInteractions] Pending: target_selection
[priority] autoPassLoop - blocking due to pending interactions: target_selection
2026-01-07T04:12:43.577Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759163424_czmax)
2026-01-07T04:12:43.577Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759163424_czmax)
2026-01-07T04:12:43.577Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759163424_czmax)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:43.598Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759163598_s1bo5) ==========
2026-01-07T04:12:43.598Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:43.598Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759163598_s1bo5)
2026-01-07T04:12:43.598Z [executeAutoPass] Broadcast complete (ID: autopass_1767759163424_czmax)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:44.209Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:44.223Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759164223_1yah2) ==========
2026-01-07T04:12:44.223Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:44.223Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.224Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.224Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.379Z [executeAutoPass] ========== EXECUTING for p_feg6sfri (ID: autopass_1767759164223_1yah2) ==========
2026-01-07T04:12:44.379Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:44.380Z [executeAutoPass] Re-check: p_feg6sfri canAct=false (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.380Z [executeAutoPass] Proceeding with auto-pass for p_feg6sfri (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.380Z [executeAutoPass] Set _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.380Z [checkPendingInteractions] Pending: target_selection
[priority] autoPassLoop - blocking due to pending interactions: target_selection
2026-01-07T04:12:44.380Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID:autopass_1767759164223_1yah2)
2026-01-07T04:12:44.380Z [executeAutoPass] Cleared _autoPassInProgress flag for p_feg6sfri (ID: autopass_1767759164223_1yah2)
2026-01-07T04:12:44.380Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767759164223_1yah2)
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_8f4ma5qk, match=true
[getPlayableCardIds] Player p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 2, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_8f4ma5qk: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_8f4ma5qk: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_8f4ma5qk, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_8f4ma5qk: 1 lands per turn
[canPlayLand] p_8f4ma5qk: Checking hand with 7 cards
[canPlayLand] p_8f4ma5qk: Sample cards in hand: [Combat Celebrant(Creature ΓÇö Human War), Adeline, Resplendent Cathar(Legendary Creature ΓÇö), Selfless Spirit(Creature ΓÇö Spirit Cl)]
[canPlayLand] p_8f4ma5qk: No lands found in hand of 7 cards - returning FALSE
[canAct] p_8f4ma5qk: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_8f4ma5qk: No actions available - returning FALSE
[canRespond] p_8f4ma5qk: checking instant-speed responses only
[canRespond] p_8f4ma5qk: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_8f4ma5qk, viewerId=p_feg6sfri, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-07T04:12:44.395Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759164395_r7fhg) ==========
2026-01-07T04:12:44.395Z [checkAndTriggerAutoPass] Priority: p_8f4ma5qk, Phase: precombatMain, Step: MAIN1
2026-01-07T04:12:44.395Z [checkAndTriggerAutoPass] p_8f4ma5qk is AI, handled separately (ID: autopass_1767759164395_r7fhg)
2026-01-07T04:12:44.395Z [executeAutoPass] Broadcast complete (ID: autopass_1767759164223_1yah2)
[AI] handleAIGameFlow: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mk3i0x99',
  playerId: 'p_8f4ma5qk',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_8f4ma5qk',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mk3i0x99', playerId: 'p_8f4ma5qk' }
2026-01-07T04:12:45.016Z [checkPendingInteractions] Pending: target_selection
[AI] Cannot advance step - players have pending interactions: target_selection
[VIEW_FOR_DEBUG] {
  viewer: 'p_8f4ma5qk',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_8f4ma5qk, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_feg6sfri',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_8f4ma5qk: { handCount: 7, firstKnown: [Array] },
    p_feg6sfri: { handCount: 0, firstKnown: [] }
  }
}
[TokenOptimization] Applied grouping: 18 ΓåÆ 16 entries, has grouped tokens with counts
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking temple of triumph: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'temple of triumph'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myrel, shield of argive: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myrel, shield of argive'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sokenzan, crucible of defiance: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sokenzan, crucible of defiance'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani steadfast: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani steadfast'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking soldier: { hasKarametra: false, hasAcolyte: false, fullCardName: 'soldier' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_feg6sfri, viewerId=p_feg6sfri, match=true
[getPlayableCardIds] Player p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 4 }
[getPlayableCardIds] Total available mana: 8
[getPlayableCardIds] Checking 0 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
[canRespond] p_feg6sfri: checking instant-speed responses only
[canRespond] p_feg6sfri: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-07T04:12:45.031Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767759165031_n7wb4) ==========
2026-01-07T04:12:45.031Z [checkAndTriggerAutoPass] Priority: p_feg6sfri, Phase: precombatMain, Step: MAIN1
[canAct] p_feg6sfri: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_feg6sfri, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_feg6sfri: 1 lands per turn
[canPlayLand] p_feg6sfri: Already played max lands this turn (1/1)
[canAct] p_feg6sfri: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_feg6sfri: No actions available - returning FALSE
2026-01-07T04:12:45.031Z [checkAndTriggerAutoPass] canAct check: p_feg6sfri isActive=true canAct=false (ID: autopass_1767759165031_n7wb4)
2026-01-07T04:12:45.031Z [checkAndTriggerAutoPass] p_feg6sfri CANNOT ACT - proceeding with auto-pass (ID: autopass_1767759165031_n7wb4)
2026-01-07T04:12:45.031Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_feg6sfri with 150ms delay (ID: autopass_1767759165031_n7wb4)


[DBG]: PS D:\Git\MTGEDH>>
