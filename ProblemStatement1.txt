
Friday, January 2, 2026 5:08:19 AM

> @mtgedh/server@0.1.0 dev
> tsx watch --watch-path=src src/index.ts

[Server] Initializing database...
[Server] Database initialized successfully.
[SCRYFALL] No planeswalker cache clearing needed (0 planeswalkers in cache, all have loyalty field)
[Socket] GameManager configured with IO server for rules engine integration
[Resolution] AI handler initialized
[Server] Running at http://127.0.0.1:3001
[CLI] Detected Windows PowerShell. If CLI commands are not working correctly,
[CLI] try using cmd.exe, Windows Terminal, or Git Bash instead.

ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
  MTGEDH Server CLI - Type "help" for available commands
ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

mtgedh> [Resolution] Priority management handler initialized
Socket connected: A8PakP80-q-U7OlpAAAB
[Game] Creating game without AI: { gameId: 'game_mjwpo1r7', format: 'commander', startingLife: 40 }
[GameManager] Created game game_mjwpo1r7 using full rules engine (createInitialGameState)
[DB] Running insert: INSERT OR IGNORE INTO games (game_id, format, starting_life, created_at, created_by_socket_id, created_by_player_id) VALUES (?, ?, ?, ?, ?, ?)
[DB] Params: {
  gameId: 'game_mjwpo1r7',
  format: 'commander',
  startingLife: 40,
  now: 1767348505783,
  createdBySocketId: undefined,
  createdByPlayerId: undefined
}
[DB] Running update: UPDATE games SET format = ?, starting_life = ? WHERE game_id = ?
[DB] Params: { format: 'commander', startingLife: 40, gameId: 'game_mjwpo1r7' }
[Game] Created new game via GameManager: game_mjwpo1r7
[Game] Game created successfully: { gameId: 'game_mjwpo1r7', format: 'commander', startingLife: 40 }
[DB] Running insert: INSERT OR IGNORE INTO games (game_id, format, starting_life, created_at, created_by_socket_id, created_by_player_id) VALUES (?, ?, ?, ?, ?, ?)
[DB] Params: {
  gameId: 'game_mjwpo1r7',
  format: 'commander',
  startingLife: 40,
  now: 1767348505796,
  createdBySocketId: undefined,
  createdByPlayerId: undefined
}
[DB] Running update: UPDATE games SET format = ?, starting_life = ? WHERE game_id = ?
[DB] Params: { format: 'commander', startingLife: 40, gameId: 'game_mjwpo1r7' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 0, firstKnown: [] } }
}
[join] Set game creator for game_mjwpo1r7 to player p_gevlks1b
[Automation] Auto-pass for turn disabled for p_gevlks1b in game game_mjwpo1r7
[Automation] Auto-pass for turn state in game game_mjwpo1r7: {}
[Automation] Auto-pass enabled for p_gevlks1b in game game_mjwpo1r7
[Automation] Auto-pass players in game game_mjwpo1r7: [ 'p_gevlks1b' ]
[Automation] Player p_gevlks1b has priority - triggering auto-pass check
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:25.898Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348505898_3p043) ==========
2026-01-02T10:08:25.898Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:25.898Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348505898_3p043)
[deck] listSavedDecks called { gameId: 'game_mjwpo1r7', folder: undefined, playerId: 'p_gevlks1b' }
[deck] canImportWithoutWipe {
  gameId: 'game_mjwpo1r7',
  phaseStr: 'PRE_GAME',
  seqVal: 3,
  isPreGame: true
}
[deck] importDeck called { gameId: 'game_mjwpo1r7', playerId: 'p_gevlks1b' }
[SCRYFALL DEBUG] Caching planeswalker: {
  name: 'Ajani Goldmane',
  type_line: 'Legendary Planeswalker ΓÇö Ajani',
  'data.loyalty': '4',
  'data keys': [ 'loyalty' ]
}
[SCRYFALL DEBUG] Cached planeswalker result: { name: 'Ajani Goldmane', 'card.loyalty': '4', 'cached value': '4' }
[deck] importDeck resolved cards {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  resolvedCount: 18,
  missingCount: 0,
  firstCard: {
    name: 'Myrel, Shield of Argive',
    id: 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312',
    type_line: 'Legendary Creature ΓÇö Human Soldier'
  },
  lastCard: {
    name: 'Ajani Goldmane',
    id: '2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c',
    type_line: 'Legendary Planeswalker ΓÇö Ajani'
  }
}
[deck] Validation result {
  gameId: 'game_mjwpo1r7',
  format: 'commander',
  illegalCount: 3,
  warningCount: 0
}
[deck] importDeck pregame-check {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  phaseStr: 'PRE_GAME',
  seqVal: 3,
  isPreGame: true
}
[deck] clearPlayerTransientZonesForImport { gameId: 'game_mjwpo1r7', playerId: 'p_gevlks1b' }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  pendingInitialDrawSize: 1
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:31.427Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348511427_tek7g) ==========
2026-01-02T10:08:31.427Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:31.427Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348511427_tek7g)
[deck] importDeck (pre-game) emitting suggestCommanders {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  names: [ 'Myrel, Shield of Argive' ]
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  candidatesCount: 18
}
[import] applyConfirmedImport start {
  gameId: 'game_mjwpo1r7',
  initiator: 'p_gevlks1b',
  cards: 18,
  importerOnly: true,
  confirmId: 'imp_1767348511426_hrvy7k'
}
[import] importer-only apply: skipping full reset { gameId: 'game_mjwpo1r7' }
[importDeckResolved] Importing 18 cards for player p_gevlks1b
[importDeckResolved] Mapped 18 cards. First card: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312)
[importDeckResolved] Library set for player p_gevlks1b. Final library size: 18
[import] importDeckResolved attempted { gameId: 'game_mjwpo1r7', playerId: 'p_gevlks1b' }
[import] state.zones libraryCount update (no library array duplication) { gameId: 'game_mjwpo1r7', playerId: 'p_gevlks1b', libraryCount: 18 }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  pendingInitialDrawSize: 1
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:31.644Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348511644_sg4n9) ==========
2026-01-02T10:08:31.644Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:31.644Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348511644_sg4n9)
[commander] emitImportedDeckCandidatesToPlayer {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  candidatesCount: 18
}
[commander] emitSuggestCommandersToPlayer {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] suggestCommanders emitted (importerSocket) {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  names: [ 'Myrel, Shield of Argive' ]
}
[import] importApplied sent to player sockets { gameId: 'game_mjwpo1r7', playerId: 'p_gevlks1b' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:31.645Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348511645_2nkt4) ==========
2026-01-02T10:08:31.645Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:31.645Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348511645_2nkt4)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 0, firstKnown: [] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 0 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:31.646Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348511646_adud6) ==========
2026-01-02T10:08:31.647Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:31.647Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348511646_adud6)
[import] applyConfirmedImport complete {
  gameId: 'game_mjwpo1r7',
  initiator: 'p_gevlks1b',
  confirmId: 'imp_1767348511426_hrvy7k'
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  candidatesCount: 18
}
[commander] setCommander incoming {
  gameId: 'game_mjwpo1r7',
  from: 'p_gevlks1b',
  commanderNames: [ 'Myrel, Shield of Argive' ],
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312' ]
}
[commander] setCommander idsToApply {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  names: [ 'Myrel, Shield of Argive' ],
  idsToApply: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312' ]
}
[commander-socket] Calling game.setCommander for player p_gevlks1b with names: [ 'Myrel, Shield of Argive' ] ids: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312' ]
[setCommander] Initialized inCommandZone for p_gevlks1b: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312' ]
[setCommander] Library size before commander removal: 18, Commander IDs to remove: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312' ]
[setCommander] Found commander "Myrel, Shield of Argive" (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 18
[setCommander] Removed card at index 0: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312)
[setCommander] Library size after removal: 17
[setCommander] Updated zones[p_gevlks1b].libraryCount to 17
[commander] Persisted opening draw events (shuffle + draw 7) for player p_gevlks1b
[DEBUG_CMD] after setCommander {
  gameId: 'game_mjwpo1r7',
  playerId: 'p_gevlks1b',
  commanderIds: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjwpo729_1_0c595312' ],
  commanderNames: [ 'Myrel, Shield of Argive' ],
  libraryCount: 10,
  libraryTop: null
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:32.943Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348512943_mcrop) ==========
2026-01-02T10:08:32.943Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:32.943Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348512943_mcrop)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=undefined, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:38.720Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348518720_icjol) ==========
2026-01-02T10:08:38.720Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: pre_game, Step: undefined
2026-01-02T10:08:38.720Z [checkAndTriggerAutoPass] In pre_game phase, auto-pass disabled (ID: autopass_1767348518720_icjol)
[skipToPhase] request from player=p_gevlks1b game=game_mjwpo1r7 turnPlayer=p_gevlks1b currentPhase=pre_game currentStep= targetPhase=precombatMain targetStep=MAIN1
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[skipToPhase] Drew 1 card(s) for p_gevlks1b (skipped from  to MAIN1, additional: 0)
[skipToPhase] Reset priority tracking, priority set to p_gevlks1b
[skipToPhase] Skipped to phase=precombatMain, step=MAIN1 for game game_mjwpo1r7
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 8, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_4_1ffb35df) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_3_fb5b4832) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_2_113916bf) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 5 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_4_1ffb35df',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_3_fb5b4832',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_2_113916bf'
]
[normalizeViewForEmit] getPlayableCardIds returned 5 cards
[normalizeViewForEmit] Set view.playableCards with 5 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:39.678Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348519678_g6kgn) ==========
2026-01-02T10:08:39.678Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:39.678Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348519678_g6kgn)
2026-01-02T10:08:39.678Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348519678_g6kgn)
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[playLand] Player p_gevlks1b has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:40.771Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348520771_ucg17) ==========
2026-01-02T10:08:40.771Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.771Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.771Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.771Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348520771_ucg17)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:40.775Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348520775_sc7g2) ==========
2026-01-02T10:08:40.775Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.776Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.776Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.776Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.932Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348520771_ucg17) ==========
2026-01-02T10:08:40.932Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.932Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.932Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.932Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.932Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.934Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.946Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:40.946Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:40.946Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T10:08:40.946Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:40.946Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:40.947Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:40.947Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_gevlks1b: 0
2026-01-02T10:08:40.948Z [nextStep] Granting priority to active player p_gevlks1b (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:40.949Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:40.949Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:40.949Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:40.949Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at BEGIN_COMBAT)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:40.949Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:40.949Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.949Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348520771_ucg17)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:40.950Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348520950_y0hsn) ==========
2026-01-02T10:08:40.950Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.950Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:40.950Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:40.950Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:40.950Z [executeAutoPass] Broadcast complete (ID: autopass_1767348520771_ucg17)
2026-01-02T10:08:40.950Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348520775_sc7g2) ==========
2026-01-02T10:08:40.950Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.951Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.951Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.951Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.951Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.951Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.951Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:40.951Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:40.951Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T10:08:40.951Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:40.951Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:40.951Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T10:08:40.951Z [nextStep] Granting priority to active player p_gevlks1b (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:40.951Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:40.951Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:40.951Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:40.951Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at DECLARE_ATTACKERS)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:40.951Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:40.951Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.951Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348520775_sc7g2)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:40.952Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348520952_n0uyo) ==========
2026-01-02T10:08:40.952Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.952Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:40.952Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:40.952Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:40.952Z [executeAutoPass] Broadcast complete (ID: autopass_1767348520775_sc7g2)
2026-01-02T10:08:40.957Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:40.957Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:40.957Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T10:08:40.957Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:40.957Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T10:08:40.957Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T10:08:40.957Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T10:08:40.957Z [nextStep] Granting priority to active player p_gevlks1b (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:40.957Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:40.957Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:40.957Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:40.957Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at DECLARE_BLOCKERS)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:40.958Z [nextStep] All players auto-passed after granting priority - caller should advance step
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:40.959Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348520959_waxdf) ==========
2026-01-02T10:08:40.959Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:40.959Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:40.959Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:40.959Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.116Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348520950_y0hsn) ==========
2026-01-02T10:08:41.116Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.116Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.116Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.116Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.116Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.116Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.117Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:41.117Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:41.117Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T10:08:41.117Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:41.117Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:41.117Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T10:08:41.117Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T10:08:41.118Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T10:08:41.118Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T10:08:41.118Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T10:08:41.118Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T10:08:41.118Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T10:08:41.118Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T10:08:41.118Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T10:08:41.118Z [nextStep] Granting priority to active player p_gevlks1b (step: DAMAGE, stack size: 0)
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:41.118Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:41.118Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:41.118Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:41.118Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at DAMAGE)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:41.118Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:41.118Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.118Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348520950_y0hsn)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:41.119Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348521119_dsit0) ==========
2026-01-02T10:08:41.119Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DAMAGE
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.119Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.119Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.119Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.119Z [executeAutoPass] Broadcast complete (ID: autopass_1767348520950_y0hsn)
2026-01-02T10:08:41.119Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348520952_n0uyo) ==========
2026-01-02T10:08:41.119Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.119Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.119Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.119Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.119Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.119Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.120Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:41.120Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:41.120Z [nextStep] Current: combat/DAMAGE
2026-01-02T10:08:41.120Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:41.120Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:41.120Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T10:08:41.120Z [nextStep] Granting priority to active player p_gevlks1b (step: END_COMBAT, stack size: 0)
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:41.120Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:41.120Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:41.120Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:41.120Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at END_COMBAT)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:41.120Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:41.120Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.120Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348520952_n0uyo)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:41.121Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348521121_efgoo) ==========
2026-01-02T10:08:41.121Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: END_COMBAT
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.121Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.121Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.121Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.121Z [executeAutoPass] Broadcast complete (ID: autopass_1767348520952_n0uyo)
2026-01-02T10:08:41.121Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348520959_waxdf) ==========
2026-01-02T10:08:41.121Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.121Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.121Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.121Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.121Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.121Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.121Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:41.121Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:41.121Z [nextStep] Current: combat/END_COMBAT
2026-01-02T10:08:41.121Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:41.121Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:41.122Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:41.122Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T10:08:41.122Z [nextStep] Granting priority to active player p_gevlks1b (step: MAIN2, stack size: 0)
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:41.122Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:41.122Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:41.122Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:41.122Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at MAIN2)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:41.122Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:41.122Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.122Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348520959_waxdf)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:41.124Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348521124_ssxx3) ==========
2026-01-02T10:08:41.124Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: postcombatMain, Step: MAIN2
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.124Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.124Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.124Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.124Z [executeAutoPass] Broadcast complete (ID: autopass_1767348520959_waxdf)
2026-01-02T10:08:41.270Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348521119_dsit0) ==========
2026-01-02T10:08:41.270Z [executeAutoPass] Phase: postcombatMain, Step: MAIN2
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.270Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.270Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.270Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.270Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.271Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.271Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:41.271Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:41.271Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T10:08:41.271Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:41.271Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:41.271Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:41.271Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T10:08:41.271Z [nextStep] Granting priority to active player p_gevlks1b (step: END, stack size: 0)
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:41.271Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:41.271Z [nextStep]   Hand (7): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains
2026-01-02T10:08:41.271Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:41.271Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=END
[priority] autoPassLoop - continuing auto-pass for p_gevlks1b: moving toward phase navigator target (currently at END)
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:41.272Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:41.272Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.272Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348521119_dsit0)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:41.273Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348521273_mtego) ==========
2026-01-02T10:08:41.273Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: ending, Step: END
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.273Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348521273_mtego)
2026-01-02T10:08:41.273Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348521273_mtego)
2026-01-02T10:08:41.273Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348521273_mtego)
2026-01-02T10:08:41.273Z [executeAutoPass] Broadcast complete (ID: autopass_1767348521119_dsit0)
2026-01-02T10:08:41.275Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348521121_efgoo) ==========
2026-01-02T10:08:41.275Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.276Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.276Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.276Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.276Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.285Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.286Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:41.286Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:41.286Z [nextStep] Current: ending/END
2026-01-02T10:08:41.286Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:41.286Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:41.286Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T10:08:41.286Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T10:08:41.286Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T10:08:41.287Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T10:08:41.287Z [nextTurn] Cleared justSkippedToPhase flag for new turn
2026-01-02T10:08:41.287Z [nextTurn] Advanced to player p_gevlks1b, phase=beginning, step=UPKEEP
2026-01-02T10:08:41.287Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:41.287Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-02T10:08:41.288Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.288Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348521121_efgoo)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:41.288Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348521288_n9mbj) ==========
2026-01-02T10:08:41.288Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: beginning, Step: UPKEEP
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.288Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348521288_n9mbj)
2026-01-02T10:08:41.288Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348521288_n9mbj)
2026-01-02T10:08:41.288Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348521288_n9mbj)
2026-01-02T10:08:41.289Z [executeAutoPass] Broadcast complete (ID: autopass_1767348521121_efgoo)
2026-01-02T10:08:41.289Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348521124_ssxx3) ==========
2026-01-02T10:08:41.289Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:41.289Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.289Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.289Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.289Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.290Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.290Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:41.290Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:41.290Z [nextStep] Current: beginning/UPKEEP
2026-01-02T10:08:41.290Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:41.290Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:41.290Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T10:08:41.290Z [nextStep] Drew 1 card(s) for p_gevlks1b at draw step (base: 1, additional: 0)
2026-01-02T10:08:41.291Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T10:08:41.291Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T10:08:41.291Z [nextStep] Granting priority to active player p_gevlks1b (step: MAIN1, stack size: 0)
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:41.291Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:41.291Z [nextStep]   Hand (8): Plains, Plains, Arcane Signet, Ajani Goldmane, Arcane Signet, Plains, Plains, Plains
2026-01-02T10:08:41.291Z [nextStep]   canAct: true, canRespond: false
2026-01-02T10:08:41.291Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_gevlks1b: active player can act
2026-01-02T10:08:41.291Z [nextStep] Auto-pass stopped, player p_gevlks1b has priority
2026-01-02T10:08:41.292Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.292Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348521124_ssxx3)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 8, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_4_1ffb35df) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_3_fb5b4832) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 5 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_4_1ffb35df',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_3_fb5b4832',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95'
]
[normalizeViewForEmit] getPlayableCardIds returned 5 cards
[normalizeViewForEmit] Set view.playableCards with 5 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:41.293Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348521293_eec65) ==========
2026-01-02T10:08:41.293Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:41.293Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348521293_eec65)
2026-01-02T10:08:41.293Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348521293_eec65)
2026-01-02T10:08:41.293Z [executeAutoPass] Broadcast complete (ID: autopass_1767348521124_ssxx3)
2026-01-02T10:08:41.425Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348521273_mtego) ==========
2026-01-02T10:08:41.425Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:41.425Z [executeAutoPass] Re-check: p_gevlks1b canAct=true (ID: autopass_1767348521273_mtego)
2026-01-02T10:08:41.425Z [executeAutoPass] Player p_gevlks1b CAN NOW ACT - canceling auto-pass (ID: autopass_1767348521273_mtego)
2026-01-02T10:08:41.441Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348521288_n9mbj) ==========
2026-01-02T10:08:41.441Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 8 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:41.441Z [executeAutoPass] Re-check: p_gevlks1b canAct=true (ID: autopass_1767348521288_n9mbj)
2026-01-02T10:08:41.441Z [executeAutoPass] Player p_gevlks1b CAN NOW ACT - canceling auto-pass (ID: autopass_1767348521288_n9mbj)
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[playLand] Player p_gevlks1b has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60) is playable
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c) is playable
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 2 playable card(s): [
  '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60',
  '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:43.272Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348523272_2x3hk) ==========
2026-01-02T10:08:43.272Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
2026-01-02T10:08:43.272Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348523272_2x3hk)
2026-01-02T10:08:43.272Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348523272_2x3hk)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60) is playable
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c) is playable
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 2 playable card(s): [
  '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60',
  '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:43.274Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348523274_odhty) ==========
2026-01-02T10:08:43.274Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
2026-01-02T10:08:43.274Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348523274_odhty)
2026-01-02T10:08:43.274Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348523274_odhty)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwpo1r7, cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c, faceIndex: undefined
[requestCastSpell] playerId: p_gevlks1b, priority: p_gevlks1b
[requestCastSpell] No targets needed, emitted paymentRequired for Arcane Signet
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c, effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c_1767348524486
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_3iknebka","mana":"W","count":1},{"permanentId":"perm_sjsqyvex","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c_1767348524486
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_3iknebka","mana":"W","count":1},{"permanentId":"perm_sjsqyvex","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_gevlks1b
[handleCastSpellFromHand] priority: p_gevlks1b
[handleCastSpellFromHand] Arcane Signet: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Arcane Signet: [
  { permanentId: 'perm_3iknebka', mana: 'W', count: 1 },
  { permanentId: 'perm_sjsqyvex', mana: 'W', count: 1 }
]
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Consumed 2 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Arcane Signet
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_gevlks1b cast Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_g_805a269c) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 1,
  stackItems: [ 'Arcane Signet' ],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.305Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525305_jwerr) ==========
2026-01-02T10:08:45.305Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.305Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.305Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.305Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.461Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525305_jwerr) ==========
2026-01-02T10:08:45.461Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.461Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.461Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.461Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525305_jwerr)
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:45.462Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767348525305_jwerr)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_gevlks1b
[resolveTopOfStack] Permanent Arcane Signet entered battlefield under p_gevlks1b
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T10:08:45.468Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.468Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525305_jwerr)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.470Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525470_24ude) ==========
2026-01-02T10:08:45.470Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.471Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.471Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.471Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.471Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525305_jwerr)
2026-01-02T10:08:45.634Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525470_24ude) ==========
2026-01-02T10:08:45.634Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.635Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.635Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.635Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.635Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.635Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.635Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:45.635Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:45.635Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T10:08:45.635Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:45.635Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:45.635Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:45.635Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_gevlks1b: 0
2026-01-02T10:08:45.635Z [nextStep] Granting priority to active player p_gevlks1b (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:45.636Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:45.636Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:45.636Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:45.636Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:45.636Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:45.636Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.636Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525470_24ude)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.636Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525636_t2lau) ==========
2026-01-02T10:08:45.636Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.636Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.636Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.636Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.636Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525470_24ude)
2026-01-02T10:08:45.791Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525636_t2lau) ==========
2026-01-02T10:08:45.791Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.791Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.791Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.791Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.791Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.791Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.792Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:45.792Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:45.792Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T10:08:45.792Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:45.792Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:45.792Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T10:08:45.792Z [nextStep] Granting priority to active player p_gevlks1b (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:45.792Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:45.792Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:45.792Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:45.792Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:45.792Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:45.792Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.792Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525636_t2lau)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.793Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525793_gaq6d) ==========
2026-01-02T10:08:45.793Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.793Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.793Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.793Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.793Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525636_t2lau)
2026-01-02T10:08:45.795Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:45.795Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:45.795Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T10:08:45.795Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:45.795Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T10:08:45.795Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T10:08:45.795Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T10:08:45.795Z [nextStep] Granting priority to active player p_gevlks1b (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:45.795Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:45.795Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:45.795Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:45.795Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:45.796Z [nextStep] All players auto-passed after granting priority - caller should advance step
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.796Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525796_lvx1y) ==========
2026-01-02T10:08:45.796Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.796Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.796Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.797Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.946Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525793_gaq6d) ==========
2026-01-02T10:08:45.946Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.946Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.946Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.946Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.946Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.946Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.947Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:45.947Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:45.947Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T10:08:45.947Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:45.947Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:45.947Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T10:08:45.947Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T10:08:45.947Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T10:08:45.947Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T10:08:45.947Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T10:08:45.947Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T10:08:45.947Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T10:08:45.947Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T10:08:45.947Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T10:08:45.947Z [nextStep] Granting priority to active player p_gevlks1b (step: DAMAGE, stack size: 0)
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:45.947Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:45.947Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:45.947Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:45.947Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:45.947Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:45.947Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.947Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525793_gaq6d)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.948Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525948_cn6mw) ==========
2026-01-02T10:08:45.948Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DAMAGE
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.948Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:45.948Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:45.948Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:45.948Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525793_gaq6d)
2026-01-02T10:08:45.950Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525796_lvx1y) ==========
2026-01-02T10:08:45.950Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.950Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.950Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.950Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.950Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.950Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.951Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:45.951Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:45.951Z [nextStep] Current: combat/DAMAGE
2026-01-02T10:08:45.951Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:45.951Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:45.951Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T10:08:45.951Z [nextStep] Granting priority to active player p_gevlks1b (step: END_COMBAT, stack size: 0)
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:45.951Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:45.951Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:45.951Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:45.951Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:45.951Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:45.951Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:45.951Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525796_lvx1y)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:45.952Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348525952_yff3j) ==========
2026-01-02T10:08:45.952Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: END_COMBAT
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:45.952Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:45.952Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:45.952Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:45.952Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525796_lvx1y)
2026-01-02T10:08:46.099Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525948_cn6mw) ==========
2026-01-02T10:08:46.099Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.099Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.099Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.099Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.099Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.099Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.099Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:46.099Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:46.099Z [nextStep] Current: combat/END_COMBAT
2026-01-02T10:08:46.099Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:46.099Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:46.099Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:46.099Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T10:08:46.099Z [nextStep] Granting priority to active player p_gevlks1b (step: MAIN2, stack size: 0)
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:46.100Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:46.100Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:46.100Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:46.100Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:46.100Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:46.100Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.100Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525948_cn6mw)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Arcane Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:46.101Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348526101_uta4y) ==========
2026-01-02T10:08:46.101Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: postcombatMain, Step: MAIN2
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.101Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.101Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.101Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.101Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525948_cn6mw)
2026-01-02T10:08:46.104Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348525952_yff3j) ==========
2026-01-02T10:08:46.104Z [executeAutoPass] Phase: postcombatMain, Step: MAIN2
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.104Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.104Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.104Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.104Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.104Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.104Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:46.104Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:46.104Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T10:08:46.104Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:46.104Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:46.104Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:46.104Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T10:08:46.104Z [nextStep] Granting priority to active player p_gevlks1b (step: END, stack size: 0)
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:46.105Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:46.105Z [nextStep]   Hand (6): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:46.105Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:46.105Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:46.105Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:46.105Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.105Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348525952_yff3j)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:46.105Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348526105_joaz2) ==========
2026-01-02T10:08:46.105Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: ending, Step: END
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.105Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.105Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.105Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.105Z [executeAutoPass] Broadcast complete (ID: autopass_1767348525952_yff3j)
2026-01-02T10:08:46.253Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348526101_uta4y) ==========
2026-01-02T10:08:46.253Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.253Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.253Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.254Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.254Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.254Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.254Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:46.254Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:46.254Z [nextStep] Current: ending/END
2026-01-02T10:08:46.254Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:46.254Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:46.254Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T10:08:46.254Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T10:08:46.254Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T10:08:46.254Z [untapPermanentsForPlayer] Player p_gevlks1b: untapped 2, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T10:08:46.254Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T10:08:46.254Z [nextTurn] Advanced to player p_gevlks1b, phase=beginning, step=UPKEEP
2026-01-02T10:08:46.254Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:46.254Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-02T10:08:46.254Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.255Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348526101_uta4y)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:46.255Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348526255_hoo9h) ==========
2026-01-02T10:08:46.255Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: beginning, Step: UPKEEP
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.256Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348526255_hoo9h)
2026-01-02T10:08:46.256Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348526255_hoo9h)
2026-01-02T10:08:46.256Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348526255_hoo9h)
2026-01-02T10:08:46.256Z [executeAutoPass] Broadcast complete (ID: autopass_1767348526101_uta4y)
2026-01-02T10:08:46.258Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348526105_joaz2) ==========
2026-01-02T10:08:46.258Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:46.258Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.258Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.258Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.258Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.258Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.259Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:46.259Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:46.259Z [nextStep] Current: beginning/UPKEEP
2026-01-02T10:08:46.259Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:46.259Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:46.259Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T10:08:46.259Z [nextStep] Drew 1 card(s) for p_gevlks1b at draw step (base: 1, additional: 0)
2026-01-02T10:08:46.259Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T10:08:46.259Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T10:08:46.259Z [nextStep] Granting priority to active player p_gevlks1b (step: MAIN1, stack size: 0)
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 7 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact), Ajani Goldmane(Legendary Planeswalk)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:46.259Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:46.259Z [nextStep]   Hand (7): Plains, Arcane Signet, Ajani Goldmane, Plains, Plains, Plains, Plains
2026-01-02T10:08:46.259Z [nextStep]   canAct: true, canRespond: false
2026-01-02T10:08:46.259Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 7 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact), Ajani Goldmane(Legendary Planeswalk)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_gevlks1b: active player can act
2026-01-02T10:08:46.259Z [nextStep] Auto-pass stopped, player p_gevlks1b has priority
2026-01-02T10:08:46.259Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.259Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348526105_joaz2)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 7, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60) is playable
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_3_fb5b4832) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_7_68080276) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 6 playable card(s): [
  '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_3_fb5b4832',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_7_68080276'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 7 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact), Ajani Goldmane(Legendary Planeswalk)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:46.260Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348526260_fkera) ==========
2026-01-02T10:08:46.260Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 7 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact), Ajani Goldmane(Legendary Planeswalk)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:46.260Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348526260_fkera)
2026-01-02T10:08:46.260Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348526260_fkera)
2026-01-02T10:08:46.260Z [executeAutoPass] Broadcast complete (ID: autopass_1767348526105_joaz2)
2026-01-02T10:08:46.409Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348526255_hoo9h) ==========
2026-01-02T10:08:46.409Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 7 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Arcane Signet(Artifact), Ajani Goldmane(Legendary Planeswalk)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:46.409Z [executeAutoPass] Re-check: p_gevlks1b canAct=true (ID: autopass_1767348526255_hoo9h)
2026-01-02T10:08:46.409Z [executeAutoPass] Player p_gevlks1b CAN NOW ACT - canceling auto-pass (ID: autopass_1767348526255_hoo9h)
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[playLand] Player p_gevlks1b has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60) is playable
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:47.699Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348527699_3a3jw) ==========
2026-01-02T10:08:47.699Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
2026-01-02T10:08:47.699Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348527699_3a3jw)
2026-01-02T10:08:47.699Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348527699_3a3jw)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60) is playable
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:47.701Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348527701_c2aup) ==========
2026-01-02T10:08:47.701Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: Can cast sorcery-speed spell - returning TRUE
2026-01-02T10:08:47.701Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348527701_c2aup)
2026-01-02T10:08:47.701Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348527701_c2aup)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwpo1r7, cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60, faceIndex: undefined
[requestCastSpell] playerId: p_gevlks1b, priority: p_gevlks1b
[requestCastSpell] No targets needed, emitted paymentRequired for Arcane Signet
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60, effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60_1767348529434
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_3iknebka","mana":"W","count":1},{"permanentId":"perm_sjsqyvex","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60_1767348529434
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_3iknebka","mana":"W","count":1},{"permanentId":"perm_sjsqyvex","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_gevlks1b
[handleCastSpellFromHand] priority: p_gevlks1b
[handleCastSpellFromHand] Arcane Signet: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Arcane Signet: [
  { permanentId: 'perm_3iknebka', mana: 'W', count: 1 },
  { permanentId: 'perm_sjsqyvex', mana: 'W', count: 1 }
]
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Consumed 2 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Arcane Signet
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_gevlks1b cast Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjwpo729_f_22614a60) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 1,
  stackItems: [ 'Arcane Signet' ],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:50.889Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348530889_ay9h7) ==========
2026-01-02T10:08:50.889Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:50.889Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:50.889Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:50.889Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:51.043Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348530889_ay9h7) ==========
2026-01-02T10:08:51.043Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.044Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:51.044Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:51.044Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348530889_ay9h7)
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.044Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767348530889_ay9h7)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_gevlks1b
[resolveTopOfStack] Permanent Arcane Signet entered battlefield under p_gevlks1b
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T10:08:51.046Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:51.046Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348530889_ay9h7)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.047Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531047_j4lfy) ==========
2026-01-02T10:08:51.047Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.048Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.048Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.048Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.048Z [executeAutoPass] Broadcast complete (ID: autopass_1767348530889_ay9h7)
2026-01-02T10:08:51.212Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531047_j4lfy) ==========
2026-01-02T10:08:51.212Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.213Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.213Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.213Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.213Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.213Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.213Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.213Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.213Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T10:08:51.213Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.213Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.214Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:51.214Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_gevlks1b: 0
2026-01-02T10:08:51.214Z [nextStep] Granting priority to active player p_gevlks1b (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.214Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.214Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.214Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.214Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.214Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:51.214Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.214Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531047_j4lfy)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.215Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531215_d3alj) ==========
2026-01-02T10:08:51.215Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.215Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.215Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.215Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.215Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531047_j4lfy)
2026-01-02T10:08:51.366Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531215_d3alj) ==========
2026-01-02T10:08:51.366Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_gevlks1b: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.366Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.366Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.366Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.366Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.367Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.367Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.367Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.367Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T10:08:51.367Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.367Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.367Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T10:08:51.367Z [nextStep] Granting priority to active player p_gevlks1b (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.367Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.367Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.367Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.367Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.367Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:51.367Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.367Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531215_d3alj)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.368Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531368_qsu1t) ==========
2026-01-02T10:08:51.368Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_gevlks1b: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.368Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.368Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.368Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.368Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531215_d3alj)
2026-01-02T10:08:51.371Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.371Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.371Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T10:08:51.371Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.371Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-02T10:08:51.371Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T10:08:51.371Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T10:08:51.371Z [nextStep] Granting priority to active player p_gevlks1b (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.371Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.371Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.371Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.371Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.371Z [nextStep] All players auto-passed after granting priority - caller should advance step
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.372Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531372_eercl) ==========
2026-01-02T10:08:51.372Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.372Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.372Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.372Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.520Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531368_qsu1t) ==========
2026-01-02T10:08:51.521Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_gevlks1b: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.521Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.521Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.521Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.521Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.521Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.521Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.521Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.521Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T10:08:51.521Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.521Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.521Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T10:08:51.521Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T10:08:51.521Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T10:08:51.521Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T10:08:51.521Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T10:08:51.521Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T10:08:51.521Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T10:08:51.521Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T10:08:51.521Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T10:08:51.521Z [nextStep] Granting priority to active player p_gevlks1b (step: DAMAGE, stack size: 0)
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.522Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.522Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.522Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.522Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.522Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:51.522Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.522Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531368_qsu1t)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.523Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531523_2enxm) ==========
2026-01-02T10:08:51.523Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: DAMAGE
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.523Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.523Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.523Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.523Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531368_qsu1t)
2026-01-02T10:08:51.525Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531372_eercl) ==========
2026-01-02T10:08:51.525Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_gevlks1b: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.526Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.526Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.526Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.526Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.526Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.526Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.526Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.526Z [nextStep] Current: combat/DAMAGE
2026-01-02T10:08:51.526Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.526Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.526Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T10:08:51.526Z [nextStep] Granting priority to active player p_gevlks1b (step: END_COMBAT, stack size: 0)
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.526Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.526Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.526Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.526Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.526Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:51.526Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.526Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531372_eercl)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.527Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531527_e0wcn) ==========
2026-01-02T10:08:51.527Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: combat, Step: END_COMBAT
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.527Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.527Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.527Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.528Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531372_eercl)
2026-01-02T10:08:51.676Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531523_2enxm) ==========
2026-01-02T10:08:51.676Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_gevlks1b: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.676Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.676Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.676Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.676Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.676Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.676Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.676Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.676Z [nextStep] Current: combat/END_COMBAT
2026-01-02T10:08:51.676Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.676Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.676Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:51.676Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T10:08:51.676Z [nextStep] Granting priority to active player p_gevlks1b (step: MAIN2, stack size: 0)
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.677Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.677Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.677Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.677Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.677Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:51.677Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.677Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531523_2enxm)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.678Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531678_785qq) ==========
2026-01-02T10:08:51.678Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: postcombatMain, Step: MAIN2
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.679Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.679Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.679Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.679Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531523_2enxm)
2026-01-02T10:08:51.681Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531527_e0wcn) ==========
2026-01-02T10:08:51.681Z [executeAutoPass] Phase: postcombatMain, Step: MAIN2
[canAct] p_gevlks1b: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Already played max lands this turn (1/1)
[canAct] p_gevlks1b: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.682Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.682Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.682Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.682Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.682Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.682Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.682Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.682Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T10:08:51.682Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.682Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.682Z [clearManaPool] Processed mana pools for all players
2026-01-02T10:08:51.682Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T10:08:51.682Z [nextStep] Granting priority to active player p_gevlks1b (step: END, stack size: 0)
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.682Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.682Z [nextStep]   Hand (5): Plains, Ajani Goldmane, Plains, Plains, Plains
2026-01-02T10:08:51.683Z [nextStep]   canAct: false, canRespond: false
2026-01-02T10:08:51.683Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.683Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-02T10:08:51.683Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.683Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531527_e0wcn)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.683Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531683_ck1oz) ==========
2026-01-02T10:08:51.683Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: ending, Step: END
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.684Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.684Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.684Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.684Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531527_e0wcn)
2026-01-02T10:08:51.830Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531678_785qq) ==========
2026-01-02T10:08:51.831Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_gevlks1b: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.831Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.831Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.831Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.831Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.831Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.831Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.831Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.831Z [nextStep] Current: ending/END
2026-01-02T10:08:51.831Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.831Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.831Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T10:08:51.831Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T10:08:51.831Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T10:08:51.832Z [untapPermanentsForPlayer] Player p_gevlks1b: untapped 2, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T10:08:51.832Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T10:08:51.832Z [nextTurn] Advanced to player p_gevlks1b, phase=beginning, step=UPKEEP
2026-01-02T10:08:51.832Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:51.832Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-02T10:08:51.832Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.832Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531678_785qq)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:51.833Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531833_i8ke3) ==========
2026-01-02T10:08:51.833Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: beginning, Step: UPKEEP
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.833Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348531833_i8ke3)
2026-01-02T10:08:51.833Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348531833_i8ke3)
2026-01-02T10:08:51.833Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348531833_i8ke3)
2026-01-02T10:08:51.833Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531678_785qq)
2026-01-02T10:08:51.836Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531683_ck1oz) ==========
2026-01-02T10:08:51.836Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_gevlks1b: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:51.836Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.836Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.836Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.836Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.836Z [executeAutoPass] Advancing step after auto-pass for p_gevlks1b (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.837Z [nextStep] ========== CALLED ==========
2026-01-02T10:08:51.837Z [nextStep] Game: game_mjwpo1r7
2026-01-02T10:08:51.837Z [nextStep] Current: beginning/UPKEEP
2026-01-02T10:08:51.837Z [nextStep] Priority: p_gevlks1b, Turn: p_gevlks1b
2026-01-02T10:08:51.837Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T10:08:51.837Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T10:08:51.837Z [nextStep] Drew 1 card(s) for p_gevlks1b at draw step (base: 1, additional: 0)
2026-01-02T10:08:51.837Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T10:08:51.837Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T10:08:51.837Z [nextStep] Granting priority to active player p_gevlks1b (step: MAIN1, stack size: 0)
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 6 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Ajani Goldmane(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
2026-01-02T10:08:51.837Z [nextStep] DEBUG - Turn Player p_gevlks1b:
2026-01-02T10:08:51.837Z [nextStep]   Hand (6): Plains, Ajani Goldmane, Plains, Plains, Plains, Plains
2026-01-02T10:08:51.837Z [nextStep]   canAct: true, canRespond: false
2026-01-02T10:08:51.837Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 6 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Ajani Goldmane(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_gevlks1b: active player can act
2026-01-02T10:08:51.837Z [nextStep] Auto-pass stopped, player p_gevlks1b has priority
2026-01-02T10:08:51.837Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.837Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348531683_ck1oz)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 6, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Ajani Goldmane not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_7_68080276) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_9_21411fc6) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 5 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_7_68080276',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_9_21411fc6'
]
[normalizeViewForEmit] getPlayableCardIds returned 5 cards
[normalizeViewForEmit] Set view.playableCards with 5 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 6 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Ajani Goldmane(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:51.838Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348531838_jv2nw) ==========
2026-01-02T10:08:51.838Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 6 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Ajani Goldmane(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:51.838Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348531838_jv2nw)
2026-01-02T10:08:51.838Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348531838_jv2nw)
2026-01-02T10:08:51.838Z [executeAutoPass] Broadcast complete (ID: autopass_1767348531683_ck1oz)
2026-01-02T10:08:51.986Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348531833_i8ke3) ==========
2026-01-02T10:08:51.986Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 6 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Ajani Goldmane(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:51.986Z [executeAutoPass] Re-check: p_gevlks1b canAct=true (ID: autopass_1767348531833_i8ke3)
2026-01-02T10:08:51.986Z [executeAutoPass] Player p_gevlks1b CAN NOW ACT - canceling auto-pass (ID: autopass_1767348531833_i8ke3)
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwpo1r7, cardId: 2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c, faceIndex: undefined
[requestCastSpell] playerId: p_gevlks1b, priority: p_gevlks1b
[requestCastSpell] No targets needed, emitted paymentRequired for Ajani Goldmane
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c, effectId: cast_2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c_1767348533799
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_3iknebka","mana":"W","count":1},{"permanentId":"perm_sjsqyvex","mana":"W","count":1},{"permanentId":"perm_58fgvikg","mana":"W","count":1},{"permanentId":"perm_u45kvhnq","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c_1767348533799
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_3iknebka","mana":"W","count":1},{"permanentId":"perm_sjsqyvex","mana":"W","count":1},{"permanentId":"perm_58fgvikg","mana":"W","count":1},{"permanentId":"perm_u45kvhnq","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_gevlks1b
[handleCastSpellFromHand] priority: p_gevlks1b
[handleCastSpellFromHand] Ajani Goldmane: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Ajani Goldmane: [
  { permanentId: 'perm_3iknebka', mana: 'W', count: 1 },
  { permanentId: 'perm_sjsqyvex', mana: 'W', count: 1 },
  { permanentId: 'perm_58fgvikg', mana: 'W', count: 1 },
  { permanentId: 'perm_u45kvhnq', mana: 'W', count: 1 }
]
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Plains
[castSpellFromHand] Added 1 W mana to p_gevlks1b's pool from Arcane Signet
[castSpellFromHand] Consumed 2 W mana from pool
[castSpellFromHand] Consumed 2 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Ajani Goldmane
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_gevlks1b cast Ajani Goldmane (2d911053-a026-4b20-ba2d-dbcc367c1413_mjwpo729_i_922b0b2c) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 1,
  stackItems: [ 'Ajani Goldmane' ],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T10:08:55.545Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348535545_777xk) ==========
2026-01-02T10:08:55.545Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:55.545Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=false (ID: autopass_1767348535545_777xk)
2026-01-02T10:08:55.545Z [checkAndTriggerAutoPass] p_gevlks1b CANNOT ACT - proceeding with auto-pass (ID: autopass_1767348535545_777xk)
2026-01-02T10:08:55.545Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_gevlks1b with 150ms delay (ID: autopass_1767348535545_777xk)
2026-01-02T10:08:55.697Z [executeAutoPass] ========== EXECUTING for p_gevlks1b (ID: autopass_1767348535545_777xk) ==========
2026-01-02T10:08:55.698Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
2026-01-02T10:08:55.698Z [executeAutoPass] Re-check: p_gevlks1b canAct=false (ID: autopass_1767348535545_777xk)
2026-01-02T10:08:55.698Z [executeAutoPass] Proceeding with auto-pass for p_gevlks1b (ID: autopass_1767348535545_777xk)
2026-01-02T10:08:55.698Z [executeAutoPass] Set _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348535545_777xk)
[priority] autoPassLoop starting - active players: p_gevlks1b, autoPassEnabled: p_gevlks1b, currentPriority: p_gevlks1b, turnPlayer: p_gevlks1b
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_gevlks1b: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_gevlks1b: No actions available - returning FALSE
[priority] autoPassLoop - checking p_gevlks1b (ACTIVE): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_gevlks1b - no available actions
2026-01-02T10:08:55.698Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767348535545_777xk)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_gevlks1b
[PLANESWALKER DEBUG] Ajani Goldmane entering battlefield: {
  loyalty: undefined,
  baseLoyalty: 0,
  counters: undefined,
  hasOracleText: true,
  oracleTextLength: 243
}
[resolveTopOfStack] Permanent Ajani Goldmane entered battlefield under p_gevlks1b
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T10:08:55.703Z [executeAutoPass] Cleared _autoPassInProgress flag for p_gevlks1b (ID: autopass_1767348535545_777xk)
2026-01-02T10:08:55.703Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767348535545_777xk)
[VIEW_FOR_DEBUG] {
  viewer: 'p_gevlks1b',
  stackLength: 0,
  stackItems: [],
  zones: { p_gevlks1b: { handCount: 5, firstKnown: [Array] } }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking ajani goldmane: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'ajani goldmane'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_gevlks1b, viewerId=p_gevlks1b, match=true
[getPlayableCardIds] Player p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 5 cards in hand
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_7_68080276) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_9_21411fc6) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 5 playable card(s): [
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_8_0ae2bc4e',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_5_bfdae17c',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_6_1b229b95',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_7_68080276',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwpo729_9_21411fc6'
]
[normalizeViewForEmit] getPlayableCardIds returned 5 cards
[normalizeViewForEmit] Set view.playableCards with 5 cards
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 5 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
[canRespond] p_gevlks1b: checking instant-speed responses only
[canRespond] p_gevlks1b: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T10:08:55.706Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767348535706_37wmi) ==========
2026-01-02T10:08:55.706Z [checkAndTriggerAutoPass] Priority: p_gevlks1b, Phase: precombatMain, Step: MAIN1
[canAct] p_gevlks1b: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_gevlks1b, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_gevlks1b: 1 lands per turn
[canPlayLand] p_gevlks1b: Checking hand with 5 cards
[canPlayLand] p_gevlks1b: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_gevlks1b: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_gevlks1b: Turn player in main phase can play land - returning TRUE
2026-01-02T10:08:55.706Z [checkAndTriggerAutoPass] canAct check: p_gevlks1b isActive=true canAct=true (ID: autopass_1767348535706_37wmi)
2026-01-02T10:08:55.706Z [checkAndTriggerAutoPass] p_gevlks1b CAN ACT - returning early, NO auto-pass (ID: autopass_1767348535706_37wmi)
2026-01-02T10:08:55.706Z [executeAutoPass] Broadcast complete (ID: autopass_1767348535545_777xk)
