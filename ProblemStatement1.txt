[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:08:47.282Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406127282_rex24) ==========
2026-01-03T02:08:47.282Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: postcombatMain, Step: MAIN2
2026-01-03T02:08:47.282Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406127282_rex24)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'POSTCOMBATMAIN',
  step: 'MAIN2',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'postcombatmain',
  step: 'main2',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_n1ysna8c
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_hsgmzel8 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:08:47.903Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:47.903Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:47.903Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T02:08:47.903Z [nextStep] Priority: p_n1ysna8c, Turn: p_n1ysna8c
2026-01-03T02:08:47.903Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2459:7)
2026-01-03T02:08:47.903Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:47.903Z [nextStep] Advanced to phase=ending, step=END
2026-01-03T02:08:47.903Z [nextStep] Granting priority to active player p_n1ysna8c (step: END, stack size: 0)
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:08:47.904Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:08:47.904Z [nextStep]   Hand (5): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond
2026-01-03T02:08:47.904Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:47.904Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:08:47.904Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass loop stopping - human player p_n1ysna8c has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:47.907Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406127907_g23zf) ==========
2026-01-03T02:08:47.907Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: ending, Step: END
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:47.907Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:47.908Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:47.908Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:48.072Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406127907_g23zf) ==========
2026-01-03T02:08:48.072Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:48.072Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:48.072Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:48.072Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406127907_g23zf)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:08:48.072Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:48.073Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:48.073Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:48.073Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:48.073Z [nextStep] Current: ending/END
2026-01-03T02:08:48.073Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:08:48.073Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:08:48.073Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T02:08:48.073Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-03T02:08:48.073Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T02:08:48.073Z [nextTurn] Reset planeswalker loyalty activation counters for player p_us4mngje
2026-01-03T02:08:48.073Z [untapPermanentsForPlayer] Player p_us4mngje: untapped 3, stun counters removed 0, skipped (doesn't untap) 0
2026-01-03T02:08:48.073Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-03T02:08:48.073Z [nextTurn] Advanced to player p_us4mngje, phase=beginning, step=UPKEEP
2026-01-03T02:08:48.073Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=true, stack.length=0, step=UPKEEP
[priority] autoPassLoop - stopping at p_us4mngje: active player can act
2026-01-03T02:08:48.073Z [nextTurn] Auto-pass stopped at upkeep, player p_us4mngje has priority
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-03T02:08:48.073Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406127907_g23zf)
2026-01-03T02:08:48.073Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406127907_g23zf)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares (card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_us4mngje: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-03T02:08:48.076Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406128076_zunr9) ==========
2026-01-03T02:08:48.076Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: beginning, Step: UPKEEP
2026-01-03T02:08:48.076Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406128076_zunr9)
2026-01-03T02:08:48.076Z [executeAutoPass] Broadcast complete (ID: autopass_1767406127907_g23zf)
[Automation] Auto-pass for turn disabled for p_n1ysna8c in game game_mjxnub1n
[Automation] Auto-pass for turn state in game game_mjxnub1n: {}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_hsgmzel8 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:08:48.697Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:48.697Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:48.697Z [nextStep] Current: beginning/UPKEEP
2026-01-03T02:08:48.697Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:48.697Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2701:7)
2026-01-03T02:08:48.697Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-03T02:08:48.697Z [nextStep] Drew 1 card(s) for p_us4mngje at draw step (base: 1, additional: 0)
2026-01-03T02:08:48.697Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-03T02:08:48.697Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-03T02:08:48.697Z [nextStep] Granting priority to active player p_us4mngje (step: MAIN1, stack size: 0)
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 8 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 8 cards - returning FALSE
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: Can cast instant/flash spell
2026-01-03T02:08:48.697Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:48.697Z [nextStep]   Hand (8): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Thalia's Lieutenant, Chaos Warp
2026-01-03T02:08:48.697Z [nextStep]   canAct: true, canRespond: true
2026-01-03T02:08:48.697Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 8 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 8 cards - returning FALSE
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_us4mngje: active player can act
2026-01-03T02:08:48.697Z [nextStep] Auto-pass stopped, player p_us4mngje has priority
[AI] Advanced to next step for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Imperial Recruiter (card_05bd329b-5707-42fc-af1c-084cc604e805_7ee01558cb35003b) is playable
[getPlayableCardIds] Card Swords to Plowshares (card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7) is playable
[getPlayableCardIds] Card Aurelia's Vindicator not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Caves of Chaos Adventurer not playable - cannot pay cost {3}{R} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Glory of Warfare not playable - cannot pay cost {2}{R}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Thalia's Lieutenant (card_9c2000ef-3e6b-4f44-8bd6-ed8119336d5a_df6d4ca1cd9fcc4d) is playable
[getPlayableCardIds] Card Chaos Warp (card_d4372203-b930-4e6e-a351-e5b4581eb72b_5330baf837ff3eb0) is playable
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 4 playable card(s): [
  'card_05bd329b-5707-42fc-af1c-084cc604e805_7ee01558cb35003b',
  'card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7',
  'card_9c2000ef-3e6b-4f44-8bd6-ed8119336d5a_df6d4ca1cd9fcc4d',
  'card_d4372203-b930-4e6e-a351-e5b4581eb72b_5330baf837ff3eb0'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 8 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 8 cards - returning FALSE
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-03T02:08:48.701Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406128701_a0995) ==========
2026-01-03T02:08:48.701Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:48.701Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406128701_a0995)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":2,"blue":0,"black":0,"red":1,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 3,
  colors: { white: 2, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
}
[AI] findCastableSpells: Found 4 castable spell(s): [
  'Imperial Recruiter (CMC 3, priority 87)',
  'Swords to Plowshares (CMC 1, priority 84)',
  "Thalia's Lieutenant (CMC 2, priority 88)",
  'Chaos Warp (CMC 3, priority 57)'
]
[AI] Casting spell to avoid discard: Thalia's Lieutenant (hand: 8/7)
[AI] Casting spell: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  cardName: "Thalia's Lieutenant",
  cost: {
    colors: { W: 1, U: 0, B: 0, R: 0, G: 0, C: 0 },
    generic: 1,
    hasX: false,
    hybrid: []
  }
}
[AI] Spell added to stack: Thalia's Lieutenant with 0 target(s)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 1,
  stackItems: [ "Thalia's Lieutenant" ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 1,
  stackItems: [ "Thalia's Lieutenant" ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 1,
  stackItems: [ "Thalia's Lieutenant" ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:08:49.013Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406129013_vvi2l) ==========
2026-01-03T02:08:49.013Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:49.013Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406129013_vvi2l)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Permanent Thalia's Lieutenant entered battlefield under p_us4mngje (summoning sickness)
[resolveTopOfStack] Found 2 ETB trigger(s) for Thalia's Lieutenant
[resolveTopOfStack] ΓÜí Thalia's Lieutenant's triggered ability (controlled by p_us4mngje): put a +1/+1 counter on each other Human you control
[resolveTopOfStack] ΓÜí Auriok Champion's triggered ability (controlled by p_n1ysna8c): you may gain 1 life
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[AI] Stack resolved for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 2,
  stackItems: [ 'trigger_zjdub0fz', 'trigger_k5qijti6' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 2,
  stackItems: [ 'trigger_zjdub0fz', 'trigger_k5qijti6' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 2,
  stackItems: [ 'trigger_zjdub0fz', 'trigger_k5qijti6' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:08:49.326Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406129326_yj2bb) ==========
2026-01-03T02:08:49.326Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:49.326Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406129326_yj2bb)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Triggered ability from Auriok Champion resolved: you may gain 1 life
[executeTriggerEffect] p_n1ysna8c gained 1 life (40 -> 41)
[AI] Stack resolved for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 1,
  stackItems: [ 'trigger_zjdub0fz' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 1,
  stackItems: [ 'trigger_zjdub0fz' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 1,
  stackItems: [ 'trigger_zjdub0fz' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:08:49.334Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406129334_huamv) ==========
2026-01-03T02:08:49.334Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:49.334Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406129334_huamv)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Triggered ability from Thalia's Lieutenant resolved: put a +1/+1 counter on each other Human you control
[AI] Stack resolved for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Imperial Recruiter not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia's Vindicator not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Caves of Chaos Adventurer not playable - cannot pay cost {3}{R} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Glory of Warfare not playable - cannot pay cost {2}{R}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:08:49.525Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406129525_ray6n) ==========
2026-01-03T02:08:49.525Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:49.525Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406129525_ray6n)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  cardName: 'Mountain',
  permanentId: 'perm_ef88r9do'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Imperial Recruiter: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Swords to Plowshares: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Aurelia's Vindicator: need 4 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Caves of Chaos Adventurer: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:08:50.157Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.157Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.157Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T02:08:50.157Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.157Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:50.157Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:50.157Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_us4mngje: 0
2026-01-03T02:08:50.157Z [nextStep] Granting priority to active player p_us4mngje (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_us4mngje: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.157Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.157Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.157Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:50.157Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_n1ysna8c - no available actions
2026-01-03T02:08:50.157Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T02:08:50.158Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.158Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.158Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T02:08:50.158Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.158Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:50.158Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-03T02:08:50.158Z [nextStep] Granting priority to active player p_us4mngje (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_us4mngje: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: Has valid attackers - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.158Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.158Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.158Z [nextStep]   canAct: true, canRespond: false
2026-01-03T02:08:50.158Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: Has valid attackers - returning TRUE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=true, stack.length=0, step=DECLARE_ATTACKERS
[priority] autoPassLoop - stopping at p_us4mngje: active player can act
2026-01-03T02:08:50.158Z [nextStep] Auto-pass stopped, player p_us4mngje has priority
[AI] Auto-advanced to DECLARE_ATTACKERS
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: Has valid attackers - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-03T02:08:50.161Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130161_ghmh2) ==========
2026-01-03T02:08:50.161Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-03T02:08:50.161Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406130161_ghmh2)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Imperial Recruiter: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Swords to Plowshares: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Aurelia's Vindicator: need 4 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Caves of Chaos Adventurer: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:08:50.162Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.162Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.162Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T02:08:50.162Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.162Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.162Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T02:08:50.162Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-03T02:08:50.162Z [nextStep] Granting priority to active player p_us4mngje (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_us4mngje: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.162Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.162Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.162Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:50.162Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_n1ysna8c - no available actions
2026-01-03T02:08:50.162Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T02:08:50.162Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.162Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.162Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T02:08:50.162Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.162Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.162Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T02:08:50.162Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-03T02:08:50.162Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-03T02:08:50.162Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-03T02:08:50.162Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-03T02:08:50.162Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-03T02:08:50.162Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-03T02:08:50.162Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T02:08:50.162Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T02:08:50.163Z [nextStep] Granting priority to active player p_us4mngje (step: DAMAGE, stack size: 0)
[canAct] p_us4mngje: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.163Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.163Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.163Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:50.163Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_n1ysna8c - no available actions
2026-01-03T02:08:50.163Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-03T02:08:50.163Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.163Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.163Z [nextStep] Current: combat/DAMAGE
2026-01-03T02:08:50.163Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.163Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.163Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-03T02:08:50.163Z [nextStep] Granting priority to active player p_us4mngje (step: END_COMBAT, stack size: 0)
[canAct] p_us4mngje: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.163Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.163Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.163Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:50.163Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_n1ysna8c - no available actions
2026-01-03T02:08:50.164Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-03T02:08:50.164Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.164Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.164Z [nextStep] Current: combat/END_COMBAT
2026-01-03T02:08:50.164Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.164Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.164Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:50.164Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T02:08:50.164Z [nextStep] Granting priority to active player p_us4mngje (step: MAIN2, stack size: 0)
[canAct] p_us4mngje: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.164Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.164Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.164Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:50.164Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_n1ysna8c - no available actions
2026-01-03T02:08:50.165Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-03T02:08:50.165Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.165Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.165Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T02:08:50.165Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.165Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.165Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:50.165Z [nextStep] Advanced to phase=ending, step=END
2026-01-03T02:08:50.165Z [nextStep] Granting priority to active player p_us4mngje (step: END, stack size: 0)
[canAct] p_us4mngje: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
2026-01-03T02:08:50.165Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:08:50.165Z [nextStep]   Hand (7): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp
2026-01-03T02:08:50.165Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:50.165Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_n1ysna8c - no available actions
2026-01-03T02:08:50.166Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-03T02:08:50.166Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.166Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.166Z [nextStep] Current: ending/END
2026-01-03T02:08:50.166Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:08:50.166Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.166Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T02:08:50.166Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-03T02:08:50.166Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T02:08:50.166Z [nextTurn] Reset planeswalker loyalty activation counters for player p_hsgmzel8
2026-01-03T02:08:50.166Z [untapPermanentsForPlayer] Player p_hsgmzel8: untapped 3, stun counters removed 0, skipped (doesn't untap) 0
2026-01-03T02:08:50.166Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-03T02:08:50.166Z [nextTurn] Advanced to player p_hsgmzel8, phase=beginning, step=UPKEEP
2026-01-03T02:08:50.166Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:50.166Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[AI] Auto-pass detected after step advancement (iteration 6), advancing again
2026-01-03T02:08:50.167Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:50.167Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:50.167Z [nextStep] Current: beginning/UPKEEP
2026-01-03T02:08:50.167Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:50.167Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:50.167Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-03T02:08:50.167Z [nextStep] Drew 1 card(s) for p_hsgmzel8 at draw step (base: 1, additional: 0)
2026-01-03T02:08:50.167Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-03T02:08:50.167Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-03T02:08:50.167Z [nextStep] Granting priority to active player p_hsgmzel8 (step: MAIN1, stack size: 0)
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Checking hand with 8 cards
[canPlayLand] p_hsgmzel8: Sample cards in hand: [Elvish Ranger(Creature ΓÇö Elf Range), Jaheira, Friend of the Forest(Legendary Creature ΓÇö), Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear(Legendary Creature ΓÇö)]
[canPlayLand] p_hsgmzel8: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_hsgmzel8: Turn player in main phase can play land - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:50.167Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:50.167Z [nextStep]   Hand (8): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Forest, Vigor
2026-01-03T02:08:50.167Z [nextStep]   canAct: true, canRespond: false
2026-01-03T02:08:50.167Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Checking hand with 8 cards
[canPlayLand] p_hsgmzel8: Sample cards in hand: [Elvish Ranger(Creature ΓÇö Elf Range), Jaheira, Friend of the Forest(Legendary Creature ΓÇö), Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear(Legendary Creature ΓÇö)]
[canPlayLand] p_hsgmzel8: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_hsgmzel8: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_hsgmzel8: active player can act
2026-01-03T02:08:50.167Z [nextStep] Auto-pass stopped, player p_hsgmzel8 has priority
[AI] Auto-advanced to MAIN1
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 4, colorless: 1 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Elvish Ranger (card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb) is playable
[getPlayableCardIds] Card Jaheira, Friend of the Forest (card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93) is playable
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves (card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134) is playable
[getPlayableCardIds] Card Caged Sun not playable - cannot pay cost {6} (after reduction: {"generic":6,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Vigor not playable - cannot pay cost {3}{G}{G}{G} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":0,"G":3,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c) is playable
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_777f310df84b9d26) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb',
  'card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93',
  'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809',
  'card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_777f310df84b9d26',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Checking hand with 8 cards
[canPlayLand] p_hsgmzel8: Sample cards in hand: [Elvish Ranger(Creature ΓÇö Elf Range), Jaheira, Friend of the Forest(Legendary Creature ΓÇö), Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear(Legendary Creature ΓÇö)]
[canPlayLand] p_hsgmzel8: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_hsgmzel8: Turn player in main phase can play land - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:50.170Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130170_5vbnt) ==========
2026-01-03T02:08:50.170Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:50.170Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406130170_5vbnt)
[Automation] Auto-pass for turn disabled for p_n1ysna8c in game game_mjxnub1n
[Automation] Auto-pass for turn state in game game_mjxnub1n: {}
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Imperial Recruiter: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Swords to Plowshares: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Aurelia's Vindicator: need 4 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Caves of Chaos Adventurer: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 4, colorless: 1 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Elvish Ranger (card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb) is playable
[getPlayableCardIds] Card Jaheira, Friend of the Forest (card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93) is playable
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves (card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134) is playable
[getPlayableCardIds] Card Caged Sun not playable - cannot pay cost {6} (after reduction: {"generic":6,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Vigor not playable - cannot pay cost {3}{G}{G}{G} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":0,"G":3,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c) is playable
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_777f310df84b9d26) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb',
  'card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93',
  'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809',
  'card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_777f310df84b9d26',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Checking hand with 8 cards
[canPlayLand] p_hsgmzel8: Sample cards in hand: [Elvish Ranger(Creature ΓÇö Elf Range), Jaheira, Friend of the Forest(Legendary Creature ΓÇö), Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear(Legendary Creature ΓÇö)]
[canPlayLand] p_hsgmzel8: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_hsgmzel8: Turn player in main phase can play land - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:50.349Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130349_cf41c) ==========
2026-01-03T02:08:50.349Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:50.349Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406130349_cf41c)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Imperial Recruiter: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Swords to Plowshares: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Aurelia's Vindicator: need 4 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Caves of Chaos Adventurer: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 4, colorless: 1 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Elvish Ranger (card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb) is playable
[getPlayableCardIds] Card Jaheira, Friend of the Forest (card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93) is playable
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves (card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134) is playable
[getPlayableCardIds] Card Caged Sun not playable - cannot pay cost {6} (after reduction: {"generic":6,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Vigor not playable - cannot pay cost {3}{G}{G}{G} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":0,"G":3,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c) is playable
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_777f310df84b9d26) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb',
  'card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93',
  'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809',
  'card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_777f310df84b9d26',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 13 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Checking hand with 8 cards
[canPlayLand] p_hsgmzel8: Sample cards in hand: [Elvish Ranger(Creature ΓÇö Elf Range), Jaheira, Friend of the Forest(Legendary Creature ΓÇö), Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear(Legendary Creature ΓÇö)]
[canPlayLand] p_hsgmzel8: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_hsgmzel8: Turn player in main phase can play land - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 8, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 3 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:50.487Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130487_zi4gz) ==========
2026-01-03T02:08:50.487Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:50.487Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406130487_zi4gz)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_cf8ea6a4eb92890c'
}
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 5, colorless: 1 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elvish Ranger (card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb) is playable
[getPlayableCardIds] Card Jaheira, Friend of the Forest (card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93) is playable
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves (card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134) is playable
[getPlayableCardIds] Card Caged Sun (card_dfe6f9ec-3b7f-4c11-acd1-440e14217e5d_9588525f321aeb61) is playable
[getPlayableCardIds] Card Vigor (card_ea7047d8-8d32-48a3-829b-7eb5427ed53a_9177e03ffbba368f) is playable
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb',
  'card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93',
  'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809',
  'card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134',
  'card_dfe6f9ec-3b7f-4c11-acd1-440e14217e5d_9588525f321aeb61',
  'card_ea7047d8-8d32-48a3-829b-7eb5427ed53a_9177e03ffbba368f',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_hsgmzel8: Commander Omnath, Locus of Mana can be cast (main phase, empty stack)
[canAct] p_hsgmzel8: Can cast commander from command zone - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:50.493Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130493_udc44) ==========
2026-01-03T02:08:50.493Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:50.493Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406130493_udc44)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Imperial Recruiter: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Swords to Plowshares: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Aurelia's Vindicator: need 4 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Caves of Chaos Adventurer: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 5, colorless: 1 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elvish Ranger (card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb) is playable
[getPlayableCardIds] Card Jaheira, Friend of the Forest (card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93) is playable
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves (card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134) is playable
[getPlayableCardIds] Card Caged Sun (card_dfe6f9ec-3b7f-4c11-acd1-440e14217e5d_9588525f321aeb61) is playable
[getPlayableCardIds] Card Vigor (card_ea7047d8-8d32-48a3-829b-7eb5427ed53a_9177e03ffbba368f) is playable
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb',
  'card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93',
  'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809',
  'card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134',
  'card_dfe6f9ec-3b7f-4c11-acd1-440e14217e5d_9588525f321aeb61',
  'card_ea7047d8-8d32-48a3-829b-7eb5427ed53a_9177e03ffbba368f',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_hsgmzel8: Commander Omnath, Locus of Mana can be cast (main phase, empty stack)
[canAct] p_hsgmzel8: Can cast commander from command zone - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:50.496Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130496_emgj7) ==========
2026-01-03T02:08:50.496Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:50.496Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406130496_emgj7)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Imperial Recruiter: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Swords to Plowshares: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Aurelia's Vindicator: need 4 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Caves of Chaos Adventurer: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 5, colorless: 1 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elvish Ranger (card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb) is playable
[getPlayableCardIds] Card Jaheira, Friend of the Forest (card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93) is playable
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves (card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134) is playable
[getPlayableCardIds] Card Caged Sun (card_dfe6f9ec-3b7f-4c11-acd1-440e14217e5d_9588525f321aeb61) is playable
[getPlayableCardIds] Card Vigor (card_ea7047d8-8d32-48a3-829b-7eb5427ed53a_9177e03ffbba368f) is playable
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_5eac1616-d764-4e62-9fc6-939c28b75f52_97af02910aac65bb',
  'card_feb7ad1b-4466-48f7-b46d-cc83d4e22b51_cf4da015d2d74d93',
  'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809',
  'card_8b59b12c-fde5-4f19-a357-e09f06f490cc_8f1485017ef1b134',
  'card_dfe6f9ec-3b7f-4c11-acd1-440e14217e5d_9588525f321aeb61',
  'card_ea7047d8-8d32-48a3-829b-7eb5427ed53a_9177e03ffbba368f',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6e96686956887701'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_hsgmzel8: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_hsgmzel8: Commander Omnath, Locus of Mana can be cast (main phase, empty stack)
[canAct] p_hsgmzel8: Can cast commander from command zone - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking evendo, waking haven: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'evendo, waking haven'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_hsgmzel8: { totalDevotion: 0, permanents: [], battlefieldCount: 4 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:50.658Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406130658_hxr22) ==========
2026-01-03T02:08:50.658Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:50.658Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406130658_hxr22)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Nykthos, Shrine to Nyx - Activating Nykthos, Shrine to Nyx (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  cardName: 'Nykthos, Shrine to Nyx',
  permanentId: 'perm_d9vu8722'
}
[AI] Tapped permanent for ability: Nykthos, Shrine to Nyx
[AI] Tapped for mana ability (resolves immediately, not on stack): Nykthos, Shrine to Nyx
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  cardName: 'Forest',
  permanentId: 'perm_31o3i4hn'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  cardName: 'Forest',
  permanentId: 'perm_ys5xl8qy'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Evendo, Waking Haven - Activating Evendo, Waking Haven (value: 5.5)
[AI] Activating ability: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  cardName: 'Evendo, Waking Haven',
  permanentId: 'perm_ibjv7olm'
}
[AI] Tapped permanent for ability: Evendo, Waking Haven
[AI] Tapped for mana ability (resolves immediately, not on stack): Evendo, Waking Haven
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_hsgmzel8',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_hsgmzel8
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_us4mngje - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:08:51.475Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.475Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.475Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T02:08:51.475Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.475Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:51.475Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:51.475Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_hsgmzel8: 0
2026-01-03T02:08:51.476Z [nextStep] Granting priority to active player p_hsgmzel8 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_hsgmzel8: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.476Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.476Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.476Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:51.476Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:51.476Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T02:08:51.476Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.476Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.476Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T02:08:51.476Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.476Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:51.476Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-03T02:08:51.476Z [nextStep] Granting priority to active player p_hsgmzel8 (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_hsgmzel8: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.476Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.476Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.476Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:51.476Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:51.477Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_ATTACKERS
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-03T02:08:51.477Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.477Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.477Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T02:08:51.477Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.477Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:51.477Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T02:08:51.477Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-03T02:08:51.477Z [nextStep] Granting priority to active player p_hsgmzel8 (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_hsgmzel8: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.477Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.477Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.477Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:51.477Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:51.477Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_BLOCKERS
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-03T02:08:51.477Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.477Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.477Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T02:08:51.477Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.477Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:51.477Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T02:08:51.477Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-03T02:08:51.477Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-03T02:08:51.477Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-03T02:08:51.477Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-03T02:08:51.477Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-03T02:08:51.477Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-03T02:08:51.477Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T02:08:51.477Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T02:08:51.477Z [nextStep] Granting priority to active player p_hsgmzel8 (step: DAMAGE, stack size: 0)
[canAct] p_hsgmzel8: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.478Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.478Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.478Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:51.478Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:51.478Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-03T02:08:51.478Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.478Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.478Z [nextStep] Current: combat/DAMAGE
2026-01-03T02:08:51.478Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.478Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:51.478Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-03T02:08:51.478Z [nextStep] Granting priority to active player p_hsgmzel8 (step: END_COMBAT, stack size: 0)
[canAct] p_hsgmzel8: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.478Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.478Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.478Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:51.478Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:51.478Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-03T02:08:51.478Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.478Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.478Z [nextStep] Current: combat/END_COMBAT
2026-01-03T02:08:51.478Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.478Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at listOnTimeout (node:internal/timers:549:9)
2026-01-03T02:08:51.478Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:51.478Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T02:08:51.478Z [nextStep] Granting priority to active player p_hsgmzel8 (step: MAIN2, stack size: 0)
[canAct] p_hsgmzel8: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canAct] p_hsgmzel8: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canAct] p_hsgmzel8: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.479Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.479Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.479Z [nextStep]   canAct: true, canRespond: false
2026-01-03T02:08:51.479Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canAct] p_hsgmzel8: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canAct] p_hsgmzel8: Can cast sorcery-speed spell - returning TRUE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=true, stack.length=0, step=MAIN2
[priority] autoPassLoop - stopping at p_hsgmzel8: active player can act
2026-01-03T02:08:51.479Z [nextStep] Auto-pass stopped, player p_hsgmzel8 has priority
[AI] Auto-advanced to MAIN2
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_hsgmzel8, match=true
[getPlayableCardIds] Player p_hsgmzel8: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Elvish Ranger not playable - cannot pay cost {2}{G} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Jaheira, Friend of the Forest not playable - cannot pay cost {2}{G} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear (card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809) is playable
[getPlayableCardIds] Card Lightning Greaves not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Caged Sun not playable - cannot pay cost {6} (after reduction: {"generic":6,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Vigor not playable - cannot pay cost {3}{G}{G}{G} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":0,"G":3,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_d571c367-c786-41f9-9cdb-cb02594fa413_3e017cb742073809' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_hsgmzel8: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canAct] p_hsgmzel8: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[canPlayLand] p_hsgmzel8: Already played max lands this turn (1/1)
[canAct] p_hsgmzel8: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_hsgmzel8, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.482Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131482_1kogg) ==========
2026-01-03T02:08:51.482Z [checkAndTriggerAutoPass] Priority: p_hsgmzel8, Phase: postcombatMain, Step: MAIN2
2026-01-03T02:08:51.482Z [checkAndTriggerAutoPass] p_hsgmzel8 is AI, handled separately (ID: autopass_1767406131482_1kogg)
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_hsgmzel8
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_us4mngje - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:08:51.483Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.483Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.483Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T02:08:51.483Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.483Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:51.483Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:08:51.483Z [nextStep] Advanced to phase=ending, step=END
2026-01-03T02:08:51.483Z [nextStep] Granting priority to active player p_hsgmzel8 (step: END, stack size: 0)
[canAct] p_hsgmzel8: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
2026-01-03T02:08:51.483Z [nextStep] DEBUG - Turn Player p_hsgmzel8:
2026-01-03T02:08:51.483Z [nextStep]   Hand (7): Elvish Ranger, Jaheira, Friend of the Forest, Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear, Lightning Greaves, Caged Sun, Forest, Vigor
2026-01-03T02:08:51.483Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:08:51.483Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_hsgmzel8
[canAct] p_hsgmzel8: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_hsgmzel8: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_hsgmzel8: No actions available - returning FALSE
[priority] autoPassLoop - checking p_hsgmzel8 (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_us4mngje - no available actions
2026-01-03T02:08:51.483Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T02:08:51.484Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.484Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.484Z [nextStep] Current: ending/END
2026-01-03T02:08:51.484Z [nextStep] Priority: p_hsgmzel8, Turn: p_hsgmzel8
2026-01-03T02:08:51.484Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
        at async Timeout._onTimeout (D:\Git\MTGEDH\server\src\socket\ai.ts:1057:7)
2026-01-03T02:08:51.484Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T02:08:51.484Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-03T02:08:51.484Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T02:08:51.484Z [nextTurn] Reset planeswalker loyalty activation counters for player p_n1ysna8c
2026-01-03T02:08:51.484Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-03T02:08:51.484Z [nextTurn] Advanced to player p_n1ysna8c, phase=beginning, step=UPKEEP
2026-01-03T02:08:51.484Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:08:51.484Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[AI] Auto-pass loop stopping - human player p_n1ysna8c has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.488Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131488_hd8v5) ==========
2026-01-03T02:08:51.488Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: beginning, Step: UPKEEP
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:51.488Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.488Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.488Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406131488_hd8v5)
[Automation] Auto-pass for turn disabled for p_n1ysna8c in game game_mjxnub1n
[Automation] Auto-pass for turn state in game game_mjxnub1n: {}
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.508Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131508_k8mku) ==========
2026-01-03T02:08:51.508Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: beginning, Step: UPKEEP
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:51.508Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406131508_k8mku)
2026-01-03T02:08:51.508Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406131508_k8mku)
2026-01-03T02:08:51.508Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406131508_k8mku)
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.617Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131617_s530w) ==========
2026-01-03T02:08:51.617Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: beginning, Step: UPKEEP
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:51.617Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406131617_s530w)
2026-01-03T02:08:51.617Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406131617_s530w)
2026-01-03T02:08:51.617Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406131617_s530w)
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.620Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131620_e1wxq) ==========
2026-01-03T02:08:51.620Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: beginning, Step: UPKEEP
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:51.620Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406131620_e1wxq)
2026-01-03T02:08:51.620Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406131620_e1wxq)
2026-01-03T02:08:51.620Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406131620_e1wxq)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 5, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.631Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131631_ajc9g) ==========
2026-01-03T02:08:51.631Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: beginning, Step: UPKEEP
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:51.631Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406131631_ajc9g)
2026-01-03T02:08:51.631Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406131631_ajc9g)
2026-01-03T02:08:51.631Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406131631_ajc9g)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
2026-01-03T02:08:51.644Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406131488_hd8v5) ==========
2026-01-03T02:08:51.644Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_n1ysna8c: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:08:51.644Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.644Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.644Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406131488_hd8v5)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:08:51.644Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.644Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.645Z [nextStep] ========== CALLED ==========
2026-01-03T02:08:51.645Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:08:51.645Z [nextStep] Current: beginning/UPKEEP
2026-01-03T02:08:51.645Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:08:51.645Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:08:51.645Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-03T02:08:51.645Z [nextStep] Drew 1 card(s) for p_n1ysna8c at draw step (base: 1, additional: 0)
2026-01-03T02:08:51.645Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-03T02:08:51.645Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-03T02:08:51.645Z [nextStep] Granting priority to active player p_n1ysna8c (step: MAIN1, stack size: 0)
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:08:51.645Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:08:51.645Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:08:51.645Z [nextStep]   canAct: true, canRespond: false
2026-01-03T02:08:51.645Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_n1ysna8c: active player can act
2026-01-03T02:08:51.646Z [nextStep] Auto-pass stopped, player p_n1ysna8c has priority
2026-01-03T02:08:51.646Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.646Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406131488_hd8v5)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Roaming Throne not playable - cannot pay cost {4} (after reduction: {"generic":4,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Card Avacyn, Angel of Hope not playable - cannot pay cost {5}{W}{W}{W} (after reduction: {"generic":5,"colors":{"W":3,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Martyr's Bond not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Knight-Captain of Eos not playable - cannot pay cost {4}{W} (after reduction: {"generic":4,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.649Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131649_ya4s4) ==========
2026-01-03T02:08:51.649Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.649Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=true (ID: autopass_1767406131649_ya4s4)
2026-01-03T02:08:51.649Z [checkAndTriggerAutoPass] p_n1ysna8c CAN ACT - returning early, NO auto-pass (ID: autopass_1767406131649_ya4s4)
2026-01-03T02:08:51.649Z [executeAutoPass] Broadcast complete (ID: autopass_1767406131488_hd8v5)
2026-01-03T02:08:51.660Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406131508_k8mku) ==========
2026-01-03T02:08:51.660Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.660Z [executeAutoPass] Re-check: p_n1ysna8c canAct=true (ID: autopass_1767406131508_k8mku)
2026-01-03T02:08:51.660Z [executeAutoPass] Player p_n1ysna8c CAN NOW ACT - canceling auto-pass (ID: autopass_1767406131508_k8mku)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
2026-01-03T02:08:51.768Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406131617_s530w) ==========
2026-01-03T02:08:51.768Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.769Z [executeAutoPass] Re-check: p_n1ysna8c canAct=true (ID: autopass_1767406131617_s530w)
2026-01-03T02:08:51.769Z [executeAutoPass] Player p_n1ysna8c CAN NOW ACT - canceling auto-pass (ID: autopass_1767406131617_s530w)
2026-01-03T02:08:51.784Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406131620_e1wxq) ==========
2026-01-03T02:08:51.784Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.784Z [executeAutoPass] Re-check: p_n1ysna8c canAct=true (ID: autopass_1767406131620_e1wxq)
2026-01-03T02:08:51.784Z [executeAutoPass] Player p_n1ysna8c CAN NOW ACT - canceling auto-pass (ID: autopass_1767406131620_e1wxq)
2026-01-03T02:08:51.784Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406131631_ajc9g) ==========
2026-01-03T02:08:51.784Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.785Z [executeAutoPass] Re-check: p_n1ysna8c canAct=true (ID: autopass_1767406131631_ajc9g)
2026-01-03T02:08:51.785Z [executeAutoPass] Player p_n1ysna8c CAN NOW ACT - canceling auto-pass (ID: autopass_1767406131631_ajc9g)
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Roaming Throne not playable - cannot pay cost {4} (after reduction: {"generic":4,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Card Avacyn, Angel of Hope not playable - cannot pay cost {5}{W}{W}{W} (after reduction: {"generic":5,"colors":{"W":3,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Martyr's Bond not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Knight-Captain of Eos not playable - cannot pay cost {4}{W} (after reduction: {"generic":4,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.789Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131789_dmh6i) ==========
2026-01-03T02:08:51.789Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.789Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=true (ID: autopass_1767406131789_dmh6i)
2026-01-03T02:08:51.789Z [checkAndTriggerAutoPass] p_n1ysna8c CAN ACT - returning early, NO auto-pass (ID: autopass_1767406131789_dmh6i)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_hsgmzel8',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_n1ysna8c',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] Cannot cast commander: Omnath, Locus of Mana Cost: {"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Elvish Ranger: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Jaheira, Friend of the Forest: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Casal, Lurkwood Pathfinder // Casal, Pathbreaker Owlbear: no mana cost',
  'Lightning Greaves: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_hsgmzel8' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Roaming Throne not playable - cannot pay cost {4} (after reduction: {"generic":4,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Card Avacyn, Angel of Hope not playable - cannot pay cost {5}{W}{W}{W} (after reduction: {"generic":5,"colors":{"W":3,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Martyr's Bond not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Knight-Captain of Eos not playable - cannot pay cost {4}{W} (after reduction: {"generic":4,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:08:51.990Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406131990_b93tw) ==========
2026-01-03T02:08:51.990Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: precombatMain, Step: MAIN1
[canAct] p_n1ysna8c: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:08:51.991Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=true (ID: autopass_1767406131990_b93tw)
2026-01-03T02:08:51.991Z [checkAndTriggerAutoPass] p_n1ysna8c CAN ACT - returning early, NO auto-pass (ID: autopass_1767406131990_b93tw)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_us4mngje: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:08:59.532Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406139532_z5h3c) ==========
2026-01-03T02:08:59.532Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:08:59.532Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406139532_z5h3c)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_n1ysna8c
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:09:00.158Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:00.158Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:00.158Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T02:09:00.158Z [nextStep] Priority: p_n1ysna8c, Turn: p_n1ysna8c
2026-01-03T02:09:00.158Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2459:7)
2026-01-03T02:09:00.158Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:09:00.158Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_n1ysna8c: 0
2026-01-03T02:09:00.158Z [nextStep] Granting priority to active player p_n1ysna8c (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_n1ysna8c: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:00.158Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:00.158Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:00.158Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:09:00.158Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:00.159Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass loop stopping - human player p_n1ysna8c has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:00.162Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406140162_sj21r) ==========
2026-01-03T02:09:00.162Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: combat, Step: BEGIN_COMBAT
[canAct] p_n1ysna8c: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:00.162Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.162Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.162Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.314Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406140162_sj21r) ==========
2026-01-03T02:09:00.314Z [executeAutoPass] Phase: combat, Step: BEGIN_COMBAT
[canAct] p_n1ysna8c: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:00.314Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.314Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.314Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406140162_sj21r)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:00.314Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.314Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.315Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:00.315Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:00.315Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T02:09:00.315Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:09:00.315Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:09:00.315Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-03T02:09:00.315Z [nextStep] Granting priority to active player p_n1ysna8c (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_n1ysna8c: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: Has valid attackers - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:00.315Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:00.315Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:00.315Z [nextStep]   canAct: true, canRespond: false
2026-01-03T02:09:00.315Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: Has valid attackers - returning TRUE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=true, stack.length=0, step=DECLARE_ATTACKERS
[priority] autoPassLoop - stopping at p_n1ysna8c: active player can act
2026-01-03T02:09:00.315Z [nextStep] Auto-pass stopped, player p_n1ysna8c has priority
2026-01-03T02:09:00.315Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:00.315Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406140162_sj21r)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: Has valid attackers - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:00.318Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406140318_75nh0) ==========
2026-01-03T02:09:00.318Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: combat, Step: DECLARE_ATTACKERS
[canAct] p_n1ysna8c: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: Has valid attackers - returning TRUE
2026-01-03T02:09:00.318Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=true (ID: autopass_1767406140318_75nh0)
2026-01-03T02:09:00.318Z [checkAndTriggerAutoPass] p_n1ysna8c CAN ACT - returning early, NO auto-pass (ID: autopass_1767406140318_75nh0)
2026-01-03T02:09:00.318Z [executeAutoPass] Broadcast complete (ID: autopass_1767406140162_sj21r)
2026-01-03T02:09:01.702Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:01.702Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:01.702Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T02:09:01.702Z [nextStep] Priority: p_n1ysna8c, Turn: p_n1ysna8c
2026-01-03T02:09:01.702Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Socket.<anonymous> (D:\Git\MTGEDH\server\src\socket\combat.ts:1857:29)
        at Socket.emit (node:events:519:28)
        at Socket.emitUntyped (D:\Git\MTGEDH\node_modules\socket.io\dist\typed-events.js:69:22)
2026-01-03T02:09:01.702Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T02:09:01.702Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-03T02:09:01.702Z [nextStep] Granting priority to active player p_n1ysna8c (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_n1ysna8c: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:01.702Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:01.702Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:01.702Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:09:01.702Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:01.703Z [nextStep] All players auto-passed after granting priority - caller should advance step
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:01.706Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406141706_a3ibp) ==========
2026-01-03T02:09:01.706Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_n1ysna8c: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:01.706Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.706Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.706Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.867Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406141706_a3ibp) ==========
2026-01-03T02:09:01.867Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canAct] p_n1ysna8c: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:01.867Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.867Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.867Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406141706_a3ibp)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:01.868Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.868Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.868Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:01.868Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:01.868Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T02:09:01.868Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:09:01.868Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:09:01.868Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T02:09:01.868Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-03T02:09:01.868Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-03T02:09:01.868Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-03T02:09:01.868Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-03T02:09:01.868Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-03T02:09:01.868Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-03T02:09:01.868Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T02:09:01.868Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T02:09:01.868Z [nextStep] Granting priority to active player p_n1ysna8c (step: DAMAGE, stack size: 0)
[canAct] p_n1ysna8c: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:01.868Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:01.869Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:01.869Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:09:01.869Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:01.869Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-03T02:09:01.869Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:01.869Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406141706_a3ibp)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:01.871Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406141871_6vuax) ==========
2026-01-03T02:09:01.871Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: combat, Step: DAMAGE
[canAct] p_n1ysna8c: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:01.872Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:01.872Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:01.872Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:01.872Z [executeAutoPass] Broadcast complete (ID: autopass_1767406141706_a3ibp)
2026-01-03T02:09:02.023Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406141871_6vuax) ==========
2026-01-03T02:09:02.023Z [executeAutoPass] Phase: combat, Step: DAMAGE
[canAct] p_n1ysna8c: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:02.023Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:02.023Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:02.023Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406141871_6vuax)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:02.024Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:02.024Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:02.024Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:02.024Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:02.024Z [nextStep] Current: combat/DAMAGE
2026-01-03T02:09:02.024Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:09:02.024Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:09:02.024Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-03T02:09:02.024Z [nextStep] Granting priority to active player p_n1ysna8c (step: END_COMBAT, stack size: 0)
[canAct] p_n1ysna8c: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:02.024Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:02.024Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:02.024Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:09:02.024Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:02.024Z [nextStep] All players auto-passed after granting priority - caller should advance step
2026-01-03T02:09:02.024Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:02.024Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406141871_6vuax)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:02.027Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406142027_v0z1n) ==========
2026-01-03T02:09:02.027Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: combat, Step: END_COMBAT
[canAct] p_n1ysna8c: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:02.027Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.027Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.027Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.027Z [executeAutoPass] Broadcast complete (ID: autopass_1767406141871_6vuax)
2026-01-03T02:09:02.178Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406142027_v0z1n) ==========
2026-01-03T02:09:02.179Z [executeAutoPass] Phase: combat, Step: END_COMBAT
[canAct] p_n1ysna8c: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:02.179Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.179Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.179Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406142027_v0z1n)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:02.179Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.179Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.179Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:02.179Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:02.179Z [nextStep] Current: combat/END_COMBAT
2026-01-03T02:09:02.179Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:09:02.179Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:09:02.179Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:09:02.179Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T02:09:02.179Z [nextStep] Granting priority to active player p_n1ysna8c (step: MAIN2, stack size: 0)
[canAct] p_n1ysna8c: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:02.180Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:02.180Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:02.180Z [nextStep]   canAct: true, canRespond: false
2026-01-03T02:09:02.180Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=true, stack.length=0, step=MAIN2
[priority] autoPassLoop - stopping at p_n1ysna8c: active player can act
2026-01-03T02:09:02.180Z [nextStep] Auto-pass stopped, player p_n1ysna8c has priority
2026-01-03T02:09:02.180Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406142027_v0z1n)
2026-01-03T02:09:02.180Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406142027_v0z1n)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Roaming Throne not playable - cannot pay cost {4} (after reduction: {"generic":4,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Card Avacyn, Angel of Hope not playable - cannot pay cost {5}{W}{W}{W} (after reduction: {"generic":5,"colors":{"W":3,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Martyr's Bond not playable - cannot pay cost {4}{W}{W} (after reduction: {"generic":4,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Knight-Captain of Eos not playable - cannot pay cost {4}{W} (after reduction: {"generic":4,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:02.183Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406142183_7sn16) ==========
2026-01-03T02:09:02.183Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: postcombatMain, Step: MAIN2
[canAct] p_n1ysna8c: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[canPlayLand] p_n1ysna8c: Checking hand with 6 cards
[canPlayLand] p_n1ysna8c: Sample cards in hand: [Roaming Throne(Artifact Creature ΓÇö ), Akroma's Will(Instant), Final Showdown(Instant)]
[canPlayLand] p_n1ysna8c: No lands found in hand of 6 cards - returning FALSE
[canCastAnySorcerySpeed] Skipping ignored card in hand: Final Showdown
[canAct] p_n1ysna8c: Can activate sorcery-speed ability - returning TRUE
2026-01-03T02:09:02.183Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=true (ID: autopass_1767406142183_7sn16)
2026-01-03T02:09:02.183Z [checkAndTriggerAutoPass] p_n1ysna8c CAN ACT - returning early, NO auto-pass (ID: autopass_1767406142183_7sn16)
2026-01-03T02:09:02.183Z [executeAutoPass] Broadcast complete (ID: autopass_1767406142027_v0z1n)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_us4mngje: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 7 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 7 cards - returning FALSE
[canAct] p_us4mngje: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:09:03.167Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406143167_9wfuy) ==========
2026-01-03T02:09:03.167Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: postcombatMain, Step: MAIN2
2026-01-03T02:09:03.167Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406143167_9wfuy)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'POSTCOMBATMAIN',
  step: 'MAIN2',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'postcombatmain',
  step: 'main2',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_n1ysna8c
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_hsgmzel8 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:09:03.781Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:03.781Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:03.781Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T02:09:03.781Z [nextStep] Priority: p_n1ysna8c, Turn: p_n1ysna8c
2026-01-03T02:09:03.781Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2459:7)
2026-01-03T02:09:03.781Z [clearManaPool] Processed mana pools for all players
2026-01-03T02:09:03.781Z [nextStep] Advanced to phase=ending, step=END
2026-01-03T02:09:03.782Z [nextStep] Granting priority to active player p_n1ysna8c (step: END, stack size: 0)
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
2026-01-03T02:09:03.782Z [nextStep] DEBUG - Turn Player p_n1ysna8c:
2026-01-03T02:09:03.782Z [nextStep]   Hand (6): Roaming Throne, Akroma's Will, Final Showdown, Avacyn, Angel of Hope, Martyr's Bond, Knight-Captain of Eos
2026-01-03T02:09:03.782Z [nextStep]   canAct: false, canRespond: false
2026-01-03T02:09:03.782Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_n1ysna8c, turnPlayer: p_n1ysna8c
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[priority] autoPassLoop - checking p_n1ysna8c (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_n1ysna8c - no available actions
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:03.782Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjxnub1n
[AI] Auto-pass loop stopping - human player p_n1ysna8c has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_n1ysna8c, match=true
[getPlayableCardIds] Player p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 3, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Akroma's Will not playable - cannot pay cost {3}{W} (after reduction: {"generic":3,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Final Showdown (358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ '358968f9-45bd-4022-b6bc-f1f7e0adf0e7_mjxnw2jz_1o_2852849e' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_n1ysna8c, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:03.785Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406143785_jxrwl) ==========
2026-01-03T02:09:03.785Z [checkAndTriggerAutoPass] Priority: p_n1ysna8c, Phase: ending, Step: END
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:03.785Z [checkAndTriggerAutoPass] canAct check: p_n1ysna8c isActive=true canAct=false (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.785Z [checkAndTriggerAutoPass] p_n1ysna8c CANNOT ACT - proceeding with auto-pass (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.785Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_n1ysna8c with 150ms delay (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.937Z [executeAutoPass] ========== EXECUTING for p_n1ysna8c (ID: autopass_1767406143785_jxrwl) ==========
2026-01-03T02:09:03.937Z [executeAutoPass] Phase: ending, Step: END
[canAct] p_n1ysna8c: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canAct] p_n1ysna8c: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_n1ysna8c: No actions available - returning FALSE
2026-01-03T02:09:03.937Z [executeAutoPass] Re-check: p_n1ysna8c canAct=false (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.937Z [executeAutoPass] Proceeding with auto-pass for p_n1ysna8c (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.937Z [executeAutoPass] Set _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406143785_jxrwl)
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_n1ysna8c
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_us4mngje (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_us4mngje - no available actions
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_hsgmzel8 - no available actions
2026-01-03T02:09:03.938Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.938Z [executeAutoPass] Advancing step after auto-pass for p_n1ysna8c (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.938Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:03.938Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:03.938Z [nextStep] Current: ending/END
2026-01-03T02:09:03.938Z [nextStep] Priority: p_us4mngje, Turn: p_n1ysna8c
2026-01-03T02:09:03.938Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-03T02:09:03.938Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T02:09:03.938Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-03T02:09:03.938Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T02:09:03.938Z [clearSummoningSicknessForPlayer] Cleared summoning sickness from 1 permanent(s) for p_us4mngje
2026-01-03T02:09:03.938Z [nextTurn] Reset planeswalker loyalty activation counters for player p_us4mngje
2026-01-03T02:09:03.938Z [untapPermanentsForPlayer] Player p_us4mngje: untapped 3, stun counters removed 0, skipped (doesn't untap) 0
2026-01-03T02:09:03.938Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-03T02:09:03.938Z [nextTurn] Advanced to player p_us4mngje, phase=beginning, step=UPKEEP
2026-01-03T02:09:03.938Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=true, stack.length=0, step=UPKEEP
[priority] autoPassLoop - stopping at p_us4mngje: active player can act
2026-01-03T02:09:03.938Z [nextTurn] Auto-pass stopped at upkeep, player p_us4mngje has priority
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-03T02:09:03.939Z [executeAutoPass] Cleared _autoPassInProgress flag for p_n1ysna8c (ID: autopass_1767406143785_jxrwl)
2026-01-03T02:09:03.939Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767406143785_jxrwl)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares (card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7) is playable
[getPlayableCardIds] Card Chaos Warp (card_d4372203-b930-4e6e-a351-e5b4581eb72b_5330baf837ff3eb0) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 2 playable card(s): [
  'card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7',
  'card_d4372203-b930-4e6e-a351-e5b4581eb72b_5330baf837ff3eb0'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_us4mngje: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-03T02:09:03.943Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406143943_n5r70) ==========
2026-01-03T02:09:03.943Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: beginning, Step: UPKEEP
2026-01-03T02:09:03.943Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406143943_n5r70)
2026-01-03T02:09:03.943Z [executeAutoPass] Broadcast complete (ID: autopass_1767406143785_jxrwl)
[Automation] Auto-pass for turn disabled for p_n1ysna8c in game game_mjxnub1n
[Automation] Auto-pass for turn state in game game_mjxnub1n: {}
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_hsgmzel8 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T02:09:04.559Z [nextStep] ========== CALLED ==========
2026-01-03T02:09:04.559Z [nextStep] Game: game_mjxnub1n
2026-01-03T02:09:04.559Z [nextStep] Current: beginning/UPKEEP
2026-01-03T02:09:04.559Z [nextStep] Priority: p_us4mngje, Turn: p_us4mngje
2026-01-03T02:09:04.559Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2701:7)
2026-01-03T02:09:04.559Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-03T02:09:04.559Z [nextStep] Drew 1 card(s) for p_us4mngje at draw step (base: 1, additional: 0)
2026-01-03T02:09:04.559Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-03T02:09:04.559Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-03T02:09:04.559Z [nextStep] Granting priority to active player p_us4mngje (step: MAIN1, stack size: 0)
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 8 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 8 cards - returning FALSE
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: Can cast instant/flash spell
2026-01-03T02:09:04.560Z [nextStep] DEBUG - Turn Player p_us4mngje:
2026-01-03T02:09:04.560Z [nextStep]   Hand (8): Imperial Recruiter, Swords to Plowshares, Aurelia's Vindicator, Aurelia, the Warleader, Caves of Chaos Adventurer, Glory of Warfare, Chaos Warp, Unbreakable Formation
2026-01-03T02:09:04.560Z [nextStep]   canAct: true, canRespond: true
2026-01-03T02:09:04.560Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_us4mngje, turnPlayer: p_us4mngje
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 8 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 8 cards - returning FALSE
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_us4mngje (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_us4mngje: active player can act
2026-01-03T02:09:04.560Z [nextStep] Auto-pass stopped, player p_us4mngje has priority
[AI] Advanced to next step for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Imperial Recruiter (card_05bd329b-5707-42fc-af1c-084cc604e805_7ee01558cb35003b) is playable
[getPlayableCardIds] Card Swords to Plowshares (card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7) is playable
[getPlayableCardIds] Card Aurelia's Vindicator not playable - cannot pay cost {2}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Caves of Chaos Adventurer not playable - cannot pay cost {3}{R} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Glory of Warfare not playable - cannot pay cost {2}{R}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp (card_d4372203-b930-4e6e-a351-e5b4581eb72b_5330baf837ff3eb0) is playable
[getPlayableCardIds] Card Unbreakable Formation (card_06e1cc7b-9319-4f6f-88ee-2e6b6d2efbc6_1e905fd1e18044a2) is playable
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 4 playable card(s): [
  'card_05bd329b-5707-42fc-af1c-084cc604e805_7ee01558cb35003b',
  'card_0e7ff4dc-af63-4342-9a44-d059e62bd14c_0ad30cda129366b7',
  'card_d4372203-b930-4e6e-a351-e5b4581eb72b_5330baf837ff3eb0',
  'card_06e1cc7b-9319-4f6f-88ee-2e6b6d2efbc6_1e905fd1e18044a2'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[canPlayLand] p_us4mngje: Checking hand with 8 cards
[canPlayLand] p_us4mngje: Sample cards in hand: [Imperial Recruiter(Creature ΓÇö Human Adv), Swords to Plowshares(Instant), Aurelia's Vindicator(Creature ΓÇö Angel)]
[canPlayLand] p_us4mngje: No lands found in hand of 8 cards - returning FALSE
[canAct] p_us4mngje: Can cast instant/flash spell - returning TRUE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-03T02:09:04.564Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406144564_lfxch) ==========
2026-01-03T02:09:04.564Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:09:04.564Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406144564_lfxch)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":2,"blue":0,"black":0,"red":1,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 3,
  colors: { white: 2, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
}
[AI] findCastableSpells: Found 4 castable spell(s): [
  'Imperial Recruiter (CMC 3, priority 87)',
  'Swords to Plowshares (CMC 1, priority 84)',
  'Chaos Warp (CMC 3, priority 57)',
  'Unbreakable Formation (CMC 3, priority 57)'
]
[AI] Casting spell to avoid discard: Imperial Recruiter (hand: 8/7)
[AI] Casting spell: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  cardName: 'Imperial Recruiter',
  cost: {
    colors: { W: 0, U: 0, B: 0, R: 1, G: 0, C: 0 },
    generic: 2,
    hasX: false,
    hybrid: []
  }
}
[AI] Spell added to stack: Imperial Recruiter with 0 target(s)
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 1,
  stackItems: [ 'Imperial Recruiter' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 1,
  stackItems: [ 'Imperial Recruiter' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 1,
  stackItems: [ 'Imperial Recruiter' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Unbreakable Formation not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:09:04.874Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406144874_ihgya) ==========
2026-01-03T02:09:04.874Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:09:04.874Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406144874_ihgya)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Permanent Imperial Recruiter entered battlefield under p_us4mngje (summoning sickness)
[resolveTopOfStack] Found 2 ETB trigger(s) for Imperial Recruiter
[resolveTopOfStack] ΓÜí Imperial Recruiter's triggered ability (controlled by p_us4mngje): Search your library for a creature with power 2 or less, reveal it, and put it into your hand
[resolveTopOfStack] ΓÜí Auriok Champion's triggered ability (controlled by p_n1ysna8c): you may gain 1 life
[calculateMaxLandsPerTurn] Calculating for player p_hsgmzel8, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_hsgmzel8: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_n1ysna8c, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_n1ysna8c: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_us4mngje, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_us4mngje: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[AI] Stack resolved for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 2,
  stackItems: [ 'trigger_daz0t95j', 'trigger_s4qlzanw' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 2,
  stackItems: [ 'trigger_daz0t95j', 'trigger_s4qlzanw' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 2,
  stackItems: [ 'trigger_daz0t95j', 'trigger_s4qlzanw' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Unbreakable Formation not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:09:05.185Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406145185_jevse) ==========
2026-01-03T02:09:05.185Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:09:05.185Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406145185_jevse)
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Triggered ability from Auriok Champion resolved: you may gain 1 life
[executeTriggerEffect] p_n1ysna8c gained 1 life (41 -> 42)
[AI] Stack resolved for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 1,
  stackItems: [ 'trigger_daz0t95j' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 1,
  stackItems: [ 'trigger_daz0t95j' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 1,
  stackItems: [ 'trigger_daz0t95j' ],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_us4mngje, viewerId=p_us4mngje, match=true
[getPlayableCardIds] Player p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Swords to Plowshares not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Chaos Warp not playable - cannot pay cost {2}{R} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Unbreakable Formation not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_us4mngje: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_us4mngje: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_us4mngje: No actions available - returning FALSE
[canRespond] p_us4mngje: checking instant-speed responses only
[canRespond] p_us4mngje: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T02:09:05.189Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406145189_as6g0) ==========
2026-01-03T02:09:05.189Z [checkAndTriggerAutoPass] Priority: p_us4mngje, Phase: precombatMain, Step: MAIN1
2026-01-03T02:09:05.189Z [checkAndTriggerAutoPass] p_us4mngje is AI, handled separately (ID: autopass_1767406145189_as6g0)
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_us4mngje',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[priority] autoPassLoop starting - active players: p_hsgmzel8, p_n1ysna8c, p_us4mngje, autoPassEnabled: p_n1ysna8c, p_hsgmzel8, p_us4mngje, currentPriority: p_hsgmzel8, turnPlayer: p_us4mngje
[canRespond] p_hsgmzel8: checking instant-speed responses only
[canRespond] p_hsgmzel8: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_hsgmzel8 (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_hsgmzel8 - no available actions
[canRespond] p_n1ysna8c: checking instant-speed responses only
[canCastAnySpell] Skipping ignored card in hand: Final Showdown
[canActivateAnyAbility] Skipping ignored card: Skullclamp
[canActivateAnyAbility] Skipping ignored hand card: Final Showdown
[canRespond] p_n1ysna8c: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_n1ysna8c (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_n1ysna8c - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Triggered ability from Imperial Recruiter resolved: Search your library for a creature with power 2 or less, reveal it, and put it into your hand
[executeTriggerEffect] Imperial Recruiter: Creating library search for p_us4mngje, 27 matching cards
[Resolution] AI player p_us4mngje auto-resolving step: library_search
[priority] Entering resolution mode - priority will return to p_us4mngje after resolution completes
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:05.384Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406145384_pac4y) ==========
2026-01-03T02:09:05.384Z [checkAndTriggerAutoPass] Priority: null, Phase: precombatMain, Step: MAIN1
2026-01-03T02:09:05.384Z [checkAndTriggerAutoPass] Priority is null due to active resolution (1 pending steps), returning (ID: autopass_1767406145384_pac4y)
[executeTriggerEffect] Imperial Recruiter trigger: p_us4mngje may search for creature with power 2 or less (destination: hand, filter: {"maxPower":2,"types":["creature"]})
[AI] Stack resolved for game game_mjxnub1n
[VIEW_FOR_DEBUG] {
  viewer: 'p_hsgmzel8',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_hsgmzel8, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_n1ysna8c',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_n1ysna8c, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_us4mngje',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_hsgmzel8: { handCount: 7, firstKnown: [Array] },
    p_n1ysna8c: { handCount: 6, firstKnown: [Array] },
    p_us4mngje: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking skullclamp: { hasKarametra: false, hasAcolyte: false, fullCardName: 'skullclamp' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking auriok champion: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'auriok champion'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking intangible virtue: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'intangible virtue'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking thalia's lieutenant: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: "thalia's lieutenant"
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking imperial recruiter: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'imperial recruiter'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_us4mngje, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T02:09:05.392Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767406145392_w62hl) ==========
2026-01-03T02:09:05.392Z [checkAndTriggerAutoPass] Priority: null, Phase: precombatMain, Step: MAIN1
2026-01-03T02:09:05.392Z [checkAndTriggerAutoPass] Priority is null due to active resolution (1 pending steps), returning (ID: autopass_1767406145392_w62hl)
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[AI] AI player has pending resolution steps, skipping priority handling: { gameId: 'game_mjxnub1n', playerId: 'p_us4mngje' }
[AI] handleAIGameFlow: {
  gameId: 'game_mjxnub1n',
  playerId: 'p_us4mngje',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
