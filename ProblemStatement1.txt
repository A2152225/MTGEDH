  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:09.603Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340209603_4yta8) ==========
2026-01-02T07:50:09.603Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: beginning, Step: UPKEEP
2026-01-02T07:50:09.603Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340209603_4yta8)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[Automation] Auto-pass for turn disabled for p_m6sypiy3 in game game_mjwkommc
[Automation] Auto-pass for turn state in game game_mjwkommc: {}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-02T07:50:10.227Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:10.227Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:10.227Z [nextStep] Current: beginning/UPKEEP
2026-01-02T07:50:10.227Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:10.227Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2701:7)
2026-01-02T07:50:10.227Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T07:50:10.227Z [nextStep] Drew 1 card(s) for p_lag57ojs at draw step (base: 1, additional: 0)
2026-01-02T07:50:10.227Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T07:50:10.227Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T07:50:10.227Z [nextStep] Granting priority to active player p_lag57ojs (step: MAIN1, stack size: 0)
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Command Tower (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:10.227Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:10.227Z [nextStep]   Hand (8): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Command Tower, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:10.227Z [nextStep]   canAct: true, canRespond: false
2026-01-02T07:50:10.227Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Command Tower (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_lag57ojs: active player can act
2026-01-02T07:50:10.228Z [nextStep] Auto-pass stopped, player p_lag57ojs has priority
[AI] Advanced to next step for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Command Tower (card_85eb4b03-305b-45a4-82e5-5fcd586cc744_9e2cb7246d16bfcd) is playable
[getPlayableCardIds] Land Sunbaked Canyon (card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 6 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708',
  'card_85eb4b03-305b-45a4-82e5-5fcd586cc744_9e2cb7246d16bfcd',
  'card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 14 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Command Tower (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:10.232Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340210232_1rx2e) ==========
2026-01-02T07:50:10.232Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:10.232Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340210232_1rx2e)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Command Tower
[AI] Playing land: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardId: 'card_85eb4b03-305b-45a4-82e5-5fcd586cc744_9e2cb7246d16bfcd'
}
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 4 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:10.542Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340210542_6kwoj) ==========
2026-01-02T07:50:10.543Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:10.543Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340210542_6kwoj)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Hanweir Battlements - Activating Hanweir Battlements (value: 12)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Hanweir Battlements',
  permanentId: 'perm_c1cq2zb4'
}
[AI] Tapped permanent for ability: Hanweir Battlements
[AI] Added activated ability to stack: Hanweir Battlements
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:11.363Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340211363_p5trg) ==========
2026-01-02T07:50:11.364Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:11.364Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340211363_p5trg)
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Mountain',
  permanentId: 'perm_jnhr0aux'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] Activating ability: Eiganjo, Seat of the Empire - Activating Eiganjo, Seat of the Empire (value: 5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Eiganjo, Seat of the Empire',
  permanentId: 'perm_zrjvb9wn'
}
[AI] Tapped permanent for ability: Eiganjo, Seat of the Empire
[AI] Added activated ability to stack: Eiganjo, Seat of the Empire
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 2,
  stackItems: [
    'Hanweir Battlements (ability)',
    'Eiganjo, Seat of the Empire (ability)'
  ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 2,
  stackItems: [
    'Hanweir Battlements (ability)',
    'Eiganjo, Seat of the Empire (ability)'
  ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 2,
  stackItems: [
    'Hanweir Battlements (ability)',
    'Eiganjo, Seat of the Empire (ability)'
  ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:11.675Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340211675_re97b) ==========
2026-01-02T07:50:11.675Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:11.675Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340211675_re97b)
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Executing activated ability from Eiganjo, Seat of the Empire for p_lag57ojs:
[executeTriggerEffect] Unhandled trigger effect: "" from Eiganjo, Seat of the Empire
[AI] Stack resolved for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:11.678Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340211678_0p591) ==========
2026-01-02T07:50:11.678Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:11.678Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340211678_0p591)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Executing activated ability from Hanweir Battlements for p_lag57ojs:
[executeTriggerEffect] Unhandled trigger effect: "" from Hanweir Battlements
[AI] Stack resolved for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Skyknight Vanguard not playable - cannot pay cost {R}{W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Impact Tremors not playable - cannot pay cost {1}{R} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:11.877Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340211877_n6hi9) ==========
2026-01-02T07:50:11.877Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:11.877Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340211877_n6hi9)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-02T07:50:11.981Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.981Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.981Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T07:50:11.981Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.981Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.981Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:11.981Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:11.981Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_lag57ojs: 0
2026-01-02T07:50:11.981Z [nextStep] Granting priority to active player p_lag57ojs (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_lag57ojs: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.981Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.981Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.981Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.981Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.982Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjwkommc
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-02T07:50:11.982Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.982Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.982Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T07:50:11.982Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.982Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.982Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T07:50:11.982Z [nextStep] Granting priority to active player p_lag57ojs (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_lag57ojs: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.982Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.982Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.982Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.982Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.982Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_ATTACKERS
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-02T07:50:11.982Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.982Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.982Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T07:50:11.982Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.982Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.982Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T07:50:11.982Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T07:50:11.982Z [nextStep] Granting priority to active player p_lag57ojs (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_lag57ojs: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.983Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.983Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.983Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.983Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.983Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_BLOCKERS
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-02T07:50:11.983Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.983Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.983Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T07:50:11.983Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.983Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.983Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T07:50:11.983Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T07:50:11.983Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T07:50:11.983Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T07:50:11.983Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T07:50:11.983Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T07:50:11.983Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T07:50:11.983Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T07:50:11.983Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T07:50:11.983Z [nextStep] Granting priority to active player p_lag57ojs (step: DAMAGE, stack size: 0)
[canAct] p_lag57ojs: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.983Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.983Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.983Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.983Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.983Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-02T07:50:11.983Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.983Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.983Z [nextStep] Current: combat/DAMAGE
2026-01-02T07:50:11.983Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.983Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.983Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T07:50:11.984Z [nextStep] Granting priority to active player p_lag57ojs (step: END_COMBAT, stack size: 0)
[canAct] p_lag57ojs: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.984Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.984Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.984Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.984Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.984Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-02T07:50:11.984Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.984Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.984Z [nextStep] Current: combat/END_COMBAT
2026-01-02T07:50:11.984Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.984Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.984Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:11.984Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:11.984Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T07:50:11.984Z [nextStep] Granting priority to active player p_lag57ojs (step: MAIN2, stack size: 0)
[canAct] p_lag57ojs: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.985Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.985Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.985Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.985Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.985Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 6), advancing again
2026-01-02T07:50:11.985Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.985Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.985Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T07:50:11.985Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.985Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.985Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:11.985Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:11.985Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T07:50:11.985Z [nextStep] Granting priority to active player p_lag57ojs (step: END, stack size: 0)
[canAct] p_lag57ojs: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:11.986Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:11.986Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors
2026-01-02T07:50:11.986Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:11.986Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:11.986Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 7), advancing again
2026-01-02T07:50:11.986Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:11.986Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:11.986Z [nextStep] Current: ending/END
2026-01-02T07:50:11.986Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:11.986Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
2026-01-02T07:50:11.986Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T07:50:11.986Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T07:50:11.986Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T07:50:11.986Z [untapPermanentsForPlayer] Player p_m6sypiy3: untapped 1, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T07:50:11.986Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T07:50:11.986Z [nextTurn] Advanced to player p_m6sypiy3, phase=beginning, step=UPKEEP
2026-01-02T07:50:11.986Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_m6sypiy3
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[priority] autoPassLoop - checking p_m6sypiy3 (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_lag57ojs - no available actions
2026-01-02T07:50:11.986Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[AI] Auto-pass loop stopping - human player p_m6sypiy3 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:11.990Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340211990_lizmo) ==========
2026-01-02T07:50:11.990Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:11.990Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:11.990Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:11.990Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340211990_lizmo)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[Automation] Auto-pass for turn disabled for p_m6sypiy3 in game game_mjwkommc
[Automation] Auto-pass for turn state in game game_mjwkommc: {}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
2026-01-02T07:50:12.150Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340211990_lizmo) ==========
2026-01-02T07:50:12.150Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:12.150Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=false (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:12.150Z [executeAutoPass] Proceeding with auto-pass for p_m6sypiy3 (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:12.150Z [executeAutoPass] Set _autoPassInProgress flag for p_m6sypiy3 (ID: autopass_1767340211990_lizmo)
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_m6sypiy3
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_lag57ojs - no available actions
2026-01-02T07:50:12.151Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:12.151Z [executeAutoPass] Advancing step after auto-pass for p_m6sypiy3 (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:12.151Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:12.151Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:12.151Z [nextStep] Current: beginning/UPKEEP
2026-01-02T07:50:12.151Z [nextStep] Priority: p_5xe09ffy, Turn: p_m6sypiy3
2026-01-02T07:50:12.151Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T07:50:12.151Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T07:50:12.151Z [nextStep] Drew 1 card(s) for p_m6sypiy3 at draw step (base: 1, additional: 0)
2026-01-02T07:50:12.151Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T07:50:12.151Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T07:50:12.151Z [nextStep] Granting priority to active player p_m6sypiy3 (step: MAIN1, stack size: 0)
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
2026-01-02T07:50:12.151Z [nextStep] DEBUG - Turn Player p_m6sypiy3:
2026-01-02T07:50:12.151Z [nextStep]   Hand (6): Plains, Elspeth Resplendent, Plains, Emeria, the Sky Ruin, Plains, Elspeth Resplendent
2026-01-02T07:50:12.151Z [nextStep]   canAct: true, canRespond: false
2026-01-02T07:50:12.151Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_m6sypiy3
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_m6sypiy3 (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_m6sypiy3: active player can act
2026-01-02T07:50:12.151Z [nextStep] Auto-pass stopped, player p_m6sypiy3 has priority
2026-01-02T07:50:12.151Z [executeAutoPass] Cleared _autoPassInProgress flag for p_m6sypiy3 (ID: autopass_1767340211990_lizmo)
2026-01-02T07:50:12.151Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767340211990_lizmo)
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27) is playable
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec) is playable
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8) is playable
[getPlayableCardIds] Land Emeria, the Sky Ruin (bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_a_351f3106) is playable
[getPlayableCardIds] Returning 6 playable card(s): [
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27',
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8',
  'bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_a_351f3106'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:12.155Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340212155_bmgcr) ==========
2026-01-02T07:50:12.155Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:12.155Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=true (ID: autopass_1767340212155_bmgcr)
2026-01-02T07:50:12.155Z [checkAndTriggerAutoPass] p_m6sypiy3 CAN ACT - returning early, NO auto-pass (ID: autopass_1767340212155_bmgcr)
2026-01-02T07:50:12.155Z [executeAutoPass] Broadcast complete (ID: autopass_1767340211990_lizmo)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Steelshaper's Gift: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Soltari Monk: need 2 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Boros Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Skyknight Vanguard: need 2 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 4, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27) is playable
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec) is playable
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8) is playable
[getPlayableCardIds] Land Emeria, the Sky Ruin (bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_a_351f3106) is playable
[getPlayableCardIds] Returning 6 playable card(s): [
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27',
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8',
  'bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_a_351f3106'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:12.385Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340212385_et49s) ==========
2026-01-02T07:50:12.385Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:12.385Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=true (ID: autopass_1767340212385_et49s)
2026-01-02T07:50:12.385Z [checkAndTriggerAutoPass] p_m6sypiy3 CAN ACT - returning early, NO auto-pass (ID: autopass_1767340212385_et49s)
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 15 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[playLand] Player p_m6sypiy3 has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27) is playable
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec) is playable
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 2 playable card(s): [
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27',
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:15.145Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340215145_xjfeg) ==========
2026-01-02T07:50:15.145Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: Can cast sorcery-speed spell - returning TRUE
2026-01-02T07:50:15.145Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=true (ID: autopass_1767340215145_xjfeg)
2026-01-02T07:50:15.145Z [checkAndTriggerAutoPass] p_m6sypiy3 CAN ACT - returning early, NO auto-pass (ID: autopass_1767340215145_xjfeg)
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27) is playable
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec) is playable
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Returning 2 playable card(s): [
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27',
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec'
]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:15.148Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340215148_545cy) ==========
2026-01-02T07:50:15.148Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Already played max lands this turn (1/1)
[canAct] p_m6sypiy3: Can cast sorcery-speed spell - returning TRUE
2026-01-02T07:50:15.148Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=true (ID: autopass_1767340215148_545cy)
2026-01-02T07:50:15.148Z [checkAndTriggerAutoPass] p_m6sypiy3 CAN ACT - returning early, NO auto-pass (ID: autopass_1767340215148_545cy)
[skipToPhase] request from player=p_m6sypiy3 game=game_mjwkommc turnPlayer=p_m6sypiy3 currentPhase=precombatmain currentStep=MAIN1 targetPhase=ending targetStep=CLEANUP
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_m6sypiy3: 0
[skipToPhase] Reset priority tracking, priority set to p_m6sypiy3
[skipToPhase] Cleared damage from permanents during cleanup
2026-01-02T07:50:20.980Z [clearSummoningSicknessForPlayer] Cleared summoning sickness from 1 permanent(s) for p_5xe09ffy
2026-01-02T07:50:20.980Z [untapPermanentsForPlayer] Player p_5xe09ffy: untapped 3, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T07:50:20.980Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T07:50:20.980Z [nextTurn] Cleared justSkippedToPhase flag for new turn
2026-01-02T07:50:20.980Z [nextTurn] Advanced to player p_5xe09ffy, phase=beginning, step=UPKEEP
2026-01-02T07:50:20.980Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=true, stack.length=0, step=UPKEEP
[priority] autoPassLoop - stopping at p_5xe09ffy: active player can act
2026-01-02T07:50:20.980Z [nextTurn] Auto-pass stopped at upkeep, player p_5xe09ffy has priority
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[skipToPhase] Cleanup complete, advanced to next turn for game game_mjwkommc
[skipToPhase] Skipped to phase=ending, step=CLEANUP for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_5xe09ffy, match=true
[getPlayableCardIds] Player p_5xe09ffy: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 2, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_ac9c33cb284887f1) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_e32c67d1-187f-40df-b3b3-6036f5c92834_ac9c33cb284887f1' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_5xe09ffy: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Can cast instant/flash spell - returning TRUE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T07:50:20.984Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340220984_j8ojr) ==========
2026-01-02T07:50:20.985Z [checkAndTriggerAutoPass] Priority: p_5xe09ffy, Phase: beginning, Step: UPKEEP
2026-01-02T07:50:20.985Z [checkAndTriggerAutoPass] p_5xe09ffy is AI, handled separately (ID: autopass_1767340220984_j8ojr)
[Automation] Auto-pass for turn disabled for p_m6sypiy3 in game game_mjwkommc
[Automation] Auto-pass for turn state in game game_mjwkommc: {}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_5xe09ffy
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_m6sypiy3 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-02T07:50:21.604Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:21.604Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:21.604Z [nextStep] Current: beginning/UPKEEP
2026-01-02T07:50:21.604Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:21.604Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2701:7)
2026-01-02T07:50:21.604Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T07:50:21.604Z [nextStep] Drew 1 card(s) for p_5xe09ffy at draw step (base: 1, additional: 0)
2026-01-02T07:50:21.604Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T07:50:21.604Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T07:50:21.604Z [nextStep] Granting priority to active player p_5xe09ffy (step: MAIN1, stack size: 0)
[canAct] p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Checking hand with 8 cards
[canPlayLand] p_5xe09ffy: Sample cards in hand: [Nature's Will(Enchantment), Sol Ring(Artifact), Pest Infestation(Sorcery)]
[canPlayLand] p_5xe09ffy: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_5xe09ffy: Turn player in main phase can play land - returning TRUE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: Can cast instant/flash spell
2026-01-02T07:50:21.604Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:21.604Z [nextStep]   Hand (8): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter, Forest
2026-01-02T07:50:21.604Z [nextStep]   canAct: true, canRespond: true
2026-01-02T07:50:21.604Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Checking hand with 8 cards
[canPlayLand] p_5xe09ffy: Sample cards in hand: [Nature's Will(Enchantment), Sol Ring(Artifact), Pest Infestation(Sorcery)]
[canPlayLand] p_5xe09ffy: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_5xe09ffy: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_5xe09ffy: active player can act
2026-01-02T07:50:21.605Z [nextStep] Auto-pass stopped, player p_5xe09ffy has priority
[AI] Advanced to next step for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 8, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_5xe09ffy, match=true
[getPlayableCardIds] Player p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 2, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Nature's Will not playable - cannot pay cost {2}{G}{G} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":2,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (card_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_460be92bb427a5be) is playable
[getPlayableCardIds] Card Pest Infestation (card_99add821-568b-4931-8525-a673e6cc8f65_e5b975ffded23441) is playable
[getPlayableCardIds] Card Fierce Empath (card_28a1dd7f-2e42-4062-a941-b489b98a49fc_bfce63905badce60) is playable
[getPlayableCardIds] Card Priest of Titania (card_eb11921b-1b28-483f-a707-4de21a6daa31_2c96849a692e3a08) is playable
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_ac9c33cb284887f1) is playable
[getPlayableCardIds] Card Tanuki Transplanter not playable - cannot pay cost {3}{G} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Forest (card_a305e44f-4253-4754-b83f-1e34103d77b0_3a1f06d42a2ce3c0) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_3489f08ab248e708) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_460be92bb427a5be',
  'card_99add821-568b-4931-8525-a673e6cc8f65_e5b975ffded23441',
  'card_28a1dd7f-2e42-4062-a941-b489b98a49fc_bfce63905badce60',
  'card_eb11921b-1b28-483f-a707-4de21a6daa31_2c96849a692e3a08',
  'card_e32c67d1-187f-40df-b3b3-6036f5c92834_ac9c33cb284887f1',
  'card_a305e44f-4253-4754-b83f-1e34103d77b0_3a1f06d42a2ce3c0',
  'card_acf0cab3-da50-4561-8797-cd179af39216_3489f08ab248e708'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 16 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Checking hand with 8 cards
[canPlayLand] p_5xe09ffy: Sample cards in hand: [Nature's Will(Enchantment), Sol Ring(Artifact), Pest Infestation(Sorcery)]
[canPlayLand] p_5xe09ffy: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_5xe09ffy: Turn player in main phase can play land - returning TRUE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T07:50:21.609Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340221609_nudi4) ==========
2026-01-02T07:50:21.609Z [checkAndTriggerAutoPass] Priority: p_5xe09ffy, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:21.609Z [checkAndTriggerAutoPass] p_5xe09ffy is AI, handled separately (ID: autopass_1767340221609_nudi4)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_3a1f06d42a2ce3c0'
}
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking myriad landscape: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'myriad landscape'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_5xe09ffy, match=true
[getPlayableCardIds] Player p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 1 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Nature's Will (card_75a291a0-db0d-4ccc-b7ae-240cafa41883_9733568a58fad4ac) is playable
[getPlayableCardIds] Card Sol Ring (card_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_460be92bb427a5be) is playable
[getPlayableCardIds] Card Pest Infestation (card_99add821-568b-4931-8525-a673e6cc8f65_e5b975ffded23441) is playable
[getPlayableCardIds] Card Fierce Empath (card_28a1dd7f-2e42-4062-a941-b489b98a49fc_bfce63905badce60) is playable
[getPlayableCardIds] Card Priest of Titania (card_eb11921b-1b28-483f-a707-4de21a6daa31_2c96849a692e3a08) is playable
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_ac9c33cb284887f1) is playable
[getPlayableCardIds] Card Tanuki Transplanter (card_45ea5ead-9fd8-4909-96aa-d4e970891c93_c16fe22523c07120) is playable
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_3489f08ab248e708) is playable with cost {2}{G}
[getPlayableCardIds] Returning 8 playable card(s): [
  'card_75a291a0-db0d-4ccc-b7ae-240cafa41883_9733568a58fad4ac',
  'card_ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_460be92bb427a5be',
  'card_99add821-568b-4931-8525-a673e6cc8f65_e5b975ffded23441',
  'card_28a1dd7f-2e42-4062-a941-b489b98a49fc_bfce63905badce60',
  'card_eb11921b-1b28-483f-a707-4de21a6daa31_2c96849a692e3a08',
  'card_e32c67d1-187f-40df-b3b3-6036f5c92834_ac9c33cb284887f1',
  'card_45ea5ead-9fd8-4909-96aa-d4e970891c93_c16fe22523c07120',
  'card_acf0cab3-da50-4561-8797-cd179af39216_3489f08ab248e708'
]
[normalizeViewForEmit] getPlayableCardIds returned 8 cards
[normalizeViewForEmit] Set view.playableCards with 8 cards
[canAct] p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Already played max lands this turn (1/1)
[canAct] p_5xe09ffy: Can cast instant/flash spell - returning TRUE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
2026-01-02T07:50:21.918Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340221918_f39ew) ==========
2026-01-02T07:50:21.918Z [checkAndTriggerAutoPass] Priority: p_5xe09ffy, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:21.918Z [checkAndTriggerAutoPass] p_5xe09ffy is AI, handled separately (ID: autopass_1767340221918_f39ew)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 3 tappable lands, will tap 0, keep 3 untapped for flexibility
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 3 tappable lands, will tap 0, keep 3 untapped for flexibility
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 3 tappable lands, will tap 0, keep 3 untapped for flexibility
[AI] Activating ability: Myriad Landscape - Activating Myriad Landscape (value: 13.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  cardName: 'Myriad Landscape',
  permanentId: 'perm_apqm0fse'
}
[AI] Tapped permanent for ability: Myriad Landscape
[AI] Tapped for mana ability (resolves immediately, not on stack): Myriad Landscape
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  cardName: 'Forest',
  permanentId: 'perm_ehq90710'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  cardName: 'Forest',
  permanentId: 'perm_wvotm25k'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  cardName: 'Forest',
  permanentId: 'perm_t1yri6if'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Nature's Will: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Pest Infestation: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Fierce Empath: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Priest of Titania: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_5xe09ffy
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-02T07:50:23.748Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.748Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.748Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T07:50:23.748Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.748Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.748Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:23.748Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:23.748Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_5xe09ffy: 0
2026-01-02T07:50:23.748Z [nextStep] Granting priority to active player p_5xe09ffy (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_5xe09ffy: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.748Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.748Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.748Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:23.748Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_m6sypiy3 - no available actions
2026-01-02T07:50:23.748Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjwkommc
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-02T07:50:23.748Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.748Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.748Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T07:50:23.748Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.749Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.749Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T07:50:23.749Z [nextStep] Granting priority to active player p_5xe09ffy (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_5xe09ffy: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: Has valid attackers - returning TRUE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.749Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.749Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.749Z [nextStep]   canAct: true, canRespond: false
2026-01-02T07:50:23.749Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: Has valid attackers - returning TRUE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=true, stack.length=0, step=DECLARE_ATTACKERS
[priority] autoPassLoop - stopping at p_5xe09ffy: active player can act
2026-01-02T07:50:23.749Z [nextStep] Auto-pass stopped, player p_5xe09ffy has priority
[AI] Auto-advanced to DECLARE_ATTACKERS
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_5xe09ffy, match=true
[getPlayableCardIds] Player p_5xe09ffy: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_5xe09ffy: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: Has valid attackers - returning TRUE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-02T07:50:23.752Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340223752_wz2lf) ==========
2026-01-02T07:50:23.752Z [checkAndTriggerAutoPass] Priority: p_5xe09ffy, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-02T07:50:23.752Z [checkAndTriggerAutoPass] p_5xe09ffy is AI, handled separately (ID: autopass_1767340223752_wz2lf)
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Nature's Will: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Pest Infestation: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Fierce Empath: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Priest of Titania: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_5xe09ffy
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_m6sypiy3 - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-02T07:50:23.753Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.753Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.753Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T07:50:23.753Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.753Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.753Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T07:50:23.753Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T07:50:23.753Z [nextStep] Granting priority to active player p_5xe09ffy (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_5xe09ffy: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.753Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.753Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.753Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:23.753Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_m6sypiy3 - no available actions
2026-01-02T07:50:23.754Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjwkommc
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-02T07:50:23.754Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.754Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.754Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T07:50:23.754Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.754Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.754Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T07:50:23.754Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T07:50:23.754Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T07:50:23.754Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T07:50:23.754Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T07:50:23.754Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T07:50:23.754Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T07:50:23.754Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T07:50:23.754Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T07:50:23.754Z [nextStep] Granting priority to active player p_5xe09ffy (step: DAMAGE, stack size: 0)
[canAct] p_5xe09ffy: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.754Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.754Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.754Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:23.754Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_m6sypiy3 - no available actions
2026-01-02T07:50:23.755Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-02T07:50:23.755Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.755Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.755Z [nextStep] Current: combat/DAMAGE
2026-01-02T07:50:23.755Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.755Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.755Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T07:50:23.755Z [nextStep] Granting priority to active player p_5xe09ffy (step: END_COMBAT, stack size: 0)
[canAct] p_5xe09ffy: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.755Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.755Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.755Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:23.755Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_m6sypiy3 - no available actions
2026-01-02T07:50:23.755Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-02T07:50:23.755Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.755Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.755Z [nextStep] Current: combat/END_COMBAT
2026-01-02T07:50:23.755Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.755Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.755Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:23.755Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:23.755Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T07:50:23.755Z [nextStep] Granting priority to active player p_5xe09ffy (step: MAIN2, stack size: 0)
[canAct] p_5xe09ffy: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Already played max lands this turn (1/1)
[canAct] p_5xe09ffy: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Already played max lands this turn (1/1)
[canAct] p_5xe09ffy: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.756Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.756Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.756Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:23.756Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Already played max lands this turn (1/1)
[canAct] p_5xe09ffy: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Already played max lands this turn (1/1)
[canAct] p_5xe09ffy: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_m6sypiy3 - no available actions
2026-01-02T07:50:23.757Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-02T07:50:23.757Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.757Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.757Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T07:50:23.757Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.757Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.757Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:23.757Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:23.757Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T07:50:23.757Z [nextStep] Granting priority to active player p_5xe09ffy (step: END, stack size: 0)
[canAct] p_5xe09ffy: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
2026-01-02T07:50:23.757Z [nextStep] DEBUG - Turn Player p_5xe09ffy:
2026-01-02T07:50:23.757Z [nextStep]   Hand (7): Nature's Will, Sol Ring, Pest Infestation, Fierce Empath, Priest of Titania, Heroic Intervention, Tanuki Transplanter
2026-01-02T07:50:23.757Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:23.757Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_5xe09ffy
[canAct] p_5xe09ffy: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_5xe09ffy: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[priority] autoPassLoop - checking p_5xe09ffy (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_m6sypiy3 - no available actions
2026-01-02T07:50:23.758Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-02T07:50:23.758Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.758Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.758Z [nextStep] Current: ending/END
2026-01-02T07:50:23.758Z [nextStep] Priority: p_5xe09ffy, Turn: p_5xe09ffy
2026-01-02T07:50:23.758Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.758Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T07:50:23.758Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T07:50:23.758Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T07:50:23.758Z [untapPermanentsForPlayer] Player p_lag57ojs: untapped 3, stun counters removed 0, skipped (doesn't untap) 0
2026-01-02T07:50:23.758Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T07:50:23.758Z [nextTurn] Advanced to player p_lag57ojs, phase=beginning, step=UPKEEP
2026-01-02T07:50:23.758Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:23.758Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[AI] Auto-pass detected after step advancement (iteration 6), advancing again
2026-01-02T07:50:23.759Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:23.759Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:23.759Z [nextStep] Current: beginning/UPKEEP
2026-01-02T07:50:23.759Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:23.759Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2610:7)
2026-01-02T07:50:23.759Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T07:50:23.759Z [nextStep] Drew 1 card(s) for p_lag57ojs at draw step (base: 1, additional: 0)
2026-01-02T07:50:23.759Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T07:50:23.759Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T07:50:23.759Z [nextStep] Granting priority to active player p_lag57ojs (step: MAIN1, stack size: 0)
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Sunbaked Canyon (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:23.759Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:23.759Z [nextStep]   Hand (8): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Sunbaked Canyon, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:23.759Z [nextStep]   canAct: true, canRespond: false
2026-01-02T07:50:23.759Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Sunbaked Canyon (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_lag57ojs: active player can act
2026-01-02T07:50:23.760Z [nextStep] Auto-pass stopped, player p_lag57ojs has priority
[AI] Auto-advanced to MAIN1
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[getPlayableCardIds] Card Skullclamp (card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Sunbaked Canyon (card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 6 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708',
  'card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3',
  'card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Sunbaked Canyon (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:23.763Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340223763_hps42) ==========
2026-01-02T07:50:23.763Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:23.763Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340223763_hps42)
[Automation] Auto-pass for turn disabled for p_m6sypiy3 in game game_mjwkommc
[Automation] Auto-pass for turn state in game game_mjwkommc: {}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Nature's Will: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Pest Infestation: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Fierce Empath: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Priest of Titania: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[getPlayableCardIds] Card Skullclamp (card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Sunbaked Canyon (card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 6 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708',
  'card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3',
  'card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Sunbaked Canyon (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:23.874Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340223874_2wlll) ==========
2026-01-02T07:50:23.874Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:23.874Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340223874_2wlll)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Nature's Will: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Pest Infestation: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Fierce Empath: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Priest of Titania: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[getPlayableCardIds] Card Skullclamp (card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Sunbaked Canyon (card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 6 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708',
  'card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3',
  'card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Sunbaked Canyon (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:23.952Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340223952_h7llw) ==========
2026-01-02T07:50:23.952Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:23.952Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340223952_h7llw)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Nature's Will: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Pest Infestation: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Fierce Empath: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Priest of Titania: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 3
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[getPlayableCardIds] Card Skullclamp (card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Sunbaked Canyon (card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f) is playable
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 6 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708',
  'card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3',
  'card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 17 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Checking hand with 8 cards
[canPlayLand] p_lag57ojs: Sample cards in hand: [Steelshaper's Gift(Sorcery), Soltari Monk(Creature ΓÇö Soltari M), Aurelia, the Warleader(Legendary Creature ΓÇö)]
[canPlayLand] p_lag57ojs: Found land in hand: Sunbaked Canyon (Land) - returning TRUE
[canAct] p_lag57ojs: Turn player in main phase can play land - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 8, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:24.077Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340224077_z834b) ==========
2026-01-02T07:50:24.077Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:24.077Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340224077_z834b)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Sunbaked Canyon
[AI] Playing land: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardId: 'card_c36820fa-ee86-4206-9a0d-737a67cf5208_7e2c54fc66b5274f'
}
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sunbaked canyon: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sunbaked canyon'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 2, green: 0, colorless: 1 }
[getPlayableCardIds] Total available mana: 4
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift (card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf) is playable
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet (card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c) is playable
[getPlayableCardIds] Card Skyknight Vanguard (card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39) is playable
[getPlayableCardIds] Card Impact Tremors (card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708) is playable
[getPlayableCardIds] Card Skullclamp (card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3) is playable
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory (card_b4036bb7-835d-4690-aca1-1ab566776e9a_25753661f3992d18) is playable with cost {2}{R}{W}
[getPlayableCardIds] Returning 6 playable card(s): [
  'card_55d61383-b739-4422-a76c-d8cbca13c5b2_e54cc9f814109baf',
  'card_49c37c0e-d363-4033-a069-710241cd9923_e00ca33b43eff27c',
  'card_549634d8-1c33-401b-841d-a79ef4374dd1_0eb1c2b19654ee39',
  'card_d0b7cecf-b51b-4d30-b7e9-cd7976271e07_d160761591ed2708',
  'card_b5bb89dd-9d31-49d9-ba54-4a04798e515e_e723e914fa2b8ad3',
  'card_b4036bb7-835d-4690-aca1-1ab566776e9a_25753661f3992d18'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canCastCommanderFromCommandZone] p_lag57ojs: Commander Iroas, God of Victory can be cast (main phase, empty stack)
[canAct] p_lag57ojs: Can cast commander from command zone - returning TRUE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sunbaked canyon: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sunbaked canyon'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking hanweir battlements: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'hanweir battlements'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sunbaked canyon: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'sunbaked canyon'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:24.081Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340224081_37e8h) ==========
2026-01-02T07:50:24.081Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:24.081Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340224081_37e8h)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Sunbaked Canyon - Activating Sunbaked Canyon (value: 15.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Sunbaked Canyon',
  permanentId: 'perm_vpm60awt'
}
[AI] Tapped permanent for ability: Sunbaked Canyon
[AI] Tapped for mana ability (resolves immediately, not on stack): Sunbaked Canyon
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Hanweir Battlements - Activating Hanweir Battlements (value: 12)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Hanweir Battlements',
  permanentId: 'perm_c1cq2zb4'
}
[AI] Tapped permanent for ability: Hanweir Battlements
[AI] Added activated ability to stack: Hanweir Battlements
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 1, blue: 0, black: 0, red: 1, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking eiganjo, seat of the empire: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'eiganjo, seat of the empire'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking mountain: { hasKarametra: false, hasAcolyte: false, fullCardName: 'mountain' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:24.776Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340224776_fx51o) ==========
2026-01-02T07:50:24.776Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:24.776Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340224776_fx51o)
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Mountain',
  permanentId: 'perm_jnhr0aux'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] Activating ability: Eiganjo, Seat of the Empire - Activating Eiganjo, Seat of the Empire (value: 5)
[AI] Activating ability: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  cardName: 'Eiganjo, Seat of the Empire',
  permanentId: 'perm_zrjvb9wn'
}
[AI] Tapped permanent for ability: Eiganjo, Seat of the Empire
[AI] Added activated ability to stack: Eiganjo, Seat of the Empire
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 2,
  stackItems: [
    'Hanweir Battlements (ability)',
    'Eiganjo, Seat of the Empire (ability)'
  ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 2,
  stackItems: [
    'Hanweir Battlements (ability)',
    'Eiganjo, Seat of the Empire (ability)'
  ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 2,
  stackItems: [
    'Hanweir Battlements (ability)',
    'Eiganjo, Seat of the Empire (ability)'
  ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:24.900Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340224900_a44u3) ==========
2026-01-02T07:50:24.900Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:24.900Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340224900_a44u3)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_lag57ojs',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=2, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Executing activated ability from Eiganjo, Seat of the Empire for p_lag57ojs:
[executeTriggerEffect] Unhandled trigger effect: "" from Eiganjo, Seat of the Empire
[AI] Stack resolved for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 1,
  stackItems: [ 'Hanweir Battlements (ability)' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.010Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225010_fryk9) ==========
2026-01-02T07:50:25.010Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:25.010Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340225010_fryk9)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Steelshaper's Gift: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Soltari Monk: need 2 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Boros Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Skyknight Vanguard: need 2 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Executing activated ability from Hanweir Battlements for p_lag57ojs:
[executeTriggerEffect] Unhandled trigger effect: "" from Hanweir Battlements
[AI] Stack resolved for game game_mjwkommc
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_lag57ojs, match=true
[getPlayableCardIds] Player p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Steelshaper's Gift not playable - cannot pay cost {W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Soltari Monk not playable - cannot pay cost {W}{W} (after reduction: {"generic":0,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Aurelia, the Warleader not playable - cannot pay cost {2}{R}{R}{W}{W} (after reduction: {"generic":2,"colors":{"W":2,"U":0,"B":0,"R":2,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Boros Signet not playable - cannot pay cost {2} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Skyknight Vanguard not playable - cannot pay cost {R}{W} (after reduction: {"generic":0,"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Impact Tremors not playable - cannot pay cost {1}{R} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":1,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Skullclamp not playable - cannot pay cost {1} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_lag57ojs: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_lag57ojs, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.015Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225015_jfh0z) ==========
2026-01-02T07:50:25.015Z [checkAndTriggerAutoPass] Priority: p_lag57ojs, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:25.015Z [checkAndTriggerAutoPass] p_lag57ojs is AI, handled separately (ID: autopass_1767340225015_jfh0z)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Steelshaper's Gift: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Soltari Monk: need 2 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Boros Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Skyknight Vanguard: need 2 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_lag57ojs
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-02T07:50:25.084Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.084Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.084Z [nextStep] Current: precombatMain/MAIN1
2026-01-02T07:50:25.084Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.084Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4590:25)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.084Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:25.084Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:25.084Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_lag57ojs: 0
2026-01-02T07:50:25.084Z [nextStep] Granting priority to active player p_lag57ojs (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_lag57ojs: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.084Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.084Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.084Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.084Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.085Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjwkommc
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-02T07:50:25.085Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.085Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.085Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-02T07:50:25.085Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.085Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.085Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-02T07:50:25.085Z [nextStep] Granting priority to active player p_lag57ojs (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_lag57ojs: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.085Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.085Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.085Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.085Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.085Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_ATTACKERS
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-02T07:50:25.085Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.085Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.085Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-02T07:50:25.085Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.085Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.085Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-02T07:50:25.085Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-02T07:50:25.085Z [nextStep] Granting priority to active player p_lag57ojs (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_lag57ojs: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.085Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.085Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.085Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.085Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.086Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_BLOCKERS
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-02T07:50:25.086Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.086Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.086Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-02T07:50:25.086Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.086Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.086Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-02T07:50:25.086Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-02T07:50:25.086Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-02T07:50:25.086Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-02T07:50:25.086Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-02T07:50:25.086Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-02T07:50:25.086Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-02T07:50:25.086Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-02T07:50:25.086Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-02T07:50:25.086Z [nextStep] Granting priority to active player p_lag57ojs (step: DAMAGE, stack size: 0)
[canAct] p_lag57ojs: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.086Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.086Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.086Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.086Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.086Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-02T07:50:25.086Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.086Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.086Z [nextStep] Current: combat/DAMAGE
2026-01-02T07:50:25.086Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.086Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.086Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-02T07:50:25.086Z [nextStep] Granting priority to active player p_lag57ojs (step: END_COMBAT, stack size: 0)
[canAct] p_lag57ojs: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.087Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.087Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.087Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.087Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.087Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-02T07:50:25.087Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.087Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.087Z [nextStep] Current: combat/END_COMBAT
2026-01-02T07:50:25.087Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.087Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.087Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:25.087Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:25.087Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-02T07:50:25.087Z [nextStep] Granting priority to active player p_lag57ojs (step: MAIN2, stack size: 0)
[canAct] p_lag57ojs: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.088Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.088Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.088Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.088Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[canPlayLand] p_lag57ojs: Already played max lands this turn (1/1)
[canAct] p_lag57ojs: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.088Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 6), advancing again
2026-01-02T07:50:25.088Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.088Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.088Z [nextStep] Current: postcombatMain/MAIN2
2026-01-02T07:50:25.088Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.088Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.088Z [clearManaPool] Player p_5xe09ffy: Retained mana for colors: green: 0
2026-01-02T07:50:25.088Z [clearManaPool] Processed mana pools for all players
2026-01-02T07:50:25.088Z [nextStep] Advanced to phase=ending, step=END
2026-01-02T07:50:25.088Z [nextStep] Granting priority to active player p_lag57ojs (step: END, stack size: 0)
[canAct] p_lag57ojs: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
2026-01-02T07:50:25.088Z [nextStep] DEBUG - Turn Player p_lag57ojs:
2026-01-02T07:50:25.088Z [nextStep]   Hand (7): Steelshaper's Gift, Soltari Monk, Aurelia, the Warleader, Boros Signet, Skyknight Vanguard, Impact Tremors, Skullclamp
2026-01-02T07:50:25.088Z [nextStep]   canAct: false, canRespond: false
2026-01-02T07:50:25.088Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_lag57ojs
[canAct] p_lag57ojs: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_lag57ojs: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_lag57ojs: No actions available - returning FALSE
[priority] autoPassLoop - checking p_lag57ojs (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_lag57ojs - no available actions
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_m6sypiy3 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_5xe09ffy - no available actions
2026-01-02T07:50:25.089Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 7), advancing again
2026-01-02T07:50:25.089Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.089Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.089Z [nextStep] Current: ending/END
2026-01-02T07:50:25.089Z [nextStep] Priority: p_lag57ojs, Turn: p_lag57ojs
2026-01-02T07:50:25.089Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4615:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-02T07:50:25.089Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-02T07:50:25.089Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-02T07:50:25.089Z [nextStep] Cleanup complete, advancing to next turn
2026-01-02T07:50:25.089Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-02T07:50:25.089Z [nextTurn] Advanced to player p_m6sypiy3, phase=beginning, step=UPKEEP
2026-01-02T07:50:25.089Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_m6sypiy3
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[priority] autoPassLoop - checking p_m6sypiy3 (ACTIVE): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_m6sypiy3 - no available actions
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_lag57ojs - no available actions
2026-01-02T07:50:25.089Z [nextTurn] All players auto-passed at upkeep - caller should advance step
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[AI] Auto-pass loop stopping - human player p_m6sypiy3 has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.093Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225093_silin) ==========
2026-01-02T07:50:25.093Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.093Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.093Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.093Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340225093_silin)
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.097Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225097_ws6zg) ==========
2026-01-02T07:50:25.097Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.097Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340225097_ws6zg)
2026-01-02T07:50:25.097Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340225097_ws6zg)
2026-01-02T07:50:25.097Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340225097_ws6zg)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[Automation] Auto-pass for turn disabled for p_m6sypiy3 in game game_mjwkommc
[Automation] Auto-pass for turn state in game game_mjwkommc: {}
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Steelshaper's Gift: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Soltari Monk: need 2 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Boros Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Skyknight Vanguard: need 2 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.101Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225101_jsgkr) ==========
2026-01-02T07:50:25.101Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.101Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340225101_jsgkr)
2026-01-02T07:50:25.101Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340225101_jsgkr)
2026-01-02T07:50:25.101Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340225101_jsgkr)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Steelshaper's Gift: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Soltari Monk: need 2 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Boros Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Skyknight Vanguard: need 2 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.211Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225211_bro2b) ==========
2026-01-02T07:50:25.211Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.211Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340225211_bro2b)
2026-01-02T07:50:25.211Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340225211_bro2b)
2026-01-02T07:50:25.211Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340225211_bro2b)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Steelshaper's Gift: need 1 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}`,
  'Soltari Monk: need 2 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Aurelia, the Warleader: need 6 mana (have 0), colors: {"W":2,"U":0,"B":0,"R":2,"G":0,"C":0}',
  'Boros Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Skyknight Vanguard: need 2 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.215Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225215_08b9x) ==========
2026-01-02T07:50:25.215Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.215Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340225215_08b9x)
2026-01-02T07:50:25.215Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340225215_08b9x)
2026-01-02T07:50:25.215Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340225215_08b9x)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_lag57ojs' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.218Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225218_ildot) ==========
2026-01-02T07:50:25.218Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.218Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340225218_ildot)
2026-01-02T07:50:25.218Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340225218_ildot)
2026-01-02T07:50:25.218Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340225218_ildot)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
2026-01-02T07:50:25.253Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340225093_silin) ==========
2026-01-02T07:50:25.253Z [executeAutoPass] Phase: beginning, Step: UPKEEP
[canAct] p_m6sypiy3: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:25.253Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=false (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.253Z [executeAutoPass] Proceeding with auto-pass for p_m6sypiy3 (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.253Z [executeAutoPass] Set _autoPassInProgress flag for p_m6sypiy3 (ID: autopass_1767340225093_silin)
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_m6sypiy3
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_lag57ojs - no available actions
2026-01-02T07:50:25.254Z [executeAutoPass] passPriority result: changed=true, advanceStep=true, resolvedNow=false (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.254Z [executeAutoPass] Advancing step after auto-pass for p_m6sypiy3 (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.254Z [nextStep] ========== CALLED ==========
2026-01-02T07:50:25.254Z [nextStep] Game: game_mjwkommc
2026-01-02T07:50:25.254Z [nextStep] Current: beginning/UPKEEP
2026-01-02T07:50:25.254Z [nextStep] Priority: p_5xe09ffy, Turn: p_m6sypiy3
2026-01-02T07:50:25.254Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at Timeout.executeAutoPass (D:\Git\MTGEDH\server\src\socket\util.ts:2017:31)
        at listOnTimeout (node:internal/timers:588:17)
        at process.processTimers (node:internal/timers:523:7)
2026-01-02T07:50:25.254Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-02T07:50:25.254Z [nextStep] Drew 1 card(s) for p_m6sypiy3 at draw step (base: 1, additional: 0)
2026-01-02T07:50:25.254Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-02T07:50:25.254Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-02T07:50:25.254Z [nextStep] Granting priority to active player p_m6sypiy3 (step: MAIN1, stack size: 0)
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
2026-01-02T07:50:25.254Z [nextStep] DEBUG - Turn Player p_m6sypiy3:
2026-01-02T07:50:25.254Z [nextStep]   Hand (6): Plains, Elspeth Resplendent, Plains, Emeria, the Sky Ruin, Elspeth Resplendent, Sol Ring
2026-01-02T07:50:25.254Z [nextStep]   canAct: true, canRespond: false
2026-01-02T07:50:25.254Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_m6sypiy3, turnPlayer: p_m6sypiy3
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_m6sypiy3 (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_m6sypiy3: active player can act
2026-01-02T07:50:25.254Z [nextStep] Auto-pass stopped, player p_m6sypiy3 has priority
2026-01-02T07:50:25.254Z [executeAutoPass] Cleared _autoPassInProgress flag for p_m6sypiy3 (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.254Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767340225093_silin)
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 5, blue: 0, black: 0, red: 0, green: 0, colorless: 2 }
[getPlayableCardIds] Total available mana: 7
[getPlayableCardIds] Checking 6 cards in hand
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27) is playable
[getPlayableCardIds] Card Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec) is playable
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwkouj9_n_a27fcce7) is playable
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8) is playable
[getPlayableCardIds] Land Emeria, the Sky Ruin (bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc) is playable
[getPlayableCardIds] Returning 6 playable card(s): [
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_t_cee1ff27',
  '7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec',
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwkouj9_n_a27fcce7',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8',
  'bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc'
]
[normalizeViewForEmit] getPlayableCardIds returned 6 cards
[normalizeViewForEmit] Set view.playableCards with 6 cards
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 6, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:25.258Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340225258_eb9wd) ==========
2026-01-02T07:50:25.258Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:25.259Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=true (ID: autopass_1767340225258_eb9wd)
2026-01-02T07:50:25.259Z [checkAndTriggerAutoPass] p_m6sypiy3 CAN ACT - returning early, NO auto-pass (ID: autopass_1767340225258_eb9wd)
2026-01-02T07:50:25.259Z [executeAutoPass] Broadcast complete (ID: autopass_1767340225093_silin)
2026-01-02T07:50:25.259Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340225097_ws6zg) ==========
2026-01-02T07:50:25.259Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:25.259Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=true (ID: autopass_1767340225097_ws6zg)
2026-01-02T07:50:25.259Z [executeAutoPass] Player p_m6sypiy3 CAN NOW ACT - canceling auto-pass (ID: autopass_1767340225097_ws6zg)
2026-01-02T07:50:25.259Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340225101_jsgkr) ==========
2026-01-02T07:50:25.259Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:25.259Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=true (ID: autopass_1767340225101_jsgkr)
2026-01-02T07:50:25.259Z [executeAutoPass] Player p_m6sypiy3 CAN NOW ACT - canceling auto-pass (ID: autopass_1767340225101_jsgkr)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
2026-01-02T07:50:25.363Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340225211_bro2b) ==========
2026-01-02T07:50:25.363Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:25.363Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=true (ID: autopass_1767340225211_bro2b)
2026-01-02T07:50:25.363Z [executeAutoPass] Player p_m6sypiy3 CAN NOW ACT - canceling auto-pass (ID: autopass_1767340225211_bro2b)
2026-01-02T07:50:25.379Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340225215_08b9x) ==========
2026-01-02T07:50:25.379Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:25.379Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=true (ID: autopass_1767340225215_08b9x)
2026-01-02T07:50:25.379Z [executeAutoPass] Player p_m6sypiy3 CAN NOW ACT - canceling auto-pass (ID: autopass_1767340225215_08b9x)
2026-01-02T07:50:25.379Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340225218_ildot) ==========
2026-01-02T07:50:25.379Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 6 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:25.380Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=true (ID: autopass_1767340225218_ildot)
2026-01-02T07:50:25.380Z [executeAutoPass] Player p_m6sypiy3 CAN NOW ACT - canceling auto-pass (ID: autopass_1767340225218_ildot)
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_lag57ojs',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_m6sypiy3',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[requestCastSpell] ======== REQUEST START ========
[requestCastSpell] gameId: game_mjwkommc, cardId: 7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec, faceIndex: undefined
[requestCastSpell] playerId: p_m6sypiy3, priority: p_m6sypiy3
[requestCastSpell] No targets needed, emitted paymentRequired for Elspeth Resplendent
[requestCastSpell] ======== REQUEST END (waiting for payment) ========
[completeCastSpell] DEBUG START ========================================
[completeCastSpell] cardId: 7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec, effectId: cast_7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec_1767340230068
[completeCastSpell] targets from client: undefined
[completeCastSpell] payment from client: [{"permanentId":"perm_q7v9wj6r","mana":"W","count":1},{"permanentId":"perm_5mo44tis","mana":"W","count":1},{"permanentId":"perm_a8egccs8","mana":"C","count":2},{"permanentId":"perm_jp1xr00b","mana":"W","count":1}]
[completeCastSpell] No pendingCast found for effectId: cast_7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec_1767340230068
[completeCastSpell] Final targets to use: none
[completeCastSpell] Calling handleCastSpellFromHand with skipInteractivePrompts=true
[completeCastSpell] DEBUG END ==========================================
[handleCastSpellFromHand] ======== DEBUG START ========
[handleCastSpellFromHand] cardId: 7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec
[handleCastSpellFromHand] targets: undefined
[handleCastSpellFromHand] payment: [{"permanentId":"perm_q7v9wj6r","mana":"W","count":1},{"permanentId":"perm_5mo44tis","mana":"W","count":1},{"permanentId":"perm_a8egccs8","mana":"C","count":2},{"permanentId":"perm_jp1xr00b","mana":"W","count":1}]
[handleCastSpellFromHand] skipInteractivePrompts: true
[handleCastSpellFromHand] playerId: p_m6sypiy3
[handleCastSpellFromHand] priority: p_m6sypiy3
[handleCastSpellFromHand] Elspeth Resplendent: spellSpec=false, targetReqs=false, needsTargetSelection=null, hasTargets=false
[handleCastSpellFromHand] ======== DEBUG END ========
[castSpellFromHand] Processing payment for Elspeth Resplendent: [
  { permanentId: 'perm_q7v9wj6r', mana: 'W', count: 1 },
  { permanentId: 'perm_5mo44tis', mana: 'W', count: 1 },
  { permanentId: 'perm_a8egccs8', mana: 'C', count: 2 },
  { permanentId: 'perm_jp1xr00b', mana: 'W', count: 1 }
]
[castSpellFromHand] Added 1 W mana to p_m6sypiy3's pool from Plains
[castSpellFromHand] Added 1 W mana to p_m6sypiy3's pool from Plains
[castSpellFromHand] Added 2 C mana to p_m6sypiy3's pool from Sol Ring
[castSpellFromHand] Added 1 W mana to p_m6sypiy3's pool from Plains
[castSpellFromHand] Consumed 2 W mana from pool
[castSpellFromHand] Consumed 2 colorless mana for generic cost
[castSpellFromHand] Consumed 1 W mana for generic cost
[castSpellFromHand] Converge: 1 different color(s) spent for Elspeth Resplendent
[castSpellFromHand] Added converge data to stack item: 1 colors (white)
[castSpellFromHand] Player p_m6sypiy3 cast Elspeth Resplendent (7c606af0-f3d1-44a4-b24e-ee1263569b1f_mjwkouj9_u_32f1f8ec) via applyEvent
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 1,
  stackItems: [ 'Elspeth Resplendent' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 1,
  stackItems: [ 'Elspeth Resplendent' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 1,
  stackItems: [ 'Elspeth Resplendent' ],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:32.822Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340232822_8opm7) ==========
2026-01-02T07:50:32.822Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:32.822Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=false (ID: autopass_1767340232822_8opm7)
2026-01-02T07:50:32.822Z [checkAndTriggerAutoPass] p_m6sypiy3 CANNOT ACT - proceeding with auto-pass (ID: autopass_1767340232822_8opm7)
2026-01-02T07:50:32.822Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_m6sypiy3 with 150ms delay (ID: autopass_1767340232822_8opm7)
2026-01-02T07:50:32.979Z [executeAutoPass] ========== EXECUTING for p_m6sypiy3 (ID: autopass_1767340232822_8opm7) ==========
2026-01-02T07:50:32.979Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_m6sypiy3: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_m6sypiy3: No actions available - returning FALSE
2026-01-02T07:50:32.979Z [executeAutoPass] Re-check: p_m6sypiy3 canAct=false (ID: autopass_1767340232822_8opm7)
2026-01-02T07:50:32.979Z [executeAutoPass] Proceeding with auto-pass for p_m6sypiy3 (ID: autopass_1767340232822_8opm7)
2026-01-02T07:50:32.979Z [executeAutoPass] Set _autoPassInProgress flag for p_m6sypiy3 (ID: autopass_1767340232822_8opm7)
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_5xe09ffy, turnPlayer: p_m6sypiy3
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_5xe09ffy (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_5xe09ffy - no available actions
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=1, step=MAIN1
[priority] Auto-passing for p_lag57ojs - no available actions
2026-01-02T07:50:32.979Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=true (ID: autopass_1767340232822_8opm7)
[checkAndTriggerAutoPass] Stack resolved after auto-pass for p_m6sypiy3
[PLANESWALKER DEBUG] Elspeth Resplendent entering battlefield: {
  loyalty: undefined,
  baseLoyalty: 0,
  counters: undefined,
  hasOracleText: true,
  oracleTextLength: 427
}
[resolveTopOfStack] Permanent Elspeth Resplendent entered battlefield under p_m6sypiy3
[calculateMaxLandsPerTurn] Calculating for player p_lag57ojs, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_lag57ojs: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-02T07:50:32.984Z [executeAutoPass] Cleared _autoPassInProgress flag for p_m6sypiy3 (ID: autopass_1767340232822_8opm7)
2026-01-02T07:50:32.984Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767340232822_8opm7)
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth resplendent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elspeth resplendent'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth resplendent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elspeth resplendent'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_m6sypiy3, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth resplendent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elspeth resplendent'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_5xe09ffy, viewerId=p_5xe09ffy, match=true
[getPlayableCardIds] Player p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_5xe09ffy: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_5xe09ffy: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_5xe09ffy, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_5xe09ffy: 1 lands per turn
[canPlayLand] p_5xe09ffy: Checking hand with 7 cards
[canPlayLand] p_5xe09ffy: Sample cards in hand: [Nature's Will(Enchantment), Sol Ring(Artifact), Pest Infestation(Sorcery)]
[canPlayLand] p_5xe09ffy: No lands found in hand of 7 cards - returning FALSE
[canAct] p_5xe09ffy: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_5xe09ffy: No actions available - returning FALSE
[canRespond] p_5xe09ffy: checking instant-speed responses only
[canRespond] p_5xe09ffy: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-02T07:50:32.988Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340232988_61szy) ==========
2026-01-02T07:50:32.988Z [checkAndTriggerAutoPass] Priority: p_5xe09ffy, Phase: precombatMain, Step: MAIN1
2026-01-02T07:50:32.988Z [checkAndTriggerAutoPass] p_5xe09ffy is AI, handled separately (ID: autopass_1767340232988_61szy)
2026-01-02T07:50:32.988Z [executeAutoPass] Broadcast complete (ID: autopass_1767340232822_8opm7)
[AI] handleAIGameFlow: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjwkommc',
  playerId: 'p_5xe09ffy',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_5xe09ffy',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjwkommc', playerId: 'p_5xe09ffy' }
[priority] autoPassLoop starting - active players: p_lag57ojs, p_m6sypiy3, p_5xe09ffy, autoPassEnabled: p_m6sypiy3, p_lag57ojs, p_5xe09ffy, currentPriority: p_lag57ojs, turnPlayer: p_m6sypiy3
[canRespond] p_lag57ojs: checking instant-speed responses only
[canRespond] p_lag57ojs: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_lag57ojs (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_lag57ojs - no available actions
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 5 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[priority] autoPassLoop - checking p_m6sypiy3 (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_m6sypiy3: active player can act
[VIEW_FOR_DEBUG] {
  viewer: 'p_lag57ojs',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth resplendent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elspeth resplendent'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_lag57ojs, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_m6sypiy3',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth resplendent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elspeth resplendent'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_m6sypiy3, match=true
[getPlayableCardIds] Player p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 2, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 2
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Elspeth Resplendent not playable - cannot pay cost {3}{W}{W} (after reduction: {"generic":3,"colors":{"W":2,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Sol Ring (ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwkouj9_n_a27fcce7) is playable
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153) is playable
[getPlayableCardIds] Land Plains (4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8) is playable
[getPlayableCardIds] Land Emeria, the Sky Ruin (bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc) is playable
[getPlayableCardIds] Returning 4 playable card(s): [
  'ee6e5a35-fe21-4dee-b0ef-a8f2841511ad_mjwkouj9_n_a27fcce7',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_2_33b8a153',
  '4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_mjwkouj9_d_dfcc37d8',
  'bb89c14b-028a-4bef-ae94-703198ef0376_mjwkouj9_j_f5477efc'
]
[normalizeViewForEmit] getPlayableCardIds returned 4 cards
[normalizeViewForEmit] Set view.playableCards with 4 cards
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 5 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
[canRespond] p_m6sypiy3: checking instant-speed responses only
[canRespond] p_m6sypiy3: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_5xe09ffy',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_lag57ojs: { handCount: 7, firstKnown: [Array] },
    p_m6sypiy3: { handCount: 5, firstKnown: [Array] },
    p_5xe09ffy: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking arcane signet: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'arcane signet'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking brimaz, king of oreskos: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'brimaz, king of oreskos'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking command tower: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'command tower'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elspeth resplendent: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elspeth resplendent'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_m6sypiy3, viewerId=p_5xe09ffy, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-02T07:50:33.607Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767340233607_9v4s8) ==========
2026-01-02T07:50:33.607Z [checkAndTriggerAutoPass] Priority: p_m6sypiy3, Phase: precombatMain, Step: MAIN1
[canAct] p_m6sypiy3: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_m6sypiy3, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_m6sypiy3: 1 lands per turn
[canPlayLand] p_m6sypiy3: Checking hand with 5 cards
[canPlayLand] p_m6sypiy3: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elspeth Resplendent(Legendary Planeswalk), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_m6sypiy3: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_m6sypiy3: Turn player in main phase can play land - returning TRUE
2026-01-02T07:50:33.607Z [checkAndTriggerAutoPass] canAct check: p_m6sypiy3 isActive=true canAct=true (ID: autopass_1767340233607_9v4s8)
2026-01-02T07:50:33.607Z [checkAndTriggerAutoPass] p_m6sypiy3 CAN ACT - returning early, NO auto-pass (ID: autopass_1767340233607_9v4s8)
