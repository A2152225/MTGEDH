  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Plains - Activating Plains (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  cardName: 'Plains',
  permanentId: 'perm_mpgbpg5f'
}
[AI] Tapped permanent for ability: Plains
[AI] Tapped for mana ability (resolves immediately, not on stack): Plains
[AI] Activating ability: Plains - Activating Plains (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  cardName: 'Plains',
  permanentId: 'perm_pnvddpx2'
}
[AI] Tapped permanent for ability: Plains
[AI] Tapped for mana ability (resolves immediately, not on stack): Plains
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Mentor of the Meek: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Impact Tremors: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Anointed Procession: need 4 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Flawless Maneuver: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Blasphemous Act: need 9 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_aft3t0og
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_q2z8wl2z - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T10:42:14.477Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.477Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.477Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T10:42:14.477Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.477Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4591:25)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.477Z [clearManaPool] Player p_s4kth6u5: Retained mana for colors: green: 0
2026-01-03T10:42:14.477Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:14.477Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_aft3t0og: 0
2026-01-03T10:42:14.477Z [nextStep] Granting priority to active player p_aft3t0og (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_aft3t0og: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.477Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.477Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.477Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.477Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.478Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjy5t7lo
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T10:42:14.478Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.478Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.478Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T10:42:14.478Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.478Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.478Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-03T10:42:14.478Z [nextStep] Granting priority to active player p_aft3t0og (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_aft3t0og: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.478Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.478Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.478Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.478Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.478Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_ATTACKERS
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-03T10:42:14.478Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.478Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.478Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T10:42:14.478Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.478Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.478Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T10:42:14.478Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-03T10:42:14.478Z [nextStep] Granting priority to active player p_aft3t0og (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.479Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.479Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.479Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.479Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.479Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DECLARE_BLOCKERS
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-03T10:42:14.479Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.479Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.479Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T10:42:14.479Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.479Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.479Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T10:42:14.479Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-03T10:42:14.479Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-03T10:42:14.479Z [COMBAT_DAMAGE] Found 0 attackers
2026-01-03T10:42:14.479Z [COMBAT_DAMAGE] No attackers, skipping combat damage
2026-01-03T10:42:14.479Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-03T10:42:14.479Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=0
2026-01-03T10:42:14.479Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T10:42:14.479Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T10:42:14.479Z [nextStep] Granting priority to active player p_aft3t0og (step: DAMAGE, stack size: 0)
[canAct] p_aft3t0og: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.479Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.479Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.479Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.479Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.480Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to DAMAGE
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-03T10:42:14.480Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.480Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.480Z [nextStep] Current: combat/DAMAGE
2026-01-03T10:42:14.480Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.480Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.480Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-03T10:42:14.480Z [nextStep] Granting priority to active player p_aft3t0og (step: END_COMBAT, stack size: 0)
[canAct] p_aft3t0og: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.480Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.480Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.480Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.480Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.480Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 5), advancing again
2026-01-03T10:42:14.480Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.480Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.480Z [nextStep] Current: combat/END_COMBAT
2026-01-03T10:42:14.480Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.480Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.480Z [clearManaPool] Player p_s4kth6u5: Retained mana for colors: green: 0
2026-01-03T10:42:14.480Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:14.480Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T10:42:14.480Z [nextStep] Granting priority to active player p_aft3t0og (step: MAIN2, stack size: 0)
[canAct] p_aft3t0og: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[canPlayLand] p_aft3t0og: Already played max lands this turn (1/1)
[canAct] p_aft3t0og: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[canPlayLand] p_aft3t0og: Already played max lands this turn (1/1)
[canAct] p_aft3t0og: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.481Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.481Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.481Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.481Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[canPlayLand] p_aft3t0og: Already played max lands this turn (1/1)
[canAct] p_aft3t0og: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[canPlayLand] p_aft3t0og: Already played max lands this turn (1/1)
[canAct] p_aft3t0og: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.482Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 6), advancing again
2026-01-03T10:42:14.482Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.482Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.482Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T10:42:14.482Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.482Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.482Z [clearManaPool] Player p_s4kth6u5: Retained mana for colors: green: 0
2026-01-03T10:42:14.482Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:14.482Z [nextStep] Advanced to phase=ending, step=END
2026-01-03T10:42:14.482Z [nextStep] Granting priority to active player p_aft3t0og (step: END, stack size: 0)
[canAct] p_aft3t0og: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
2026-01-03T10:42:14.482Z [nextStep] DEBUG - Turn Player p_aft3t0og:
2026-01-03T10:42:14.482Z [nextStep]   Hand (7): Mentor of the Meek, Impact Tremors, Anointed Procession, Flawless Maneuver, Blasphemous Act, Gisela, Blade of Goldnight, Skyknight Vanguard
2026-01-03T10:42:14.482Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:14.482Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[canAct] p_aft3t0og: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[priority] autoPassLoop - checking p_aft3t0og (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_aft3t0og - no available actions
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_s4kth6u5 (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_q2z8wl2z - no available actions
2026-01-03T10:42:14.482Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 7), advancing again
2026-01-03T10:42:14.482Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.482Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.482Z [nextStep] Current: ending/END
2026-01-03T10:42:14.482Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:14.482Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2611:7)
2026-01-03T10:42:14.483Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T10:42:14.483Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-03T10:42:14.483Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T10:42:14.483Z [clearSummoningSicknessForPlayer] Cleared summoning sickness from 2 permanent(s) for p_s4kth6u5
2026-01-03T10:42:14.483Z [nextTurn] Reset planeswalker loyalty activation counters for player p_s4kth6u5
2026-01-03T10:42:14.483Z [untapPermanentsForPlayer] Player p_s4kth6u5: untapped 3, stun counters removed 0, skipped (doesn't untap) 0
2026-01-03T10:42:14.483Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-03T10:42:14.483Z [nextTurn] Advanced to player p_s4kth6u5, phase=beginning, step=UPKEEP
2026-01-03T10:42:14.483Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=true, stack.length=0, step=UPKEEP
[priority] autoPassLoop - stopping at p_s4kth6u5: active player can act
2026-01-03T10:42:14.483Z [nextTurn] Auto-pass stopped at upkeep, player p_s4kth6u5 has priority
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 2 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.488Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934488_q5oxe) ==========
2026-01-03T10:42:14.488Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: beginning, Step: UPKEEP
2026-01-03T10:42:14.488Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436934488_q5oxe)
[Automation] Auto-pass for turn disabled for p_q2z8wl2z in game game_mjy5t7lo
[Automation] Auto-pass for turn state in game game_mjy5t7lo: {}
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Mentor of the Meek: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Impact Tremors: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Anointed Procession: need 4 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Flawless Maneuver: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Blasphemous Act: need 9 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 2 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.588Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934588_wvoar) ==========
2026-01-03T10:42:14.588Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: beginning, Step: UPKEEP
2026-01-03T10:42:14.588Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436934588_wvoar)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Mentor of the Meek: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Impact Tremors: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Anointed Procession: need 4 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Flawless Maneuver: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Blasphemous Act: need 9 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 2 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.680Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934680_ob8v6) ==========
2026-01-03T10:42:14.680Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: beginning, Step: UPKEEP
2026-01-03T10:42:14.680Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436934680_ob8v6)
[AI] Cannot cast commander: Iroas, God of Victory Cost: {"colors":{"W":1,"U":0,"B":0,"R":1,"G":0,"C":0},"generic":2,"hasX":false,"hybrid":[]} Available: {"white":0,"blue":0,"black":0,"red":0,"green":0,"colorless":0}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Mentor of the Meek: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Impact Tremors: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}',
  'Anointed Procession: need 4 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Flawless Maneuver: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Blasphemous Act: need 9 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":1,"G":0,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 2 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_s4kth6u5: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.789Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934789_qx2bw) ==========
2026-01-03T10:42:14.789Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: beginning, Step: UPKEEP
2026-01-03T10:42:14.789Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436934789_qx2bw)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_q2z8wl2z, turnPlayer: p_s4kth6u5
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=UPKEEP
[priority] Auto-passing for p_aft3t0og - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T10:42:14.801Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:14.801Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:14.801Z [nextStep] Current: beginning/UPKEEP
2026-01-03T10:42:14.801Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:14.801Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4591:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2702:7)
2026-01-03T10:42:14.801Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-03T10:42:14.801Z [nextStep] Drew 1 card(s) for p_s4kth6u5 at draw step (base: 1, additional: 0)
2026-01-03T10:42:14.801Z [nextStep] No draw triggers, immediately advancing to MAIN1 (similar to UNTAP->UPKEEP)
2026-01-03T10:42:14.801Z [nextStep] Advanced to MAIN1, found 0 precombat main trigger(s)
2026-01-03T10:42:14.801Z [nextStep] Granting priority to active player p_s4kth6u5 (step: MAIN1, stack size: 0)
[canAct] p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 8 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Beast Whisperer(Creature  Elf Druid), Caged Sun(Artifact)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 8 cards - returning FALSE
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
2026-01-03T10:42:14.802Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:14.802Z [nextStep]   Hand (8): Galadhrim Brigade, Beast Whisperer, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:14.802Z [nextStep]   canAct: true, canRespond: true
2026-01-03T10:42:14.802Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 8 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Beast Whisperer(Creature  Elf Druid), Caged Sun(Artifact)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 8 cards - returning FALSE
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=true, stack.length=0, step=MAIN1
[priority] autoPassLoop - stopping at p_s4kth6u5: active player can act
2026-01-03T10:42:14.802Z [nextStep] Auto-pass stopped, player p_s4kth6u5 has priority
[AI] Advanced to next step for game game_mjy5t7lo
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 8, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 2 }
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 8 cards in hand
[getPlayableCardIds] Card Galadhrim Brigade (card_d1ac1534-ce78-467d-abf4-67a2e11cfac5_2ff04c4006303da5) is playable
[getPlayableCardIds] Card Beast Whisperer (card_daf4bcd2-3ae4-4803-9ea1-3bcc3de5ca59_44c59ad1e69118ab) is playable
[getPlayableCardIds] Card Caged Sun not playable - cannot pay cost {6} (after reduction: {"generic":6,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Virtue of Strength // Garenbrig Growth not playable - cannot pay cost {5}{G}{G} // {G} (after reduction: {"generic":5,"colors":{"W":0,"U":0,"B":0,"R":0,"G":3,"C":0},"hasX":false})
[getPlayableCardIds] Card Heroic Intervention (card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0) is playable
[getPlayableCardIds] Card Summoner's Grimoire (card_d9fda3fc-569d-49f8-a2ed-e0b1d6668426_4540b3a995159642) is playable
[getPlayableCardIds] Card Saryth, the Viper's Fang (card_8050afb7-3c16-4456-aa34-4cc999fac7f5_ba76a8e3d98745cb) is playable
[getPlayableCardIds] Card Tamiyo's Safekeeping (card_fd4b7ee2-de65-4288-872d-486065a4f226_ff63ce89cf2b59da) is playable
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd) is playable with cost {2}{G}
[getPlayableCardIds] Returning 7 playable card(s): [
  'card_d1ac1534-ce78-467d-abf4-67a2e11cfac5_2ff04c4006303da5',
  'card_daf4bcd2-3ae4-4803-9ea1-3bcc3de5ca59_44c59ad1e69118ab',
  'card_e32c67d1-187f-40df-b3b3-6036f5c92834_6751c583560251d0',
  'card_d9fda3fc-569d-49f8-a2ed-e0b1d6668426_4540b3a995159642',
  'card_8050afb7-3c16-4456-aa34-4cc999fac7f5_ba76a8e3d98745cb',
  'card_fd4b7ee2-de65-4288-872d-486065a4f226_ff63ce89cf2b59da',
  'card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 8 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Beast Whisperer(Creature  Elf Druid), Caged Sun(Artifact)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 8 cards - returning FALSE
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 8, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 8, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking the shire: { hasKarametra: false, hasAcolyte: false, fullCardName: 'the shire' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.806Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934806_1bfoy) ==========
2026-01-03T10:42:14.806Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:14.806Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436934806_1bfoy)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 3 tappable lands, will tap 0, keep 3 untapped for flexibility
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 5,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 3, colorless: 2 }
}
[AI] findCastableSpells: Found 6 castable spell(s): [
  'Galadhrim Brigade (CMC 3, priority 87)',
  'Beast Whisperer (CMC 4, priority 106)',
  'Heroic Intervention (CMC 2, priority 58)',
  "Summoner's Grimoire (CMC 4, priority 76)",
  "Saryth, the Viper's Fang (CMC 4, priority 86)",
  "Tamiyo's Safekeeping (CMC 1, priority 84)"
]
[AI] Casting spell to avoid discard: Beast Whisperer (hand: 8/7)
[AI] Casting spell: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  cardName: 'Beast Whisperer',
  cost: {
    colors: { W: 0, U: 0, B: 0, R: 0, G: 2, C: 0 },
    generic: 2,
    hasX: false,
    hybrid: []
  }
}
[AI] Spell added to stack: Beast Whisperer with 0 target(s)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 1, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping (card_fd4b7ee2-de65-4288-872d-486065a4f226_ff63ce89cf2b59da) is playable
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_fd4b7ee2-de65-4288-872d-486065a4f226_ff63ce89cf2b59da' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=true
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.898Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934898_d1bgz) ==========
2026-01-03T10:42:14.898Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:14.898Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436934898_d1bgz)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: false,
  priority: 'p_s4kth6u5',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:14.984Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:14.987Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436934987_qdf8l) ==========
2026-01-03T10:42:14.987Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: precombatMain, Step: MAIN1
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:14.987Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:14.987Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:14.987Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436934987_qdf8l)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_q2z8wl2z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_q2z8wl2z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_q2z8wl2z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:15.140Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436934987_qdf8l) ==========
2026-01-03T10:42:15.140Z [executeAutoPass] Phase: precombatMain, Step: MAIN1
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:15.140Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:15.140Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:15.140Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:15.140Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
2026-01-03T10:42:15.140Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:15.140Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436934987_qdf8l)
2026-01-03T10:42:15.140Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436934987_qdf8l)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:15.143Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436935143_okb0v) ==========
2026-01-03T10:42:15.143Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:15.143Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436935143_okb0v)
2026-01-03T10:42:15.143Z [executeAutoPass] Broadcast complete (ID: autopass_1767436934987_qdf8l)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 1,
  stackItems: [ 'Beast Whisperer' ],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=true, stackIsEmpty=false, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=MAIN1, isMainPhase=true, stackIsEmpty=false, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:15.204Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436935204_s9kxl) ==========
2026-01-03T10:42:15.204Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:15.204Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436935204_s9kxl)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_aft3t0og',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_aft3t0og',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: false,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:15.511Z [checkPendingInteractions] Pending: stack_not_empty
[priority] autoPassLoop - blocking due to pending interactions: stack_not_empty
[AI] All players passed priority, resolving top of stack
[resolveTopOfStack] Permanent Beast Whisperer entered battlefield under p_s4kth6u5 (summoning sickness)
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[AI] Stack resolved for game game_mjy5t7lo
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 1, colorless: 0 }
[getPlayableCardIds] Total available mana: 1
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Galadhrim Brigade not playable - cannot pay cost {2}{G} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Caged Sun not playable - cannot pay cost {6} (after reduction: {"generic":6,"colors":{"W":0,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Card Virtue of Strength // Garenbrig Growth not playable - cannot pay cost {5}{G}{G} // {G} (after reduction: {"generic":5,"colors":{"W":0,"U":0,"B":0,"R":0,"G":3,"C":0},"hasX":false})
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Summoner's Grimoire not playable - cannot pay cost {3}{G} (after reduction: {"generic":3,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Saryth, the Viper's Fang not playable - cannot pay cost {2}{G}{G} (after reduction: {"generic":2,"colors":{"W":0,"U":0,"B":0,"R":0,"G":2,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping (card_fd4b7ee2-de65-4288-872d-486065a4f226_ff63ce89cf2b59da) is playable
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=0, max=1
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=true, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'card_fd4b7ee2-de65-4288-872d-486065a4f226_ff63ce89cf2b59da' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_s4kth6u5: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 19 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 7 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Caged Sun(Artifact), Virtue of Strength // Garenbrig Growth(Enchantment // Sorce)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 7 cards - returning FALSE
[canAct] p_s4kth6u5: Can cast instant/flash spell - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: Can cast instant/flash spell
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:15.517Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436935517_oaij0) ==========
2026-01-03T10:42:15.517Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:15.517Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436935517_oaij0)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No land found in hand to play
[AI] Tapping lands for mana retention before combat (Tapping lands for Omnath/green retention)
[AI] Mana retention: 1 tappable lands, will tap 0, keep 1 untapped for flexibility
[AI] Activating ability: Elvish Mystic - Activating Elvish Mystic (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  cardName: 'Elvish Mystic',
  permanentId: 'perm_2fcli068'
}
[AI] Tapped permanent for ability: Elvish Mystic
[AI] Tapped for mana ability (resolves immediately, not on stack): Elvish Mystic
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Galadhrim Brigade: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Caged Sun: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Virtue of Strength // Garenbrig Growth: need 8 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Heroic Intervention: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  `Summoner's Grimoire: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_q2z8wl2z, turnPlayer: p_s4kth6u5
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=MAIN1
[priority] Auto-passing for p_aft3t0og - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T10:42:16.641Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:16.641Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:16.641Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T10:42:16.641Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:16.641Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4591:25)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-03T10:42:16.641Z [clearManaPool] Player p_s4kth6u5: Retained mana for colors: green: 0
2026-01-03T10:42:16.641Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:16.641Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_s4kth6u5: 0
2026-01-03T10:42:16.641Z [nextStep] Granting priority to active player p_s4kth6u5 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_s4kth6u5: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:16.642Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:16.642Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:16.642Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:16.642Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=BEGIN_COMBAT
[priority] Auto-passing for p_aft3t0og - no available actions
2026-01-03T10:42:16.642Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjy5t7lo
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T10:42:16.642Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:16.642Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:16.642Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T10:42:16.642Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:16.642Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at runNextTicks (node:internal/process/task_queues:65:5)
        at process.processTimers (node:internal/timers:520:9)
2026-01-03T10:42:16.642Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-03T10:42:16.642Z [nextStep] Granting priority to active player p_s4kth6u5 (step: DECLARE_ATTACKERS, stack size: 0)
[canAct] p_s4kth6u5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: Has valid attackers - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:16.643Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:16.643Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:16.643Z [nextStep]   canAct: true, canRespond: false
2026-01-03T10:42:16.643Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: Has valid attackers - returning TRUE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=true, stack.length=0, step=DECLARE_ATTACKERS
[priority] autoPassLoop - stopping at p_s4kth6u5: active player can act
2026-01-03T10:42:16.643Z [nextStep] Auto-pass stopped, player p_s4kth6u5 has priority
[AI] Auto-advanced to DECLARE_ATTACKERS
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: Has valid attackers - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking omnath, locus of mana: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'omnath, locus of mana'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:16.646Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436936646_ed37e) ==========
2026-01-03T10:42:16.646Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-03T10:42:16.646Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436936646_ed37e)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_ATTACKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] Declaring attackers: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  attackers: [ { creatureId: 'perm_xt45jj58', defendingPlayerId: 'p_q2z8wl2z' } ]
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: Has valid attackers - returning TRUE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:17.156Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937156_chctc) ==========
2026-01-03T10:42:17.156Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_ATTACKERS
2026-01-03T10:42:17.156Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436937156_chctc)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_q2z8wl2z, turnPlayer: p_s4kth6u5
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=DECLARE_ATTACKERS
[priority] Auto-passing for p_aft3t0og - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T10:42:17.157Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:17.157Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:17.157Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T10:42:17.157Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:17.157Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4591:25)
        at async executeDeclareAttackers (D:\Git\MTGEDH\server\src\socket\ai.ts:4712:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2643:11)
2026-01-03T10:42:17.157Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T10:42:17.157Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
2026-01-03T10:42:17.157Z [nextStep] Granting priority to active player p_s4kth6u5 (step: DECLARE_BLOCKERS, stack size: 0)
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:17.157Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:17.157Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:17.157Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:17.157Z [nextStep] Checking if auto-pass should apply after granting priority
2026-01-03T10:42:17.158Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:17.158Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:17.158Z [nextStep] Auto-pass stopped, player p_s4kth6u5 has priority
[AI] Advanced to next step for game game_mjy5t7lo
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:17.161Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937161_z7ipb) ==========
2026-01-03T10:42:17.161Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:17.161Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436937161_z7ipb)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:17.349Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:17.349Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:17.352Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937352_jbv7e) ==========
2026-01-03T10:42:17.352Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:17.352Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.352Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.352Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436937352_jbv7e)
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:17.462Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937462_z3104) ==========
2026-01-03T10:42:17.462Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:17.462Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436937462_z3104)
2026-01-03T10:42:17.462Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436937462_z3104)
2026-01-03T10:42:17.462Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436937462_z3104)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_q2z8wl2z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:17.517Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436937352_jbv7e) ==========
2026-01-03T10:42:17.518Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:17.518Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.518Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.518Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.518Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:17.518Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:17.518Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.518Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.518Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436937352_jbv7e)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:17.521Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937521_4xaxm) ==========
2026-01-03T10:42:17.521Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:17.521Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436937521_4xaxm)
2026-01-03T10:42:17.521Z [executeAutoPass] Broadcast complete (ID: autopass_1767436937352_jbv7e)
2026-01-03T10:42:17.624Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436937462_z3104) ==========
2026-01-03T10:42:17.625Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:17.625Z [executeAutoPass] Priority changed from p_q2z8wl2z to p_aft3t0og, aborting (ID: autopass_1767436937462_z3104)
[AI] No blockers to declare, declaring empty blockers
[AI] Declaring blockers: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5', blockers: [] }
[AI] Marked blockers as declared for p_s4kth6u5
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:17.768Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937768_4bwm8) ==========
2026-01-03T10:42:17.768Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:17.768Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436937768_4bwm8)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:17.771Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436937771_70t15) ==========
2026-01-03T10:42:17.771Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:17.771Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436937771_70t15)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] AI chooses not to block - declaring empty blockers
[AI] Declaring blockers: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og', blockers: [] }
[AI] Marked blockers as declared for p_aft3t0og
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:18.585Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938585_xbpst) ==========
2026-01-03T10:42:18.585Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.585Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436938585_xbpst)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:18.585Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:18.585Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.588Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938588_t4qsl) ==========
2026-01-03T10:42:18.588Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.588Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938588_t4qsl)
[AI] AI chooses not to block - declaring empty blockers
[AI] Declaring blockers: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og', blockers: [] }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.646Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938646_mtxq5) ==========
2026-01-03T10:42:18.646Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.646Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938646_mtxq5)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.649Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938649_puyrz) ==========
2026-01-03T10:42:18.649Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.649Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938649_puyrz)
[AI] AI chooses not to block - declaring empty blockers
[AI] Declaring blockers: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og', blockers: [] }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.894Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938894_zrybt) ==========
2026-01-03T10:42:18.894Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.894Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938894_zrybt)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.897Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938897_21248) ==========
2026-01-03T10:42:18.897Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.897Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938897_21248)
[AI] AI chooses not to block - declaring empty blockers
[AI] Declaring blockers: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og', blockers: [] }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.900Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938900_h50zm) ==========
2026-01-03T10:42:18.900Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.900Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938900_h50zm)
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.903Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938903_cz042) ==========
2026-01-03T10:42:18.903Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:18.903Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436938903_cz042)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:18.904Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:18.904Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:18.906Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436938906_oid9o) ==========
2026-01-03T10:42:18.906Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:18.906Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:18.906Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:18.906Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436938906_oid9o)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_q2z8wl2z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:19.063Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436938906_oid9o) ==========
2026-01-03T10:42:19.063Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:19.063Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:19.063Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:19.063Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:19.063Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:19.063Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:19.063Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:19.063Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436938906_oid9o)
2026-01-03T10:42:19.063Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436938906_oid9o)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:19.066Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436939066_rwa7m) ==========
2026-01-03T10:42:19.066Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:19.066Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436939066_rwa7m)
2026-01-03T10:42:19.066Z [executeAutoPass] Broadcast complete (ID: autopass_1767436938906_oid9o)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:19.682Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:19.682Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:19.685Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436939685_nxcde) ==========
2026-01-03T10:42:19.685Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:19.685Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436939685_nxcde)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:19.991Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:19.991Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:19.995Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436939995_1rmgh) ==========
2026-01-03T10:42:19.995Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:19.995Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:19.995Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:19.995Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436939995_1rmgh)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:20.146Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436939995_1rmgh) ==========
2026-01-03T10:42:20.146Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:20.146Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:20.146Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:20.146Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:20.146Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:20.146Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:20.146Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:20.147Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436939995_1rmgh)
2026-01-03T10:42:20.147Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436939995_1rmgh)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:20.150Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436940150_zu023) ==========
2026-01-03T10:42:20.150Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:20.150Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436940150_zu023)
2026-01-03T10:42:20.150Z [executeAutoPass] Broadcast complete (ID: autopass_1767436939995_1rmgh)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:20.768Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:20.768Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:20.771Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436940771_j6o59) ==========
2026-01-03T10:42:20.771Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:20.771Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436940771_j6o59)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:21.079Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:21.079Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:21.082Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436941082_888wo) ==========
2026-01-03T10:42:21.082Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:21.082Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.082Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.082Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436941082_888wo)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:21.233Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436941082_888wo) ==========
2026-01-03T10:42:21.233Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:21.234Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.234Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.234Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.234Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:21.234Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:21.234Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.234Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436941082_888wo)
2026-01-03T10:42:21.234Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436941082_888wo)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:21.236Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436941236_67rds) ==========
2026-01-03T10:42:21.236Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:21.236Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436941236_67rds)
2026-01-03T10:42:21.236Z [executeAutoPass] Broadcast complete (ID: autopass_1767436941082_888wo)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:21.852Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:21.852Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:21.856Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436941856_qegkg) ==========
2026-01-03T10:42:21.856Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:21.856Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436941856_qegkg)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:22.160Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:22.160Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:22.163Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436942163_3d0wl) ==========
2026-01-03T10:42:22.163Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:22.163Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.163Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.163Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436942163_3d0wl)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:22.315Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436942163_3d0wl) ==========
2026-01-03T10:42:22.316Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:22.316Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.316Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.316Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.316Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:22.316Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:22.316Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.316Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436942163_3d0wl)
2026-01-03T10:42:22.316Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436942163_3d0wl)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:22.319Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436942319_n4vgf) ==========
2026-01-03T10:42:22.319Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:22.319Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436942319_n4vgf)
2026-01-03T10:42:22.319Z [executeAutoPass] Broadcast complete (ID: autopass_1767436942163_3d0wl)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:22.933Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:22.933Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:22.940Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436942940_ck03o) ==========
2026-01-03T10:42:22.940Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:22.940Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436942940_ck03o)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:23.244Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:23.244Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:23.248Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436943248_2jhw4) ==========
2026-01-03T10:42:23.248Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:23.248Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.248Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.248Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436943248_2jhw4)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:23.399Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436943248_2jhw4) ==========
2026-01-03T10:42:23.399Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:23.400Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.400Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.400Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.400Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:23.400Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:23.400Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.400Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436943248_2jhw4)
2026-01-03T10:42:23.400Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436943248_2jhw4)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:23.403Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436943403_y3mms) ==========
2026-01-03T10:42:23.403Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:23.403Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436943403_y3mms)
2026-01-03T10:42:23.403Z [executeAutoPass] Broadcast complete (ID: autopass_1767436943248_2jhw4)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:24.020Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:24.020Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:24.023Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436944023_ypfxk) ==========
2026-01-03T10:42:24.023Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:24.023Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436944023_ypfxk)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:24.331Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:24.331Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:24.334Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436944334_tpid3) ==========
2026-01-03T10:42:24.334Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:24.334Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.334Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.334Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436944334_tpid3)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:24.484Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436944334_tpid3) ==========
2026-01-03T10:42:24.485Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:24.485Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.485Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.485Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.485Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:24.485Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:24.485Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.485Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436944334_tpid3)
2026-01-03T10:42:24.485Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436944334_tpid3)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:24.488Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436944488_p5bv9) ==========
2026-01-03T10:42:24.488Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:24.488Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436944488_p5bv9)
2026-01-03T10:42:24.488Z [executeAutoPass] Broadcast complete (ID: autopass_1767436944334_tpid3)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:25.107Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:25.107Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:25.109Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436945109_432wo) ==========
2026-01-03T10:42:25.109Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:25.109Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436945109_432wo)
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
2026-01-03T10:42:25.417Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:25.417Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 1 playable card(s): [ 'perm_dqmvg36m' ]
[normalizeViewForEmit] getPlayableCardIds returned 1 cards
[normalizeViewForEmit] Set view.playableCards with 1 cards
[canAct] p_q2z8wl2z: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_q2z8wl2z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_q2z8wl2z: No actions available - returning FALSE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:25.420Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436945420_bshpa) ==========
2026-01-03T10:42:25.420Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:25.420Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=false canAct=false (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.420Z [checkAndTriggerAutoPass] p_q2z8wl2z CANNOT ACT - proceeding with auto-pass (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.420Z [checkAndTriggerAutoPass] Scheduling auto-pass for p_q2z8wl2z with 150ms delay (ID: autopass_1767436945420_bshpa)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: false
}
2026-01-03T10:42:25.570Z [executeAutoPass] ========== EXECUTING for p_q2z8wl2z (ID: autopass_1767436945420_bshpa) ==========
2026-01-03T10:42:25.571Z [executeAutoPass] Phase: combat, Step: DECLARE_BLOCKERS
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
2026-01-03T10:42:25.571Z [executeAutoPass] Re-check: p_q2z8wl2z canAct=false (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.571Z [executeAutoPass] Proceeding with auto-pass for p_q2z8wl2z (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.571Z [executeAutoPass] Set _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.571Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:25.571Z [checkPendingInteractions] Pending: blocker_declaration
[priority] autoPassLoop - blocking due to pending interactions: blocker_declaration
2026-01-03T10:42:25.571Z [executeAutoPass] passPriority result: changed=true, advanceStep=false, resolvedNow=false (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.571Z [executeAutoPass] Cleared _autoPassInProgress flag for p_q2z8wl2z (ID: autopass_1767436945420_bshpa)
2026-01-03T10:42:25.571Z [executeAutoPass] Broadcasting state after auto-pass (ID: autopass_1767436945420_bshpa)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_aft3t0og, viewerId=p_aft3t0og, match=true
[getPlayableCardIds] Player p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Flawless Maneuver not playable - cannot pay cost {2}{W} (after reduction: {"generic":2,"colors":{"W":1,"U":0,"B":0,"R":0,"G":0,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=false
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Iroas, God of Victory not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_aft3t0og: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=false
[canAct] p_aft3t0og: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_aft3t0og: No actions available - returning FALSE
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
2026-01-03T10:42:25.574Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436945574_cq3k8) ==========
2026-01-03T10:42:25.574Z [checkAndTriggerAutoPass] Priority: p_aft3t0og, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:25.574Z [checkAndTriggerAutoPass] p_aft3t0og is AI, handled separately (ID: autopass_1767436945574_cq3k8)
2026-01-03T10:42:25.574Z [executeAutoPass] Broadcast complete (ID: autopass_1767436945420_bshpa)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'COMBAT',
  step: 'DECLARE_BLOCKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_aft3t0og',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_aft3t0og',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, but it's DECLARE_BLOCKERS step - AI needs to decide on blockers
[AI] Blockers already declared for p_aft3t0og, skipping
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_aft3t0og' }
2026-01-03T10:42:26.190Z [checkPendingInteractions] Waiting for p_q2z8wl2z to declare blockers
2026-01-03T10:42:26.190Z [checkPendingInteractions] Pending: blocker_declaration
[AI] Cannot advance step - players have pending interactions: blocker_declaration
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:26.193Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436946193_cqaq6) ==========
2026-01-03T10:42:26.193Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:26.193Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436946193_cqaq6)
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_s4kth6u5, match=true
[getPlayableCardIds] Player p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] Total available mana: 0
[getPlayableCardIds] Checking 7 cards in hand
[getPlayableCardIds] Card Heroic Intervention not playable - cannot pay cost {1}{G} (after reduction: {"generic":1,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Card Tamiyo's Safekeeping not playable - cannot pay cost {G} (after reduction: {"generic":0,"colors":{"W":0,"U":0,"B":0,"R":0,"G":1,"C":0},"hasX":false})
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Omnath, Locus of Mana not playable - canCastNow=false, canPay=false
[getPlayableCardIds] Returning 0 playable card(s): []
[normalizeViewForEmit] getPlayableCardIds returned 0 cards
[normalizeViewForEmit] Not setting view.playableCards - no playable cards found
[canAct] p_s4kth6u5: step=DECLARE_BLOCKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=false, canRespond=false
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:26.468Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436946468_qzzyy) ==========
2026-01-03T10:42:26.468Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: combat, Step: DECLARE_BLOCKERS
2026-01-03T10:42:26.468Z [checkAndTriggerAutoPass] p_s4kth6u5 is AI, handled separately (ID: autopass_1767436946468_qzzyy)
[combat] Player p_q2z8wl2z declared 1 blockers in game game_mjy5t7lo
[AI] AI player checking priority: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'combat',
  step: 'declare_blockers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_s4kth6u5',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Blockers already declared (in blockersDeclaredBy), passing priority for responses
[AI] Passing priority: { gameId: 'game_mjy5t7lo', playerId: 'p_s4kth6u5' }
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_q2z8wl2z, turnPlayer: p_s4kth6u5
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=DECLARE_BLOCKERS
[priority] Auto-passing for p_aft3t0og - no available actions
[AI] All players passed priority with empty stack, advancing step
2026-01-03T10:42:26.501Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:26.501Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:26.501Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T10:42:26.501Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:26.501Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4591:25)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2661:11)
2026-01-03T10:42:26.501Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T10:42:26.501Z [COMBAT_STEP] Calling dealCombatDamage...
2026-01-03T10:42:26.501Z [COMBAT_DAMAGE] ========== ENTERING dealCombatDamage (firstStrike=undefined) ==========
2026-01-03T10:42:26.501Z [COMBAT_DAMAGE] Found 1 attackers
2026-01-03T10:42:26.501Z [COMBAT_DAMAGE] Attacker: Omnath, Locus of Mana, blocked by 1 creatures: [perm_mcr4v6rp]
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Processing attacker: Omnath, Locus of Mana
[KEYWORDS] ========== Parsing keywords for: Omnath, Locus of Mana ==========
[KEYWORDS] Raw keywords: type=undefined, isArray=false
[KEYWORDS] Raw value: undefined
[KEYWORDS] Normalized keywords array: []
[KEYWORDS] Omnath, Locus of Mana ACTIVE ABILITIES: [none]
[KEYWORDS] First Strike: false, Double Strike: false
[KEYWORDS] ========== End parsing for: Omnath, Locus of Mana ==========
2026-01-03T10:42:26.502Z [dealCombatDamage] Omnath, Locus of Mana dealt 1 damage to blocker Valiant Veteran
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Processing 1 blocker(s) dealing damage to attacker Omnath, Locus of Mana
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Processing blocker: perm_mcr4v6rp
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Found blocker: Valiant Veteran, parsing keywords...
[KEYWORDS] ========== Parsing keywords for: Valiant Veteran ==========
[KEYWORDS] Raw keywords: type=undefined, isArray=false
[KEYWORDS] Raw value: undefined
[KEYWORDS] Normalized keywords array: []
[KEYWORDS] Valiant Veteran ACTIVE ABILITIES: [none]
[KEYWORDS] First Strike: false, Double Strike: false
[KEYWORDS] ========== End parsing for: Valiant Veteran ==========
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Blocker keywords parsed successfully
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Blocker Valiant Veteran has power 2
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Blocker Valiant Veteran dealt 2 damage to attacker Omnath, Locus of Mana
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Attacker Omnath, Locus of Mana: toughness=1, totalDamage=2, isDead=true
2026-01-03T10:42:26.502Z [COMBAT_DAMAGE] Attacker Omnath, Locus of Mana received lethal damage
2026-01-03T10:42:26.502Z [dealCombatDamage] Combat damage complete. Damage to players: {}, Life gained: {}, Creatures destroyed: 1
2026-01-03T10:42:26.503Z [COMBAT_STEP] dealCombatDamage completed successfully
2026-01-03T10:42:26.503Z [COMBAT_STEP] Result: damageToPlayers={}, creaturesDestroyed=1
2026-01-03T10:42:26.503Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T10:42:26.503Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T10:42:26.503Z [nextStep] Granting priority to active player p_s4kth6u5 (step: DAMAGE, stack size: 0)
[canAct] p_s4kth6u5: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:26.504Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:26.504Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:26.504Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:26.504Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=DAMAGE, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=DAMAGE
[priority] Auto-passing for p_aft3t0og - no available actions
2026-01-03T10:42:26.504Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Advanced to next step for game game_mjy5t7lo
[AI] Auto-pass detected after step advancement (iteration 1), advancing again
2026-01-03T10:42:26.504Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:26.505Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:26.505Z [nextStep] Current: combat/DAMAGE
2026-01-03T10:42:26.505Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:26.505Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2661:11)
2026-01-03T10:42:26.505Z [nextStep] Advanced to phase=combat, step=END_COMBAT
2026-01-03T10:42:26.505Z [nextStep] Granting priority to active player p_s4kth6u5 (step: END_COMBAT, stack size: 0)
[canAct] p_s4kth6u5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:26.505Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:26.505Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:26.505Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:26.505Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=END_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=END_COMBAT
[priority] Auto-passing for p_aft3t0og - no available actions
2026-01-03T10:42:26.505Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END_COMBAT
[AI] Auto-pass detected after step advancement (iteration 2), advancing again
2026-01-03T10:42:26.505Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:26.505Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:26.505Z [nextStep] Current: combat/END_COMBAT
2026-01-03T10:42:26.505Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:26.505Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2661:11)
2026-01-03T10:42:26.505Z [clearCombatState] Cleared combat state from 1 permanents
2026-01-03T10:42:26.505Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:26.505Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T10:42:26.505Z [nextStep] Granting priority to active player p_s4kth6u5 (step: MAIN2, stack size: 0)
[canAct] p_s4kth6u5: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 7 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Caged Sun(Artifact), Virtue of Strength // Garenbrig Growth(Enchantment // Sorce)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 7 cards - returning FALSE
[canAct] p_s4kth6u5: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 7 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Caged Sun(Artifact), Virtue of Strength // Garenbrig Growth(Enchantment // Sorce)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 7 cards - returning FALSE
[canAct] p_s4kth6u5: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:26.506Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:26.506Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:26.506Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:26.506Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=MAIN2, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 7 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Caged Sun(Artifact), Virtue of Strength // Garenbrig Growth(Enchantment // Sorce)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 7 cards - returning FALSE
[canAct] p_s4kth6u5: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[canPlayLand] p_s4kth6u5: Checking hand with 7 cards
[canPlayLand] p_s4kth6u5: Sample cards in hand: [Galadhrim Brigade(Creature  Elf Soldi), Caged Sun(Artifact), Virtue of Strength // Garenbrig Growth(Enchantment // Sorce)]
[canPlayLand] p_s4kth6u5: No lands found in hand of 7 cards - returning FALSE
[canAct] p_s4kth6u5: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=MAIN2
[priority] Auto-passing for p_aft3t0og - no available actions
2026-01-03T10:42:26.507Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to MAIN2
[AI] Auto-pass detected after step advancement (iteration 3), advancing again
2026-01-03T10:42:26.507Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:26.507Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:26.507Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T10:42:26.507Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:26.507Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2661:11)
2026-01-03T10:42:26.507Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:26.507Z [nextStep] Advanced to phase=ending, step=END
2026-01-03T10:42:26.507Z [nextStep] Granting priority to active player p_s4kth6u5 (step: END, stack size: 0)
[canAct] p_s4kth6u5: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[canRespond] p_s4kth6u5: checking instant-speed responses only
[canRespond] p_s4kth6u5: No instant-speed responses available (returning false)
2026-01-03T10:42:26.507Z [nextStep] DEBUG - Turn Player p_s4kth6u5:
2026-01-03T10:42:26.507Z [nextStep]   Hand (7): Galadhrim Brigade, Caged Sun, Virtue of Strength // Garenbrig Growth, Heroic Intervention, Summoner's Grimoire, Saryth, the Viper's Fang, Tamiyo's Safekeeping
2026-01-03T10:42:26.507Z [nextStep]   canAct: false, canRespond: false
2026-01-03T10:42:26.507Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[canAct] p_s4kth6u5: step=END, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_s4kth6u5: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_s4kth6u5: No actions available - returning FALSE
[priority] autoPassLoop - checking p_s4kth6u5 (ACTIVE): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_s4kth6u5 - no available actions
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_q2z8wl2z (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_q2z8wl2z - no available actions
[canRespond] p_aft3t0og: checking instant-speed responses only
[canRespond] p_aft3t0og: No instant-speed responses available (returning false)
[priority] autoPassLoop - checking p_aft3t0og (non-active): canAct=false, stack.length=0, step=END
[priority] Auto-passing for p_aft3t0og - no available actions
2026-01-03T10:42:26.508Z [nextStep] All players auto-passed after granting priority - caller should advance step
[AI] Auto-advanced to END
[AI] Auto-pass detected after step advancement (iteration 4), advancing again
2026-01-03T10:42:26.508Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:26.508Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:26.508Z [nextStep] Current: ending/END
2026-01-03T10:42:26.508Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:26.508Z [nextStep] Call stack:
        at Object.nextStep (D:\Git\MTGEDH\server\src\state\index.ts:90:21)
        at executePassPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:4616:29)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async handleAIPriority (D:\Git\MTGEDH\server\src\socket\ai.ts:2661:11)
2026-01-03T10:42:26.508Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T10:42:26.508Z [nextStep] Step CLEANUP does not grant priority (Rule 502.1/514.1)
2026-01-03T10:42:26.508Z [clearDamageFromPermanents] Cleared damage from 1 permanent(s) (Rule 514.2/703.4p)
2026-01-03T10:42:26.508Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T10:42:26.508Z [nextTurn] Reset planeswalker loyalty activation counters for player p_q2z8wl2z
2026-01-03T10:42:26.508Z [untapPermanentsForPlayer] Player p_q2z8wl2z: untapped 6, stun counters removed 0, skipped (doesn't untap) 0
2026-01-03T10:42:26.508Z [nextTurn] Cleared autoPassForTurn flags for new turn
2026-01-03T10:42:26.508Z [nextTurn] Advanced to player p_q2z8wl2z, phase=beginning, step=UPKEEP
2026-01-03T10:42:26.508Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_s4kth6u5, p_q2z8wl2z, p_aft3t0og, autoPassEnabled: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, currentPriority: p_q2z8wl2z, turnPlayer: p_q2z8wl2z
[canAct] p_q2z8wl2z: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_q2z8wl2z: Can activate ability - returning TRUE
[priority] autoPassLoop - checking p_q2z8wl2z (ACTIVE): canAct=true, stack.length=0, step=UPKEEP
[priority] autoPassLoop - stopping at p_q2z8wl2z: active player can act
2026-01-03T10:42:26.508Z [nextTurn] Auto-pass stopped at upkeep, player p_q2z8wl2z has priority
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 18 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Auto-advanced to UPKEEP
[AI] Auto-pass loop stopping - human player p_q2z8wl2z has priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_s4kth6u5',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking abzan falconer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'abzan falconer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_s4kth6u5, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking abzan falconer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'abzan falconer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= {
  white: 3,
  blue: 1,
  black: 1,
  red: 1,
  green: 1,
  colorless: 2,
  anyColor: 1
}
[getPlayableCardIds] Total available mana: 5
[getPlayableCardIds] Checking 4 cards in hand
[getPlayableCardIds] Not checking lands: isMainPhase=false, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive not playable - canCastNow=false, canPay=true
[getPlayableCardIds] Returning 2 playable card(s): [ 'perm_dqmvg36m', 'perm_7set1vl7' ]
[normalizeViewForEmit] getPlayableCardIds returned 2 cards
[normalizeViewForEmit] Set view.playableCards with 2 cards
[canAct] p_q2z8wl2z: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_q2z8wl2z: Can activate ability - returning TRUE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[canRespond] p_q2z8wl2z: Can activate ability
[normalizeViewForEmit] Set canAct=true, canRespond=true
[VIEW_FOR_DEBUG] {
  viewer: 'p_aft3t0og',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_s4kth6u5: { handCount: 7, firstKnown: [Array] },
    p_q2z8wl2z: { handCount: 4, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking abzan falconer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'abzan falconer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_aft3t0og, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:26.513Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436946513_hx2vn) ==========
2026-01-03T10:42:26.513Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: beginning, Step: UPKEEP
[canAct] p_q2z8wl2z: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_q2z8wl2z: Can activate ability - returning TRUE
2026-01-03T10:42:26.513Z [checkAndTriggerAutoPass] canAct check: p_q2z8wl2z isActive=true canAct=true (ID: autopass_1767436946513_hx2vn)
2026-01-03T10:42:26.513Z [checkAndTriggerAutoPass] p_q2z8wl2z CAN ACT - returning early, NO auto-pass (ID: autopass_1767436946513_hx2vn)
[AI] handleAIGameFlow: {
  gameId: 'game_mjy5t7lo',
  playerId: 'p_s4kth6u5',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[Automation] Auto-pass for turn disabled for p_q2z8wl2z in game game_mjy5t7lo
[Automation] Auto-pass for turn state in game game_mjy5t7lo: {}
Restarting 'src/index.ts'
[Server] Initializing database...
[Server] Database initialized successfully.
[SCRYFALL] No planeswalker cache clearing needed (0 planeswalkers in cache, all have loyalty field)
[Socket] GameManager configured with IO server for rules engine integration
[Resolution] AI handler initialized
[Server] Running at http://127.0.0.1:3001
[CLI] Detected Windows PowerShell. If CLI commands are not working correctly,
[CLI] try using cmd.exe, Windows Terminal, or Git Bash instead.


  MTGEDH Server CLI - Type "help" for available commands


mtgedh> [Resolution] Priority management handler initialized
Socket connected: JBqbtVbQu52X2J_0AAAB
[GameManager] Ensured game game_mjy5t7lo using full rules engine (createInitialGameState)
[importDeckResolved] Importing 100 cards for player p_s4kth6u5
[importDeckResolved] Mapped 100 cards. First card: Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd)
[importDeckResolved] Library set for player p_s4kth6u5. Final library size: 100
[importDeckResolved] Importing 100 cards for player p_aft3t0og
[importDeckResolved] Mapped 100 cards. First card: Iroas, God of Victory (card_b4036bb7-835d-4690-aca1-1ab566776e9a_cc4243099f61f92d)
[importDeckResolved] Library set for player p_aft3t0og. Final library size: 100
[setCommander] Initialized inCommandZone for p_s4kth6u5: [ 'card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd' ]
[setCommander] Found commander "Omnath, Locus of Mana" (card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Omnath, Locus of Mana (card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_s4kth6u5].libraryCount to 99
[setCommander] Initialized inCommandZone for p_aft3t0og: [ 'card_b4036bb7-835d-4690-aca1-1ab566776e9a_cc4243099f61f92d' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_b4036bb7-835d-4690-aca1-1ab566776e9a_cc4243099f61f92d' ]
[setCommander] Found commander "Iroas, God of Victory" (card_b4036bb7-835d-4690-aca1-1ab566776e9a_cc4243099f61f92d) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Iroas, God of Victory (card_b4036bb7-835d-4690-aca1-1ab566776e9a_cc4243099f61f92d)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_aft3t0og].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_q2z8wl2z
[importDeckResolved] Mapped 100 cards. First card: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy5teao_1_54d06c49)
[importDeckResolved] Library set for player p_q2z8wl2z. Final library size: 100
[importDeckResolved] Importing 100 cards for player p_q2z8wl2z
[importDeckResolved] Mapped 100 cards. First card: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00)
[importDeckResolved] Library set for player p_q2z8wl2z. Final library size: 100
[setCommander] Initialized inCommandZone for p_q2z8wl2z: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00' ]
[setCommander] Found commander "Myrel, Shield of Argive" (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_q2z8wl2z].libraryCount to 99
2026-01-03T10:42:27.306Z [nextTurn] Reset planeswalker loyalty activation counters for player p_s4kth6u5
2026-01-03T10:42:27.306Z [nextTurn] Advanced to player p_s4kth6u5, phase=beginning, step=UPKEEP
2026-01-03T10:42:27.306Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, autoPassEnabled: , currentPriority: p_s4kth6u5, turnPlayer: p_s4kth6u5
[priority] autoPassLoop - stopping at p_s4kth6u5: auto-pass not enabled
2026-01-03T10:42:27.307Z [nextTurn] Auto-pass stopped at upkeep, player p_s4kth6u5 has priority
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-03T10:42:27.325Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.326Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.326Z [nextStep] Current: beginning/UPKEEP
2026-01-03T10:42:27.326Z [nextStep] Priority: p_aft3t0og, Turn: p_s4kth6u5
2026-01-03T10:42:27.326Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.326Z [nextStep] Advanced to phase=beginning, step=DRAW
playLand: card card_c44f81ca-f72f-445c-8901-3a894a2a47f9_157c4975d72b811b not found in hand for player p_aft3t0og (may be replay)
2026-01-03T10:42:27.326Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.326Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.326Z [nextStep] Current: beginning/DRAW
2026-01-03T10:42:27.326Z [nextStep] Priority: p_q2z8wl2z, Turn: p_s4kth6u5
2026-01-03T10:42:27.326Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.327Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.327Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
playLand: card card_d5178a1b-588b-4414-a370-ac6eed51187a_cd2668a92b532661 not found in hand for player p_s4kth6u5 (may be replay)
2026-01-03T10:42:27.327Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.327Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.327Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T10:42:27.327Z [nextStep] Priority: p_aft3t0og, Turn: p_s4kth6u5
2026-01-03T10:42:27.327Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.327Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.327Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Valiant Veteran entered battlefield under p_q2z8wl2z (summoning sickness)
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-03T10:42:27.337Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.337Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.337Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T10:42:27.337Z [nextStep] Priority: p_aft3t0og, Turn: p_s4kth6u5
2026-01-03T10:42:27.337Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.337Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
playLand: card card_c44f81ca-f72f-445c-8901-3a894a2a47f9_ffa48992918466ae not found in hand for player p_aft3t0og (may be replay)
2026-01-03T10:42:27.337Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.338Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.338Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T10:42:27.338Z [nextStep] Priority: p_q2z8wl2z, Turn: p_s4kth6u5
2026-01-03T10:42:27.338Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.338Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T10:42:27.338Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
[resolveTopOfStack] Permanent Sol Ring entered battlefield under p_s4kth6u5
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-03T10:42:27.340Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.340Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.340Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T10:42:27.340Z [nextStep] Priority: p_q2z8wl2z, Turn: p_s4kth6u5
2026-01-03T10:42:27.340Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.340Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T10:42:27.340Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T10:42:27.340Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T10:42:27.340Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.340Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.340Z [nextStep] Current: combat/DAMAGE
2026-01-03T10:42:27.340Z [nextStep] Priority: p_s4kth6u5, Turn: p_s4kth6u5
2026-01-03T10:42:27.340Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.340Z [nextStep] Advanced to phase=combat, step=END_COMBAT
playLand: card card_4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_9cf4bbf31a177788 not found in hand for player p_aft3t0og (may be replay)
2026-01-03T10:42:27.343Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.343Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.343Z [nextStep] Current: combat/END_COMBAT
2026-01-03T10:42:27.343Z [nextStep] Priority: p_aft3t0og, Turn: p_s4kth6u5
2026-01-03T10:42:27.343Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.343Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.343Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T10:42:27.343Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.343Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.343Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T10:42:27.343Z [nextStep] Priority: p_q2z8wl2z, Turn: p_s4kth6u5
2026-01-03T10:42:27.343Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.343Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.343Z [nextStep] Advanced to phase=ending, step=END
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-03T10:42:27.345Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.345Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.345Z [nextStep] Current: ending/END
2026-01-03T10:42:27.345Z [nextStep] Priority: p_aft3t0og, Turn: p_s4kth6u5
2026-01-03T10:42:27.345Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.345Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T10:42:27.345Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T10:42:27.345Z [nextTurn] Reset planeswalker loyalty activation counters for player p_aft3t0og
2026-01-03T10:42:27.346Z [nextTurn] Advanced to player p_aft3t0og, phase=beginning, step=UPKEEP
2026-01-03T10:42:27.346Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, autoPassEnabled: , currentPriority: p_aft3t0og, turnPlayer: p_aft3t0og
[priority] autoPassLoop - stopping at p_aft3t0og: auto-pass not enabled
2026-01-03T10:42:27.346Z [nextTurn] Auto-pass stopped at upkeep, player p_aft3t0og has priority
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 6 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Preeminent Captain entered battlefield under p_q2z8wl2z (summoning sickness)
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 7 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 7 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 7 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-03T10:42:27.348Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.348Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.348Z [nextStep] Current: beginning/UPKEEP
2026-01-03T10:42:27.348Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:27.348Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.348Z [nextStep] Advanced to phase=beginning, step=DRAW
playLand: card card_4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_0d550371bdc11833 not found in hand for player p_aft3t0og (may be replay)
2026-01-03T10:42:27.349Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.349Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.349Z [nextStep] Current: beginning/DRAW
2026-01-03T10:42:27.349Z [nextStep] Priority: p_q2z8wl2z, Turn: p_aft3t0og
2026-01-03T10:42:27.349Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.349Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.349Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-01-03T10:42:27.349Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.349Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.349Z [nextStep] Current: precombatMain/MAIN1
2026-01-03T10:42:27.349Z [nextStep] Priority: p_q2z8wl2z, Turn: p_aft3t0og
2026-01-03T10:42:27.349Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.349Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.349Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[applyEvent] Replaying castCommander event: { playerId: 'p_s4kth6u5', commanderId: undefined }
[applyEvent] CRITICAL: castCommander event has undefined commanderId! {
  event: {
    type: 'castCommander',
    playerId: 'p_s4kth6u5',
    cardId: 'card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd',
    cardName: 'Omnath, Locus of Mana',
    card: {
      id: 'card_acf0cab3-da50-4561-8797-cd179af39216_6b51ef4308b7edcd',
      name: 'Omnath, Locus of Mana',
      type_line: 'Legendary Creature  Elemental',
      oracle_text: "You don't lose unspent green mana as steps and phases end.\n" +
        'Omnath gets +1/+1 for each unspent green mana you have.',
      image_uris: [Object],
      mana_cost: '{2}{G}',
      power: '1',
      toughness: '1'
    },
    isAI: true
  },
  playerId: 'p_s4kth6u5'
}
[applyEvent] Skipping castCommander event with undefined commanderId to prevent infinite loop
[resolveTopOfStack] Permanent Elvish Mystic entered battlefield under p_s4kth6u5 (summoning sickness)
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 8 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 8 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 8 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-03T10:42:27.351Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.351Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.351Z [nextStep] Current: combat/BEGIN_COMBAT
2026-01-03T10:42:27.351Z [nextStep] Priority: p_q2z8wl2z, Turn: p_aft3t0og
2026-01-03T10:42:27.351Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.351Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-01-03T10:42:27.351Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.351Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.351Z [nextStep] Current: combat/DECLARE_ATTACKERS
2026-01-03T10:42:27.351Z [nextStep] Priority: p_s4kth6u5, Turn: p_aft3t0og
2026-01-03T10:42:27.351Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.351Z [nextStep] Entering DECLARE_BLOCKERS, initialized blockersDeclaredBy array
2026-01-03T10:42:27.351Z [nextStep] Advanced to phase=combat, step=DECLARE_BLOCKERS
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 9 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 9 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 9 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent White Lotus Tile entered battlefield under p_q2z8wl2z
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 10 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 10 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 10 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-03T10:42:27.354Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.354Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.354Z [nextStep] Current: combat/DECLARE_BLOCKERS
2026-01-03T10:42:27.354Z [nextStep] Priority: p_q2z8wl2z, Turn: p_aft3t0og
2026-01-03T10:42:27.354Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.354Z [COMBAT_STEP] ========== TRANSITIONING FROM DECLARE_BLOCKERS TO DAMAGE (no first strike) ==========
2026-01-03T10:42:27.354Z [COMBAT_STEP] ========== END DAMAGE STEP PROCESSING ==========
2026-01-03T10:42:27.354Z [nextStep] Advanced to phase=combat, step=DAMAGE
2026-01-03T10:42:27.354Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.354Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.354Z [nextStep] Current: combat/DAMAGE
2026-01-03T10:42:27.354Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:27.354Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.354Z [nextStep] Advanced to phase=combat, step=END_COMBAT
playLand: card card_4069fb4a-8ee1-41ef-ab93-39a8cc58e0e5_93479de9b8dd3e86 not found in hand for player p_aft3t0og (may be replay)
2026-01-03T10:42:27.354Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.354Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.354Z [nextStep] Current: combat/END_COMBAT
2026-01-03T10:42:27.354Z [nextStep] Priority: p_q2z8wl2z, Turn: p_aft3t0og
2026-01-03T10:42:27.354Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.354Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.354Z [nextStep] Advanced to phase=postcombatMain, step=MAIN2
2026-01-03T10:42:27.354Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.354Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.354Z [nextStep] Current: postcombatMain/MAIN2
2026-01-03T10:42:27.354Z [nextStep] Priority: p_s4kth6u5, Turn: p_aft3t0og
2026-01-03T10:42:27.354Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.355Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.355Z [nextStep] Advanced to phase=ending, step=END
[resolveTopOfStack] Permanent Beast Whisperer entered battlefield under p_s4kth6u5 (summoning sickness)
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
2026-01-03T10:42:27.356Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.356Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.356Z [nextStep] Current: ending/END
2026-01-03T10:42:27.356Z [nextStep] Priority: p_aft3t0og, Turn: p_aft3t0og
2026-01-03T10:42:27.356Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.356Z [nextStep] Advanced to phase=ending, step=CLEANUP
2026-01-03T10:42:27.356Z [nextStep] Cleanup complete, advancing to next turn
2026-01-03T10:42:27.356Z [clearSummoningSicknessForPlayer] Cleared summoning sickness from 2 permanent(s) for p_q2z8wl2z
2026-01-03T10:42:27.356Z [nextTurn] Reset planeswalker loyalty activation counters for player p_q2z8wl2z
2026-01-03T10:42:27.357Z [nextTurn] Advanced to player p_q2z8wl2z, phase=beginning, step=UPKEEP
2026-01-03T10:42:27.357Z [nextTurn] Checking if auto-pass should apply at upkeep
[priority] autoPassLoop starting - active players: p_q2z8wl2z, p_s4kth6u5, p_aft3t0og, autoPassEnabled: , currentPriority: p_q2z8wl2z, turnPlayer: p_q2z8wl2z
[priority] autoPassLoop - stopping at p_q2z8wl2z: auto-pass not enabled
2026-01-03T10:42:27.357Z [nextTurn] Auto-pass stopped at upkeep, player p_q2z8wl2z has priority
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-01-03T10:42:27.358Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.358Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.358Z [nextStep] Current: beginning/UPKEEP
2026-01-03T10:42:27.358Z [nextStep] Priority: p_s4kth6u5, Turn: p_q2z8wl2z
2026-01-03T10:42:27.358Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.358Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-01-03T10:42:27.358Z [nextStep] ========== CALLED ==========
2026-01-03T10:42:27.358Z [nextStep] Game: game_mjy5t7lo
2026-01-03T10:42:27.358Z [nextStep] Current: beginning/DRAW
2026-01-03T10:42:27.358Z [nextStep] Priority: p_q2z8wl2z, Turn: p_q2z8wl2z
2026-01-03T10:42:27.358Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:757:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:2006:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:563:18)
2026-01-03T10:42:27.358Z [clearManaPool] Processed mana pools for all players
2026-01-03T10:42:27.358Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mjy5t7lo', count: 218 }
[GameManager] RulesBridge initialized for game game_mjy5t7lo
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 6, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 6, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 7 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_s4kth6u5, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:30.260Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436950260_9ls1r) ==========
2026-01-03T10:42:30.260Z [checkAndTriggerAutoPass] Priority: p_s4kth6u5, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:30.260Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_s4kth6u5, returning (ID: autopass_1767436950260_9ls1r)
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 11 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[playLand] Player p_q2z8wl2z has played 0 lands this turn, max is 1
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_s4kth6u5, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_s4kth6u5: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_aft3t0og, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_aft3t0og: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[priority] Entering resolution mode - priority will return to p_q2z8wl2z after resolution completes
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 5, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:53.322Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436973322_hjoyp) ==========
2026-01-03T10:42:53.322Z [checkAndTriggerAutoPass] Priority: null, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:53.322Z [checkAndTriggerAutoPass] Priority is null due to active resolution (1 pending steps), returning (ID: autopass_1767436973322_hjoyp)
[game-actions] Queued creature type selection for Cavern of Souls (perm_25v9jxse) from p_q2z8wl2z
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 5, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:53.324Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436973324_q70zw) ==========
2026-01-03T10:42:53.324Z [checkAndTriggerAutoPass] Priority: null, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:53.324Z [checkAndTriggerAutoPass] Priority is null due to active resolution (1 pending steps), returning (ID: autopass_1767436973324_q70zw)
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 5, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=null, viewerId=p_q2z8wl2z, match=false
[normalizeViewForEmit] Skipping playable cards - viewer doesn't have priority
2026-01-03T10:42:53.326Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436973326_r28m2) ==========
2026-01-03T10:42:53.326Z [checkAndTriggerAutoPass] Priority: null, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:53.326Z [checkAndTriggerAutoPass] Priority is null due to active resolution (1 pending steps), returning (ID: autopass_1767436973326_r28m2)
[priority] Exiting resolution mode - priority restored to p_q2z8wl2z
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 5, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= {
  white: 4,
  blue: 1,
  black: 1,
  red: 1,
  green: 1,
  colorless: 2,
  anyColor: 1
}
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Heidegger, Shinra Executive (8e216baf-0e3c-4173-a852-5c5aeb3a9d79_mjy68rs0_31_3cbe6ee8) is playable
[getPlayableCardIds] Card SOLDIER Military Program (dddad2c2-bd19-42bd-aad6-bbf23ccef269_mjy68rs0_3p_23d7fa3f) is playable
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjy68rs0_44_5c30070e) is playable
[getPlayableCardIds] Card Call the Coppercoats (e203daaf-bd68-4251-9106-00299b3ad662_mjy68rs0_4f_1a3b01ee) is playable
[getPlayableCardIds] Card Flowering of the White Tree (2203b2cd-48e5-471a-85fe-dc81012e5d61_mjy68rs0_3s_abd1ae26) is playable
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00) is playable with cost {3}{W}
[getPlayableCardIds] Returning 7 playable card(s): [
  '8e216baf-0e3c-4173-a852-5c5aeb3a9d79_mjy68rs0_31_3cbe6ee8',
  'dddad2c2-bd19-42bd-aad6-bbf23ccef269_mjy68rs0_3p_23d7fa3f',
  '3d994115-378d-4685-a5dc-e448831da434_mjy68rs0_44_5c30070e',
  'e203daaf-bd68-4251-9106-00299b3ad662_mjy68rs0_4f_1a3b01ee',
  '2203b2cd-48e5-471a-85fe-dc81012e5d61_mjy68rs0_3s_abd1ae26',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00',
  'perm_3lcqfql1'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[canPlayLand] p_q2z8wl2z: Already played max lands this turn (1/1)
[hasValidTargetsForSpell] Could not categorize targeting spell Call the Coppercoats, assuming no valid targets
[canCastCommanderFromCommandZone] p_q2z8wl2z: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_q2z8wl2z: Can cast commander from command zone - returning TRUE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[hasValidTargetsForSpell] Could not categorize targeting spell Call the Coppercoats, assuming no valid targets
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-03T10:42:59.267Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436979266_lis43) ==========
2026-01-03T10:42:59.267Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:59.267Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_q2z8wl2z, returning (ID: autopass_1767436979266_lis43)
[Resolution] Step step-1767436973318-1 completed by p_q2z8wl2z: creature_type_choice
[creatureType] Applying creature type Soldier for Cavern of Souls (player p_q2z8wl2z)
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 5, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= {
  white: 4,
  blue: 1,
  black: 1,
  red: 1,
  green: 1,
  colorless: 2,
  anyColor: 1
}
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Heidegger, Shinra Executive (8e216baf-0e3c-4173-a852-5c5aeb3a9d79_mjy68rs0_31_3cbe6ee8) is playable
[getPlayableCardIds] Card SOLDIER Military Program (dddad2c2-bd19-42bd-aad6-bbf23ccef269_mjy68rs0_3p_23d7fa3f) is playable
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjy68rs0_44_5c30070e) is playable
[getPlayableCardIds] Card Call the Coppercoats (e203daaf-bd68-4251-9106-00299b3ad662_mjy68rs0_4f_1a3b01ee) is playable
[getPlayableCardIds] Card Flowering of the White Tree (2203b2cd-48e5-471a-85fe-dc81012e5d61_mjy68rs0_3s_abd1ae26) is playable
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00) is playable with cost {3}{W}
[getPlayableCardIds] Returning 7 playable card(s): [
  '8e216baf-0e3c-4173-a852-5c5aeb3a9d79_mjy68rs0_31_3cbe6ee8',
  'dddad2c2-bd19-42bd-aad6-bbf23ccef269_mjy68rs0_3p_23d7fa3f',
  '3d994115-378d-4685-a5dc-e448831da434_mjy68rs0_44_5c30070e',
  'e203daaf-bd68-4251-9106-00299b3ad662_mjy68rs0_4f_1a3b01ee',
  '2203b2cd-48e5-471a-85fe-dc81012e5d61_mjy68rs0_3s_abd1ae26',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00',
  'perm_3lcqfql1'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[canPlayLand] p_q2z8wl2z: Already played max lands this turn (1/1)
[hasValidTargetsForSpell] Could not categorize targeting spell Call the Coppercoats, assuming no valid targets
[canCastCommanderFromCommandZone] p_q2z8wl2z: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_q2z8wl2z: Can cast commander from command zone - returning TRUE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[hasValidTargetsForSpell] Could not categorize targeting spell Call the Coppercoats, assuming no valid targets
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-03T10:42:59.271Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436979271_5pn2h) ==========
2026-01-03T10:42:59.271Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:59.271Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_q2z8wl2z, returning (ID: autopass_1767436979271_5pn2h)
[VIEW_FOR_DEBUG] {
  viewer: 'p_q2z8wl2z',
  stackLength: 0,
  stackItems: [],
  zones: {
    p_q2z8wl2z: { handCount: 5, firstKnown: [Array] },
    p_s4kth6u5: { handCount: 6, firstKnown: [Array] },
    p_aft3t0og: { handCount: 7, firstKnown: [Array] }
  }
}
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking nykthos, shrine to nyx: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'nykthos, shrine to nyx'
}
[calculateDevotion] Green devotion for p_q2z8wl2z: { totalDevotion: 0, permanents: [], battlefieldCount: 8 }
[getDevotionManaAmount] Matched nykthos, shrine to nyx, devotion=0
[getDevotionManaAmount] Checking valiant veteran: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'valiant veteran'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking sol ring: { hasKarametra: false, hasAcolyte: false, fullCardName: 'sol ring' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking forest: { hasKarametra: false, hasAcolyte: false, fullCardName: 'forest' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking preeminent captain: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'preeminent captain'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking elvish mystic: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'elvish mystic'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking cavern of souls: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'cavern of souls'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking white lotus tile: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'white lotus tile'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking beast whisperer: {
  hasKarametra: false,
  hasAcolyte: false,
  fullCardName: 'beast whisperer'
}
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[getDevotionManaAmount] Checking plains: { hasKarametra: false, hasAcolyte: false, fullCardName: 'plains' }
[getDevotionManaAmount] No match in KNOWN_DEVOTION_MANA_CARDS, trying dynamic detection
[normalizeViewForEmit] Checking playable cards: priority=p_q2z8wl2z, viewerId=p_q2z8wl2z, match=true
[getPlayableCardIds] Player p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isMyTurn=true
[getPlayableCardIds] manaPool= { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
[getPlayableCardIds] availableMana= {
  white: 4,
  blue: 1,
  black: 1,
  red: 1,
  green: 1,
  colorless: 2,
  anyColor: 1
}
[getPlayableCardIds] Total available mana: 6
[getPlayableCardIds] Checking 5 cards in hand
[getPlayableCardIds] Card Heidegger, Shinra Executive (8e216baf-0e3c-4173-a852-5c5aeb3a9d79_mjy68rs0_31_3cbe6ee8) is playable
[getPlayableCardIds] Card SOLDIER Military Program (dddad2c2-bd19-42bd-aad6-bbf23ccef269_mjy68rs0_3p_23d7fa3f) is playable
[getPlayableCardIds] Card Arcane Signet (3d994115-378d-4685-a5dc-e448831da434_mjy68rs0_44_5c30070e) is playable
[getPlayableCardIds] Card Call the Coppercoats (e203daaf-bd68-4251-9106-00299b3ad662_mjy68rs0_4f_1a3b01ee) is playable
[getPlayableCardIds] Card Flowering of the White Tree (2203b2cd-48e5-471a-85fe-dc81012e5d61_mjy68rs0_3s_abd1ae26) is playable
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[getPlayableCardIds] Checking lands: landsPlayed=1, max=1
[getPlayableCardIds] Already played max lands this turn (1/1)
[getPlayableCardIds] Checking 1 commanders in command zone
[getPlayableCardIds] Commander Myrel, Shield of Argive (e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00) is playable with cost {3}{W}
[getPlayableCardIds] Returning 7 playable card(s): [
  '8e216baf-0e3c-4173-a852-5c5aeb3a9d79_mjy68rs0_31_3cbe6ee8',
  'dddad2c2-bd19-42bd-aad6-bbf23ccef269_mjy68rs0_3p_23d7fa3f',
  '3d994115-378d-4685-a5dc-e448831da434_mjy68rs0_44_5c30070e',
  'e203daaf-bd68-4251-9106-00299b3ad662_mjy68rs0_4f_1a3b01ee',
  '2203b2cd-48e5-471a-85fe-dc81012e5d61_mjy68rs0_3s_abd1ae26',
  'e632ed57-bb00-4493-adef-7b4805edd7ea_mjy68rs0_2t_1c21fa00',
  'perm_3lcqfql1'
]
[normalizeViewForEmit] getPlayableCardIds returned 7 cards
[normalizeViewForEmit] Set view.playableCards with 7 cards
[canAct] p_q2z8wl2z: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_q2z8wl2z, battlefield has 12 permanents
[calculateMaxLandsPerTurn] Final result for p_q2z8wl2z: 1 lands per turn
[canPlayLand] p_q2z8wl2z: Already played max lands this turn (1/1)
[hasValidTargetsForSpell] Could not categorize targeting spell Call the Coppercoats, assuming no valid targets
[canCastCommanderFromCommandZone] p_q2z8wl2z: Commander Myrel, Shield of Argive can be cast (main phase, empty stack)
[canAct] p_q2z8wl2z: Can cast commander from command zone - returning TRUE
[canRespond] p_q2z8wl2z: checking instant-speed responses only
[hasValidTargetsForSpell] Could not categorize targeting spell Call the Coppercoats, assuming no valid targets
[canRespond] p_q2z8wl2z: No instant-speed responses available (returning false)
[normalizeViewForEmit] Set canAct=true, canRespond=false
2026-01-03T10:42:59.274Z [checkAndTriggerAutoPass] ========== CALLED (ID: autopass_1767436979274_6kbld) ==========
2026-01-03T10:42:59.274Z [checkAndTriggerAutoPass] Priority: p_q2z8wl2z, Phase: precombatMain, Step: MAIN1
2026-01-03T10:42:59.274Z [checkAndTriggerAutoPass] Auto-pass not enabled for p_q2z8wl2z, returning (ID: autopass_1767436979274_6kbld)


[DBG]: PS D:\Git\MTGEDH>>
