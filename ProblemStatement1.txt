Tuesday, December 23, 2025 4:47:25 PM

> @mtgedh/server@0.1.0 dev
> tsx watch --watch-path=src src/index.ts

[Resolution] AI handler initialized
mtgedh> [Resolution] Priority management handler initialized
[AI] Creating game with multiple AI opponents: {
  gameId: 'game_mjj49rzv',
  playerName: 'A2',
  aiCount: 3,
  aiNames: [ 'king', 'chatter', 'Ommy' ],
  aiDifficulties: [ 1, 1, 1 ]
}
[AI] Created new game via GameManager: game_mjj49rzv
[AI] AI player joined game via game.join(): { aiPlayerId: 'p_4zyt1czo', aiName: 'king' }
[AI] Loading deck for king: { deckId: 'deck_1764197085965_ohucj3', deckName: 'King Maker' }
[join] Set game creator for game_mjj49rzv to player p_17ymuw6z
[AI] Deck imported for king: {
  aiPlayerId: 'p_4zyt1czo',
  deckName: 'King Maker',
  resolvedCount: 100
}
[AI] Persisted deckImportResolved event for king: { aiPlayerId: 'p_4zyt1czo', cardCount: 100 }
[AI] Added AI player to auto-pass set: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[AI] Registered AI player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  name: 'king',
  strategy: 'control',
  difficulty: 1
}
[AI] AI player joined game via game.join(): { aiPlayerId: 'p_00ukvumf', aiName: 'chatter' }
[AI] Loading deck for chatter: { deckId: 'deck_1764197024446_6ekrf1', deckName: 'Chatterfang' }
[deck] listSavedDecks called { gameId: 'game_mjj49rzv', folder: undefined, playerId: 'p_17ymuw6z' }
[AI] Deck imported for chatter: {
  aiPlayerId: 'p_00ukvumf',
  deckName: 'Chatterfang',
  resolvedCount: 100
}
[AI] Persisted deckImportResolved event for chatter: { aiPlayerId: 'p_00ukvumf', cardCount: 100 }
[AI] Added AI player to auto-pass set: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[AI] Registered AI player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  name: 'chatter',
  strategy: 'aggressive',
  difficulty: 1
}
[AI] AI player joined game via game.join(): { aiPlayerId: 'p_78lpnn6g', aiName: 'Ommy' }
[AI] Loading deck for Ommy: { deckId: 'deck_1764741502340_p33d20', deckName: 'Om..Om...Nom?' }
[AI] Deck imported for Ommy: {
  aiPlayerId: 'p_78lpnn6g',
  deckName: 'Om..Om...Nom?',
  resolvedCount: 100
}
[AI] Persisted deckImportResolved event for Ommy: { aiPlayerId: 'p_78lpnn6g', cardCount: 100 }
[AI] Added AI player to auto-pass set: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[AI] Registered AI player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  name: 'Ommy',
  strategy: 'aggressive',
  difficulty: 1
}
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=0 libraryCount=100
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=0 libraryCount=100
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=0 libraryCount=100
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=0 libraryCount=100
[AI] Triggering auto-commander selection for: { gameId: 'game_mjj49rzv', aiPlayerId: 'p_4zyt1czo' }
[AI] Triggering auto-commander selection for: { gameId: 'game_mjj49rzv', aiPlayerId: 'p_00ukvumf' }
[AI] Triggering auto-commander selection for: { gameId: 'game_mjj49rzv', aiPlayerId: 'p_78lpnn6g' }
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: true,
  hasPriority: true
}
[AI] AI needs to select commander
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: true,
  hasPriority: true
}
[AI] AI needs to select commander
[AI] autoSelectAICommander: found library with 100 cards
[AI] First cards in library: [{"name":"Kynaios and Tiro of Meletis","type":"Legendary Creature ΓÇö Human Soldier","colors":[]},{"name":"Arcane Denial","type":"Instant","colors":[]},{"name":"Azorius Chancery","type":"Land","colors":[]}]
[AI] Deck color identity: WURG
[AI] Selected single commander from first card (exact identity match): Kynaios and Tiro of Meletis
[AI] Auto-selecting commander for AI: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  commanderNames: [ 'Kynaios and Tiro of Meletis' ],
  commanderIds: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_7b3af5a25f9416f0' ],
  colorIdentity: [ 'W', 'U', 'R', 'G' ]
}
[setCommander] Initialized inCommandZone for p_4zyt1czo: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_7b3af5a25f9416f0' ]
[AI] After setCommander - hand count: 7
[AI] Persisted opening draw events (shuffle + draw) for player p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] Commander set for AI player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  commanderNames: [ 'Kynaios and Tiro of Meletis' ],
  finalHandCount: 7
}
[AI] Commander selection complete, continuing game flow
[AI] autoSelectAICommander: player already has commander, skipping {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  commanderIds: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_7b3af5a25f9416f0' ]
}
[AI] Commander selection complete, continuing game flow
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[AI] Mulligan analysis: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  handSize: 7,
  currentMulligans: 0,
  effectiveHandSizeAfterMulligan: 7,
  landCount: 3,
  manaSourceCount: 2,
  totalManaProduction: 5,
  lowCostSpellCount: 4,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] Hand has good land count (3-5 lands), keeping
[AI] AI keeping hand
[AI] AI is ready to start game (hand kept)
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: false,
  hasPriority: false
}
[AI] AI needs to select commander
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] autoSelectAICommander: found library with 100 cards
[AI] First cards in library: [{"name":"Chatterfang, Squirrel General","type":"Legendary Creature ΓÇö Squirrel Warrior","colors":[]},{"name":"Deep Forest Hermit","type":"Creature ΓÇö Elf Druid","colors":[]},{"name":"Deranged Hermit","type":"Creature ΓÇö Elf","colors":[]}]
[AI] Deck color identity: GBW
node.exe : [AI] First commander identity [GB] does not match deck identity [GBW] - searching for better options
At line:1 char:1
+ & "C:\Program Files\nodejs/node.exe" "C:\Users\A2\AppData\Roaming\npm ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: ([AI] First comm... better options:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

[AI] Selected single commander with closest match (score: 20, coverage: 2/3, extra colors: 0) [GB]: Chatterfang,
Squirrel General - Deck identity [GBW]
[AI] Commander identity mismatch: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  commanders: 'Chatterfang, Squirrel General',
  commanderIdentity: 'GB',
  deckIdentity: 'GBW'
}
[AI] Auto-selecting commander for AI: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  commanderNames: [ 'Chatterfang, Squirrel General' ],
  commanderIds: [ 'card_1785cf85-1ac0-4246-9b89-1a8221a8e1b2_b26e93fb67ad91ff' ],
  colorIdentity: [ 'G', 'B' ]
}
[setCommander] Initialized inCommandZone for p_00ukvumf: [ 'card_1785cf85-1ac0-4246-9b89-1a8221a8e1b2_b26e93fb67ad91ff' ]
[AI] After setCommander - hand count: 7
[AI] Persisted opening draw events (shuffle + draw) for player p_00ukvumf
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] Commander set for AI player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  commanderNames: [ 'Chatterfang, Squirrel General' ],
  finalHandCount: 7
}
[AI] Commander selection complete, continuing game flow
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: false,
  hasHand: false,
  handCount: 0,
  isAITurn: false,
  hasPriority: false
}
[AI] AI needs to select commander
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] autoSelectAICommander: found library with 100 cards
[AI] First cards in library: [{"name":"Omnath, Locus of Mana","type":"Legendary Creature ΓÇö Elemental","colors":[]},{"name":"Abundant Harvest","type":"Sorcery","colors":[]},{"name":"Archdruid's Charm","type":"Instant","colors":[]}]
[AI] Deck color identity: G
[AI] Selected single commander from first card (exact identity match): Omnath, Locus of Mana
[AI] Auto-selecting commander for AI: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  commanderNames: [ 'Omnath, Locus of Mana' ],
  commanderIds: [ 'card_acf0cab3-da50-4561-8797-cd179af39216_3daef28e7e968da9' ],
  colorIdentity: [ 'G' ]
}
[setCommander] Initialized inCommandZone for p_78lpnn6g: [ 'card_acf0cab3-da50-4561-8797-cd179af39216_3daef28e7e968da9' ]
[AI] After setCommander - hand count: 7
[AI] Persisted opening draw events (shuffle + draw) for player p_78lpnn6g
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] Commander set for AI player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  commanderNames: [ 'Omnath, Locus of Mana' ],
  finalHandCount: 7
}
[AI] Commander selection complete, continuing game flow
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[AI] Mulligan analysis: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  handSize: 7,
  currentMulligans: 0,
  effectiveHandSizeAfterMulligan: 7,
  landCount: 6,
  manaSourceCount: 1,
  totalManaProduction: 7,
  lowCostSpellCount: 1,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] 6+ lands in opening hand with reasonable mulligan cost, mulliganing
[AI] AI taking mulligan
[AI] Executing mulligan #1 for AI player
[AI] Moved hand to library
[AI] Shuffled library
[AI] Drew new 7-card hand, actual drawn: 7
[AI] Mulligan executed successfully
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[AI] Mulligan analysis: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  handSize: 7,
  currentMulligans: 0,
  effectiveHandSizeAfterMulligan: 7,
  landCount: 1,
  manaSourceCount: 0,
  totalManaProduction: 1,
  lowCostSpellCount: 6,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] Only 1 land without sufficient mana acceleration, mulliganing
[AI] AI taking mulligan
[AI] Executing mulligan #1 for AI player
[AI] Moved hand to library
[AI] Shuffled library
[AI] Drew new 7-card hand, actual drawn: 7
[AI] Mulligan executed successfully
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[AI] Mulligan analysis: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  handSize: 7,
  currentMulligans: 1,
  effectiveHandSizeAfterMulligan: 6,
  landCount: 3,
  manaSourceCount: 1,
  totalManaProduction: 4,
  lowCostSpellCount: 4,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] Hand has good land count (3-5 lands), keeping
[AI] AI keeping hand
[AI] AI is ready to start game (hand kept)
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI evaluating hand for mulligan decision
[AI] AI making mulligan decision: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[AI] Mulligan analysis: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  handSize: 7,
  currentMulligans: 1,
  effectiveHandSizeAfterMulligan: 6,
  landCount: 2,
  manaSourceCount: 0,
  totalManaProduction: 2,
  lowCostSpellCount: 5,
  midCostSpellCount: 0,
  highCostSpellCount: 0
}
[AI] 2 lands with multiple low-cost spells, keeping
[AI] AI keeping hand
[AI] AI is ready to start game (hand kept)
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI has kept hand but is not active player, waiting
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI has kept hand but is not active player, waiting
[deck] canImportWithoutWipe {
  gameId: 'game_mjj49rzv',
  phaseStr: 'PRE_GAME',
  seqVal: 29,
  isPreGame: true
}
[deck] importDeck called { gameId: 'game_mjj49rzv', playerId: 'p_17ymuw6z' }
[deck] importDeck resolved cards {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  resolvedCount: 100,
  missingCount: 0,
  firstCard: {
    name: 'Baeloth Barrityl, Entertainer',
    id: 'ec983aac-9eda-4086-ad7e-34da9b2987cc_mjj4by9f_1_b674d030',
    type_line: 'Legendary Creature ΓÇö Elf Shaman'
  },
  lastCard: {
    name: 'Swamp',
    id: 'f0b234d8-d6bb-48ec-8a4d-d8a570a69c62_mjj4by9g_2s_8cb18a81',
    type_line: 'Basic Land ΓÇö Swamp'
  }
}
[deck] importDeck pregame-check {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  phaseStr: 'PRE_GAME',
  seqVal: 29,
  isPreGame: true
}
[deck] clearPlayerTransientZonesForImport { gameId: 'game_mjj49rzv', playerId: 'p_17ymuw6z' }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  pendingInitialDrawSize: 1
}
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[deck] importDeck (pre-game) emitting suggestCommanders {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  names: [ 'Baeloth Barrityl, Entertainer', 'Agent of the Shadow Thieves' ]
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  candidatesCount: 100
}
[import] applyConfirmedImport start {
  gameId: 'game_mjj49rzv',
  initiator: 'p_17ymuw6z',
  cards: 100,
  importerOnly: true,
  confirmId: 'imp_1766526607925_m8b0ab'
}
[import] importer-only apply: skipping full reset { gameId: 'game_mjj49rzv' }
[import] importDeckResolved attempted { gameId: 'game_mjj49rzv', playerId: 'p_17ymuw6z' }
[import] state.zones libraryCount update (no library array duplication) { gameId: 'game_mjj49rzv', playerId: 'p_17ymuw6z', libraryCount: 100 }
[deck] addPendingInitialDrawFlag {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  pendingInitialDrawSize: 1
}
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[commander] emitImportedDeckCandidatesToPlayer {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  candidatesCount: 100
}
[commander] emitSuggestCommandersToPlayer {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  names: [ 'Baeloth Barrityl, Entertainer', 'Agent of the Shadow Thieves' ]
}
[import] suggestCommanders emitted (importerSocket) {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  names: [ 'Baeloth Barrityl, Entertainer', 'Agent of the Shadow Thieves' ]
}
[import] importApplied sent to player sockets { gameId: 'game_mjj49rzv', playerId: 'p_17ymuw6z' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[import] applyConfirmedImport complete {
  gameId: 'game_mjj49rzv',
  initiator: 'p_17ymuw6z',
  confirmId: 'imp_1766526607925_m8b0ab'
}
[deck] getImportedDeckCandidates {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  candidatesCount: 100
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[commander] setCommander incoming {
  gameId: 'game_mjj49rzv',
  from: 'p_17ymuw6z',
  commanderNames: [ 'Baeloth Barrityl, Entertainer', 'Agent of the Shadow Thieves' ],
  commanderIds: [
    'ec983aac-9eda-4086-ad7e-34da9b2987cc_mjj4by9f_1_b674d030',
    'f50448e9-afe4-4d4e-b027-bbb855f17aeb_mjj4by9f_2_faa37f7f'
  ]
}
[commander] setCommander idsToApply {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  names: [ 'Baeloth Barrityl, Entertainer', 'Agent of the Shadow Thieves' ],
  idsToApply: [
    'ec983aac-9eda-4086-ad7e-34da9b2987cc_mjj4by9f_1_b674d030',
    'f50448e9-afe4-4d4e-b027-bbb855f17aeb_mjj4by9f_2_faa37f7f'
  ]
}
[setCommander] Initialized inCommandZone for p_17ymuw6z: [
  'ec983aac-9eda-4086-ad7e-34da9b2987cc_mjj4by9f_1_b674d030',
  'f50448e9-afe4-4d4e-b027-bbb855f17aeb_mjj4by9f_2_faa37f7f'
]
[commander] Persisted opening draw events (shuffle + draw 7) for player p_17ymuw6z
[DEBUG_CMD] after setCommander {
  gameId: 'game_mjj49rzv',
  playerId: 'p_17ymuw6z',
  commanderIds: [
    'ec983aac-9eda-4086-ad7e-34da9b2987cc_mjj4by9f_1_b674d030',
    'f50448e9-afe4-4d4e-b027-bbb855f17aeb_mjj4by9f_2_faa37f7f'
  ],
  commanderNames: [ 'Baeloth Barrityl, Entertainer', 'Agent of the Shadow Thieves' ],
  libraryCount: 91,
  libraryTop: null
}
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] Waiting for other players to keep their hands
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRE_GAME',
  step: '',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI is active player in pre_game, checking if ready to advance
[AI] All players ready, AI advancing from pre_game to beginning phase
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Advanced game from pre_game to beginning phase via nextTurn
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_00ukvumf: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Forest(Basic Land ΓÇö Forest), Toski, Bearer of Secrets(Legendary Creature ΓÇö)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canPlayLand] p_00ukvumf: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Forest(Basic Land ΓÇö Forest), Toski, Bearer of Secrets(Legendary Creature ΓÇö)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canPlayLand] p_00ukvumf: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Forest(Basic Land ΓÇö Forest), Toski, Bearer of Secrets(Legendary Creature ΓÇö)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_7bc5e7931735da24'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_26ysh8wd'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  "Druid's Call: no valid target for aura"
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Forest(Basic Land ΓÇö Forest)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  "Druid's Call: no valid target for aura"
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_a997e50bc61af29b'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=92
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardName: 'Forest',
  permanentId: 'perm_vg8xctc8'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: no valid targets (needs 1, found 0)',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact)]
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: no valid targets (needs 1, found 0)',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: no valid targets (needs 1, found 0)',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: no valid targets (needs 1, found 0)',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Mountain(Basic Land ΓÇö Mountai), Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Mountain
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardId: 'card_c44f81ca-f72f-445c-8901-3a894a2a47f9_8b817acb6d77ad9b'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Mountain',
  permanentId: 'perm_zh1uv021'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Fire Nation Palace(Land), Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura)]
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_00ukvumf: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canPlayLand] p_00ukvumf: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_00ukvumf: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_4a76b5692b6ebd3a'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_26ysh8wd'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_9wicfaok'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  "Druid's Call: no valid target for aura"
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_a17e8a9c4a2ba508'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=91
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardName: 'Forest',
  permanentId: 'perm_vg8xctc8'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardName: 'Forest',
  permanentId: 'perm_ar5g8zs8'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: no valid targets (needs 1, found 0)',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Forest(Basic Land ΓÇö Forest)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Forest(Basic Land ΓÇö Forest)]
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=90
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_59aef697d786ada7'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Mountain',
  permanentId: 'perm_zh1uv021'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Forest',
  permanentId: 'perm_l584x8ik'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[completeCastSpell] Final targets to use: none
[castSpellFromHand] Added converge data to stack item: 2 colors (black, red)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] All players passed priority with empty stack, advancing step
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Forest(Basic Land ΓÇö Forest)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Forest(Basic Land ΓÇö Forest)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Forest
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardId: 'card_a305e44f-4253-4754-b83f-1e34103d77b0_3b7b40e55cfc0075'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_26ysh8wd'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_9wicfaok'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_16jjgz9d'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Myriad Landscape
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardId: 'card_a0e2098f-1d94-491a-a7e9-a45a9f69e3a8_7de3d64eb7f44be8'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=90
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardName: 'Forest',
  permanentId: 'perm_vg8xctc8'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardName: 'Forest',
  permanentId: 'perm_ar5g8zs8'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Exotic Orchard(Land)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Exotic Orchard
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardId: 'card_e86174cd-0291-4fca-8e22-2d2b6f921460_6c849c706a7532e4'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  "Freyalise, Llanowar's Fury: no valid targets (needs 1, found 0)",
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Mountain',
  permanentId: 'perm_zh1uv021'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Forest',
  permanentId: 'perm_l584x8ik'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Found castable commander: Kynaios and Tiro of Meletis with tax: 0 total CMC: 4
[AI] Casting commander from command zone: Kynaios and Tiro of Meletis
[AI] Casting commander from command zone: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Kynaios and Tiro of Meletis',
  cost: {
    colors: { W: 1, U: 1, B: 0, R: 1, G: 1, C: 0 },
    generic: 0,
    hasX: false,
    hybrid: []
  }
}
[AI] Commander added to stack: Kynaios and Tiro of Meletis
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority, resolving top of stack
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'ending',
  step: 'end',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority, resolving top of stack
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'ending',
  step: 'end',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Ending phase, step: end - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Sol Ring: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}'
]
[AI] ... and 1 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[completeCastSpell] Final targets to use: none
[castSpellFromHand] Added converge data to stack item: 2 colors (black, red)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Bitterblossom(Kindred Enchantment )]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Not AI turn, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] All players passed priority with empty stack, advancing step
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Bitterblossom(Kindred Enchantment )]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Bitterblossom(Kindred Enchantment )]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_00ukvumf: Sample cards in hand: [Toski, Bearer of Secrets(Legendary Creature ΓÇö), Guardian Project(Enchantment), Bitterblossom(Kindred Enchantment )]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Westvale Abbey // Ormendahl, Profane Prince
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardId: 'card_5fbc6091-a161-45b0-9932-543b569caaee_2fa81155618312a1'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_26ysh8wd'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_9wicfaok'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  cardName: 'Forest',
  permanentId: 'perm_16jjgz9d'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_00ukvumf',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_00ukvumf
[AI] All players passed priority with empty stack, advancing step
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_00ukvumf
[canAct] p_00ukvumf: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_00ukvumf',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Toski, Bearer of Secrets: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Guardian Project: need 4 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Bitterblossom: need 2 mana (have 0), colors: {"W":0,"U":0,"B":1,"R":0,"G":0,"C":0}',
  'Golgari Signet: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":0,"C":0}',
  `Druid's Call: need 2 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`
]
[AI] ... and 2 more cards not castable
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_00ukvumf' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] Found castable commander: Omnath, Locus of Mana with tax: 0 total CMC: 3
[AI] Casting commander from command zone: Omnath, Locus of Mana
[AI] Casting commander from command zone: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  cardName: 'Omnath, Locus of Mana',
  cost: {
    colors: { W: 0, U: 0, B: 0, R: 0, G: 1, C: 0 },
    generic: 2,
    hasX: false,
    hybrid: []
  }
}
[AI] Commander added to stack: Omnath, Locus of Mana
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: false,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Stack not empty, passing priority to let it resolve
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority, resolving top of stack
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  `Freyalise, Llanowar's Fury: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 3 more cards not castable
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  `Freyalise, Llanowar's Fury: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 3 more cards not castable
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  `Freyalise, Llanowar's Fury: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 3 more cards not castable
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] No land found in hand to play
[AI] findCastableSpells: Checking 8 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  'Nissa, Who Shakes the World: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}',
  'Vigor: need 6 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":3,"C":0}',
  'Snakeskin Veil: need 1 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  `Freyalise, Llanowar's Fury: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}`,
  'Glorious Sunrise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":2,"C":0}'
]
[AI] ... and 3 more cards not castable
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'COMBAT',
  step: 'DECLARE_ATTACKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'COMBAT',
  step: 'DECLARE_ATTACKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'combat',
  step: 'declare_attackers',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_78lpnn6g',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'COMBAT',
  step: 'DECLARE_ATTACKERS',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_78lpnn6g
[AI] All players passed priority with empty stack, advancing step
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[canPlayLand] p_78lpnn6g: Sample cards in hand: [Nissa, Who Shakes the World(Legendary Planeswalk), Vigor(Creature ΓÇö Elemental), Snakeskin Veil(Instant)]
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_78lpnn6g, turnPlayer: p_78lpnn6g
[canAct] p_78lpnn6g: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'ending',
  step: 'cleanup',
  isAITurn: true,
  stackEmpty: true,
  priority: null,
  hasPriority: false
}
[AI] Cleanup step - handling automatic cleanup actions (Rule 514.1)
[AI] Cleanup step - AI has pending discard selection: 1 cards
[AI] Discarding 1 cards
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[priority] Cannot pass priority - currently in resolution mode (priority doesn't exist per Rule 608.2)
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'ending',
  step: 'cleanup',
  isAITurn: true,
  stackEmpty: true,
  priority: null,
  hasPriority: false
}
[AI] Cleanup step - handling automatic cleanup actions (Rule 514.1)
[AI] Cleanup step - no discard needed, auto-advancing
[AI] Advancing step: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  currentPhase: 'ending',
  currentStep: 'CLEANUP'
}
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[AI] Step advanced: { newPhase: 'beginning', newStep: 'UPKEEP' }
[AI] Clearing cleanup processing flags after advancing from cleanup
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: false,
  hasPriority: false
}
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] Cannot advance step - not the turn player: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_78lpnn6g',
  turnPlayer: 'p_4zyt1czo',
  message: 'Only the active player can advance game steps'
}
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] No attackers to declare, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_78lpnn6g' }
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=89
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Beginning phase, step: upkeep - passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Hour of Promise(Sorcery)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Hour of Promise(Sorcery)]
[canPlayLand] p_4zyt1czo: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Sol Ring(Artifact), Hour of Promise(Sorcery)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=8 libraryCount=88
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 8,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Hand size 8 exceeds max 7 - will prioritize casting spells to avoid discarding
[AI] Playing land: Mountain
[AI] Playing land: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardId: 'card_c44f81ca-f72f-445c-8901-3a894a2a47f9_5740ad62dfbf69b3'
}
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=7 libraryCount=88
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 7,
  isAITurn: true,
  hasPriority: true
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Mountain',
  permanentId: 'perm_zh1uv021'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] Activating ability: Forest - Activating Forest (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Forest',
  permanentId: 'perm_l584x8ik'
}
[AI] Tapped permanent for ability: Forest
[AI] Tapped for mana ability (resolves immediately, not on stack): Forest
[AI] Activating ability: Mountain - Activating Mountain (value: 6.5)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Mountain',
  permanentId: 'perm_c61dk3o1'
}
[AI] Tapped permanent for ability: Mountain
[AI] Tapped for mana ability (resolves immediately, not on stack): Mountain
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] findCastableSpells: Checking 7 cards in hand
[AI] Available mana pool: {
  total: 1,
  colors: {
    white: 1,
    blue: 1,
    black: 1,
    red: 1,
    green: 1,
    colorless: 0,
    anyColor: 1
  }
}
[AI] findCastableSpells: Found 1 castable spell(s): [ 'Sol Ring (CMC 1, priority 114)' ]
[AI] Casting spell: Sol Ring with priority 114
[AI] Casting spell: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Sol Ring',
  cost: {
    colors: { W: 0, U: 0, B: 0, R: 0, G: 0, C: 0 },
    generic: 1,
    hasX: false,
    hybrid: []
  }
}
[AI] Spell added to stack: Sol Ring with 0 target(s)
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority, resolving top of stack
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: true,
  stackEmpty: true,
  priority: 'p_4zyt1czo',
  hasPriority: true
}
[AI] AI has priority, proceeding with action
[AI] Cannot play land: {
  isMainPhase: true,
  isAITurn: true,
  landsPlayed: 1,
  maxLands: 1,
  reason: 'already played max lands'
}
[AI] Activating ability: Sol Ring - Activating Sol Ring (value: 7)
[AI] Activating ability: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  cardName: 'Sol Ring',
  permanentId: 'perm_nr7ua3dg'
}
[AI] Tapped permanent for ability: Sol Ring
[AI] Tapped for mana ability (resolves immediately, not on stack): Sol Ring
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_4zyt1czo, turnPlayer: p_4zyt1czo
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority, resolving top of stack
[canAct] p_4zyt1czo: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_4zyt1czo
[AI] All players passed priority with empty stack, advancing step
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[recalculateHandVisibility] Players with hand reveal effects: none
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'beginning',
  step: 'upkeep',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 6,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'BEGINNING',
  step: 'UPKEEP',
  hasCommander: true,
  hasHand: true,
  handCount: 6,
  isAITurn: false,
  hasPriority: false
}
[canAct] p_17ymuw6z: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_00ukvumf, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[priority] autoPassLoop starting - active players: p_4zyt1czo, p_17ymuw6z, p_00ukvumf, p_78lpnn6g, autoPassEnabled: p_17ymuw6z, p_4zyt1czo, p_00ukvumf, p_78lpnn6g, currentPriority: p_17ymuw6z, turnPlayer: p_17ymuw6z
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 6,
  isAITurn: false,
  hasPriority: false
}
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 6,
  isAITurn: false,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] findCastableSpells: Checking 6 cards in hand
[AI] Available mana pool: {
  total: 0,
  colors: { white: 0, blue: 0, black: 0, red: 0, green: 0, colorless: 0 }
}
[AI] findCastableSpells: No castable spells. Reasons: [
  `Kodama's Reach: need 3 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}`,
  'Hour of Promise: need 5 mana (have 0), colors: {"W":0,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Selvala, Explorer Returned: need 3 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":1,"C":0}',
  'Sphere of Safety: need 5 mana (have 0), colors: {"W":1,"U":0,"B":0,"R":0,"G":0,"C":0}',
  'Reins of Power: need 4 mana (have 0), colors: {"W":0,"U":2,"B":0,"R":0,"G":0,"C":0}'
]
[AI] Main phase, no more actions, passing priority
[AI] Passing priority: { gameId: 'game_mjj49rzv', playerId: 'p_4zyt1czo' }
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[STATE_DEBUG] BROADCAST_STATE gameId=game_mjj49rzv players=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] zones=[p_4zyt1czo,p_17ymuw6z,p_00ukvumf,p_78lpnn6g] handCount=6 libraryCount=88
[canPlayLand] p_17ymuw6z: Sample cards in hand: [Vandalblast(Sorcery), Parasitic Impetus(Enchantment ΓÇö Aura), Jeska, Thrice Reborn(Legendary Planeswalk)]
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
[AI] handleAIGameFlow: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'PRECOMBATMAIN',
  step: 'MAIN1',
  hasCommander: true,
  hasHand: true,
  handCount: 6,
  isAITurn: false,
  hasPriority: false
}
[AI] AI player checking priority: {
  gameId: 'game_mjj49rzv',
  playerId: 'p_4zyt1czo',
  phase: 'precombatmain',
  step: 'main1',
  isAITurn: false,
  stackEmpty: true,
  priority: 'p_17ymuw6z',
  hasPriority: false
}
[AI] AI does not have priority, skipping action
