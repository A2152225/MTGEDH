2026-02-10T21:38:58.042Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.042Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.042Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.043Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.043Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.043Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.043Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.043Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.043Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.043Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.043Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.043Z [nextStep]   Hand (8): Rogue's Passage, Rites of Flourishing, Temple Bell, Fog, Minds Aglow, Font of Mythos, Horizon Chimera, Ghirapur Orrery
2026-02-10T21:38:58.043Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.043Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.043Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.043Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.043Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.043Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.043Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.043Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.043Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.044Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.044Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.044Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.044Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.044Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.044Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.044Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.044Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.044Z [nextStep]   Hand (7): Ghirapur Orrery, Bring to Light, Temporal Mastery, Island, Blasphemous Act, Seeds of Renewal, Fog
2026-02-10T21:38:58.044Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.044Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.044Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.044Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.044Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.044Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.044Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.044Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.044Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.044Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.044Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.044Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.044Z [nextStep]   Hand (8): Ghirapur Orrery, Bring to Light, Temporal Mastery, Island, Blasphemous Act, Seeds of Renewal, Fog, Seaside Citadel
2026-02-10T21:38:58.044Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.044Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.044Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.044Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.044Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.044Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.044Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.044Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.044Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.044Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.044Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.044Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Ghirapur Orrery(Artifact), Bring to Light(Sorcery), Temporal Mastery(Sorcery)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.044Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.044Z [nextStep]   Hand (8): Ghirapur Orrery, Bring to Light, Temporal Mastery, Island, Blasphemous Act, Seeds of Renewal, Fog, Seaside Citadel
2026-02-10T21:38:58.044Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.044Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.044Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.045Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.045Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.045Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.045Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.045Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.045Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.045Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.045Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.045Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.045Z [nextStep]   Hand (8): Ghirapur Orrery, Bring to Light, Temporal Mastery, Island, Blasphemous Act, Seeds of Renewal, Fog, Seaside Citadel
2026-02-10T21:38:58.045Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.045Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.045Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.045Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.045Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.045Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.045Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.045Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.045Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.045Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.045Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.045Z [nextStep]   Hand (8): Ghirapur Orrery, Bring to Light, Temporal Mastery, Island, Blasphemous Act, Seeds of Renewal, Fog, Seaside Citadel
2026-02-10T21:38:58.045Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.045Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.045Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.046Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.046Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.046Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.046Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.046Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.046Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.046Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.046Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.046Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.046Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.046Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.046Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.046Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.046Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.046Z [nextStep]   Hand (7): Windborn Muse, Kami of the Crescent Moon, Selesnya Sanctuary, Soul Conduit, Plains, Triumph of the Hordes, Enchanted Evening
2026-02-10T21:38:58.046Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.046Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.046Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.046Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.046Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.046Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.046Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.046Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.046Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.046Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.046Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.046Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.047Z [nextStep]   Hand (8): Windborn Muse, Kami of the Crescent Moon, Selesnya Sanctuary, Soul Conduit, Plains, Triumph of the Hordes, Enchanted Evening, Simic Growth Chamber
2026-02-10T21:38:58.047Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.047Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.047Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.047Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.047Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.047Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.047Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.047Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.047Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.047Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.047Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.047Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Windborn Muse(Creature ΓÇö Spirit), Kami of the Crescent Moon(Legendary Creature ΓÇö), Selesnya Sanctuary(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Selesnya Sanctuary (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.047Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.047Z [nextStep]   Hand (8): Windborn Muse, Kami of the Crescent Moon, Selesnya Sanctuary, Soul Conduit, Plains, Triumph of the Hordes, Enchanted Evening, Simic Growth Chamber
2026-02-10T21:38:58.047Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.047Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.047Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.047Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.047Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.047Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.047Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.047Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.047Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.047Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.047Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.047Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.047Z [nextStep]   Hand (8): Windborn Muse, Kami of the Crescent Moon, Selesnya Sanctuary, Soul Conduit, Plains, Triumph of the Hordes, Enchanted Evening, Simic Growth Chamber
2026-02-10T21:38:58.047Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.047Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.047Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.048Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.048Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.048Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.048Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.048Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.048Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.048Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.048Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.048Z [nextStep]   Hand (8): Windborn Muse, Kami of the Crescent Moon, Selesnya Sanctuary, Soul Conduit, Plains, Triumph of the Hordes, Enchanted Evening, Simic Growth Chamber
2026-02-10T21:38:58.048Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.048Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.048Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.048Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.048Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.048Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.048Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.048Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.048Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.048Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.048Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.048Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.048Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.048Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.048Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.049Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.049Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.049Z [nextStep]   Hand (7): Boros Garrison, Island, Norn's Annex, Exotic Orchard, Rites of Flourishing, Arcane Denial, Telepathy
2026-02-10T21:38:58.049Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.049Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.049Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.049Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.049Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.049Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.049Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.049Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.049Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.049Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.049Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.049Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.049Z [nextStep]   Hand (8): Boros Garrison, Island, Norn's Annex, Exotic Orchard, Rites of Flourishing, Arcane Denial, Telepathy, Simic Growth Chamber
2026-02-10T21:38:58.049Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.049Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.049Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.049Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.049Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.049Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.049Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.049Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.049Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.049Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.049Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.049Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Boros Garrison(Land), Island(Basic Land ΓÇö Island), Norn's Annex(Artifact)]
[canPlayLand] p_bnxazhz4: Found land in hand: Boros Garrison (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.049Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.049Z [nextStep]   Hand (8): Boros Garrison, Island, Norn's Annex, Exotic Orchard, Rites of Flourishing, Arcane Denial, Telepathy, Simic Growth Chamber
2026-02-10T21:38:58.049Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.049Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.049Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.050Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.050Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.050Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.050Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.050Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.050Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.050Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.050Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.050Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.050Z [nextStep]   Hand (8): Boros Garrison, Island, Norn's Annex, Exotic Orchard, Rites of Flourishing, Arcane Denial, Telepathy, Simic Growth Chamber
2026-02-10T21:38:58.050Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.050Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.050Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.050Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.050Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.050Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.050Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.050Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.050Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.050Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.050Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.050Z [nextStep]   Hand (8): Boros Garrison, Island, Norn's Annex, Exotic Orchard, Rites of Flourishing, Arcane Denial, Telepathy, Simic Growth Chamber
2026-02-10T21:38:58.050Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.050Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.050Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.051Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.052Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.052Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.052Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.052Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.052Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.052Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.052Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.052Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.052Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.052Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.052Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.052Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.052Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.052Z [nextStep]   Hand (7): Hour of Promise, Progenitor Mimic, Homeward Path, Declaration in Stone,Arcane Denial, Blazing Archon, Forbidden Orchard
2026-02-10T21:38:58.052Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.052Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.052Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.052Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.052Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.052Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.052Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.052Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.052Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.052Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.052Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.052Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.052Z [nextStep]   Hand (8): Hour of Promise, Progenitor Mimic, Homeward Path, Declaration in Stone,Arcane Denial, Blazing Archon, Forbidden Orchard, Triumph of the Hordes
2026-02-10T21:38:58.052Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.052Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.052Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.053Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.053Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.053Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.053Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.053Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.053Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.053Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.053Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.053Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Hour of Promise(Sorcery), Progenitor Mimic(Creature ΓÇö Shapeshif), Homeward Path(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Homeward Path (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.053Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.053Z [nextStep]   Hand (8): Hour of Promise, Progenitor Mimic, Homeward Path, Declaration in Stone,Arcane Denial, Blazing Archon, Forbidden Orchard, Triumph of the Hordes
2026-02-10T21:38:58.053Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.053Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.053Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.053Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.053Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.053Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.053Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.053Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.053Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.053Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.053Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.053Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.053Z [nextStep]   Hand (8): Hour of Promise, Progenitor Mimic, Homeward Path, Declaration in Stone,Arcane Denial, Blazing Archon, Forbidden Orchard, Triumph of the Hordes
2026-02-10T21:38:58.053Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.053Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.053Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.053Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.053Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.053Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.053Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.053Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.053Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.053Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.054Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.054Z [nextStep]   Hand (8): Hour of Promise, Progenitor Mimic, Homeward Path, Declaration in Stone,Arcane Denial, Blazing Archon, Forbidden Orchard, Triumph of the Hordes
2026-02-10T21:38:58.054Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.054Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.054Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.054Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.054Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.054Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.054Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.054Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.054Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.054Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.054Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.054Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.054Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.054Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.054Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.054Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.055Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.055Z [nextStep]   Hand (7): Gruul Turf, Sidar Kondo of Jamuraa, Ghirapur Orrery, Sol Ring, Tempt with Discovery, Edric, Spymaster of Trest, Chromatic Lantern
2026-02-10T21:38:58.055Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.055Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.055Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.055Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.055Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.055Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.055Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.055Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.055Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.055Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.055Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.055Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.055Z [nextStep]   Hand (8): Gruul Turf, Sidar Kondo of Jamuraa, Ghirapur Orrery, Sol Ring, Tempt with Discovery, Edric, Spymaster of Trest, Chromatic Lantern, Mountain
2026-02-10T21:38:58.055Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.055Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.055Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.055Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.055Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.055Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.055Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.055Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.055Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.055Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.055Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.055Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Gruul Turf(Land), Sidar Kondo of Jamuraa(Legendary Creature ΓÇö), Ghirapur Orrery(Artifact)]
[canPlayLand] p_bnxazhz4: Found land in hand: Gruul Turf (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.055Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.055Z [nextStep]   Hand (8): Gruul Turf, Sidar Kondo of Jamuraa, Ghirapur Orrery, Sol Ring, Tempt with Discovery, Edric, Spymaster of Trest, Chromatic Lantern, Mountain
2026-02-10T21:38:58.055Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.055Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.056Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.056Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.056Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.056Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.056Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.056Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.056Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.056Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.056Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.056Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.056Z [nextStep]   Hand (8): Gruul Turf, Sidar Kondo of Jamuraa, Ghirapur Orrery, Sol Ring, Tempt with Discovery, Edric, Spymaster of Trest, Chromatic Lantern, Mountain
2026-02-10T21:38:58.056Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.056Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.056Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.056Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.056Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.056Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.056Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.056Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.056Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.056Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.056Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.056Z [nextStep]   Hand (8): Gruul Turf, Sidar Kondo of Jamuraa, Ghirapur Orrery, Sol Ring, Tempt with Discovery, Edric, Spymaster of Trest, Chromatic Lantern, Mountain
2026-02-10T21:38:58.056Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.056Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.056Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.057Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.057Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.057Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.057Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.057Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.057Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.057Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.057Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.057Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.057Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.057Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.057Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.057Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.057Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.057Z [nextStep]   Hand (7): Plains, Entrapment Maneuver, Seaside Citadel, Izzet Boilerworks, Psychosis Crawler, Forest, Exotic Orchard
2026-02-10T21:38:58.057Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.057Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.057Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.058Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.058Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.058Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.058Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.058Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.058Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.058Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.058Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.058Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.058Z [nextStep]   Hand (8): Plains, Entrapment Maneuver, Seaside Citadel, Izzet Boilerworks, Psychosis Crawler, Forest, Exotic Orchard, Command Tower
2026-02-10T21:38:58.058Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.058Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.058Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.058Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.058Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.058Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.058Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.058Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.058Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.058Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.058Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.058Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Entrapment Maneuver(Instant), Seaside Citadel(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.058Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.058Z [nextStep]   Hand (8): Plains, Entrapment Maneuver, Seaside Citadel, Izzet Boilerworks, Psychosis Crawler, Forest, Exotic Orchard, Command Tower
2026-02-10T21:38:58.058Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.058Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.058Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.058Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.058Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.058Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.058Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.058Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.058Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.058Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.058Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.059Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.059Z [nextStep]   Hand (8): Plains, Entrapment Maneuver, Seaside Citadel, Izzet Boilerworks, Psychosis Crawler, Forest, Exotic Orchard, Command Tower
2026-02-10T21:38:58.059Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.059Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.059Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.059Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.059Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.059Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.059Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.059Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.059Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.059Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.059Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.059Z [nextStep]   Hand (8): Plains, Entrapment Maneuver, Seaside Citadel, Izzet Boilerworks, Psychosis Crawler, Forest, Exotic Orchard, Command Tower
2026-02-10T21:38:58.059Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.059Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.059Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.059Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.060Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.060Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.060Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.060Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.060Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.060Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.060Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.060Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.060Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.060Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.060Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.060Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.060Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.060Z [nextStep]   Hand (7): Selfless Squire, Gruul Turf, Azorius Chancery, Gwafa Hazid, Profiteer, Island, Selvala, Explorer Returned, Plains
2026-02-10T21:38:58.060Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.060Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.060Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.060Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.060Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.060Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.060Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.060Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.060Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.060Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.060Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.060Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.060Z [nextStep]   Hand (8): Selfless Squire, Gruul Turf, Azorius Chancery, Gwafa Hazid, Profiteer, Island, Selvala, Explorer Returned, Plains, Cultivate
2026-02-10T21:38:58.060Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.060Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.060Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.060Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.060Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.060Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.060Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.060Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.060Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.060Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.060Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.060Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Selfless Squire(Creature ΓÇö Human Sol), Gruul Turf(Land), Azorius Chancery(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Gruul Turf (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.061Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.061Z [nextStep]   Hand (8): Selfless Squire, Gruul Turf, Azorius Chancery, Gwafa Hazid, Profiteer, Island, Selvala, Explorer Returned, Plains, Cultivate
2026-02-10T21:38:58.061Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.061Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.061Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.061Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.061Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.061Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.061Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.061Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.061Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.061Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.061Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.061Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.061Z [nextStep]   Hand (8): Selfless Squire, Gruul Turf, Azorius Chancery, Gwafa Hazid, Profiteer, Island, Selvala, Explorer Returned, Plains, Cultivate
2026-02-10T21:38:58.061Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.061Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.061Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.061Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.061Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.061Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.061Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.061Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.061Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.061Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.061Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.061Z [nextStep]   Hand (8): Selfless Squire, Gruul Turf, Azorius Chancery, Gwafa Hazid, Profiteer, Island, Selvala, Explorer Returned, Plains, Cultivate
2026-02-10T21:38:58.061Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.061Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.061Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.062Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.062Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.062Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.062Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.062Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.062Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.062Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.062Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.062Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.062Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.062Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.062Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.062Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.062Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.062Z [nextStep]   Hand (7): Bring to Light, Mountain, Island, Plains, Triumph of the Hordes, Rupture Spire, Telepathy
2026-02-10T21:38:58.062Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.062Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.062Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.063Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.063Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.063Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.063Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.063Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.063Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.063Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.063Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.063Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.063Z [nextStep]   Hand (8): Bring to Light, Mountain, Island, Plains, Triumph of the Hordes, Rupture Spire, Telepathy, Sol Ring
2026-02-10T21:38:58.063Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.063Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.063Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.063Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.063Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.063Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.063Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.063Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.063Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.063Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.063Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.063Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Bring to Light(Sorcery), Mountain(Basic Land ΓÇö Mountai), Island(Basic Land ΓÇö Island)]
[canPlayLand] p_bnxazhz4: Found land in hand: Mountain (Basic Land ΓÇö Mountain) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.063Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.063Z [nextStep]   Hand (8): Bring to Light, Mountain, Island, Plains, Triumph of the Hordes, Rupture Spire, Telepathy, Sol Ring
2026-02-10T21:38:58.063Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.063Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.063Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.063Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.063Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.063Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.063Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.063Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.063Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.063Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.063Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.064Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.064Z [nextStep]   Hand (8): Bring to Light, Mountain, Island, Plains, Triumph of the Hordes, Rupture Spire, Telepathy, Sol Ring
2026-02-10T21:38:58.064Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.064Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.064Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.064Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.064Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.064Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.064Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.064Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.064Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.064Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.064Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.064Z [nextStep]   Hand (8): Bring to Light, Mountain, Island, Plains, Triumph of the Hordes, Rupture Spire, Telepathy, Sol Ring
2026-02-10T21:38:58.064Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.064Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.064Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.064Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.064Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.064Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.064Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.064Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.064Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.065Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.065Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.065Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.065Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.065Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.065Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.065Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.065Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.065Z [nextStep]   Hand (7): Plains, Island, Temporal Mastery, Mountain, Tempt with Discovery, Forest, Selfless Squire
2026-02-10T21:38:58.065Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.065Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.065Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.065Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.065Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.065Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.065Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.065Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.065Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.065Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.065Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.065Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.065Z [nextStep]   Hand (8): Plains, Island, Temporal Mastery, Mountain, Tempt with Discovery, Forest, Selfless Squire, Island
2026-02-10T21:38:58.065Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.065Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.065Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.065Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.065Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.065Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.065Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.065Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.065Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.065Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.065Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.065Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Island(Basic Land ΓÇö Island), TemporalMastery(Sorcery)]
[canPlayLand] p_bnxazhz4: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.065Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.065Z [nextStep]   Hand (8): Plains, Island, Temporal Mastery, Mountain, Tempt with Discovery, Forest, Selfless Squire, Island
2026-02-10T21:38:58.065Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.065Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.065Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.066Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.066Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.066Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.066Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.066Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.066Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.066Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.066Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.066Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.066Z [nextStep]   Hand (8): Plains, Island, Temporal Mastery, Mountain, Tempt with Discovery, Forest, Selfless Squire, Island
2026-02-10T21:38:58.066Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.066Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.066Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.066Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.066Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.066Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.066Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.066Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.066Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.066Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.066Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.066Z [nextStep]   Hand (8): Plains, Island, Temporal Mastery, Mountain, Tempt with Discovery, Forest, Selfless Squire, Island
2026-02-10T21:38:58.066Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.066Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.066Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.067Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.067Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.067Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.067Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.067Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.067Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.067Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.067Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.067Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.067Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.067Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.067Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.067Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.067Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.067Z [nextStep]   Hand (7): Cultivate, Fog, Humble Defector, Beast Within, Edric, Spymaster of Trest, Homeward Path, Arcane Denial
2026-02-10T21:38:58.067Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.067Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.067Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.067Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.067Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.067Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.067Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.067Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.067Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.068Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.068Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.068Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.068Z [nextStep]   Hand (8): Cultivate, Fog, Humble Defector, Beast Within, Edric, Spymaster of Trest, Homeward Path, Arcane Denial, Mountain
2026-02-10T21:38:58.068Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.068Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.068Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.068Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.068Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.068Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.068Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.068Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.068Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.068Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.068Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.068Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Cultivate(Sorcery), Fog(Instant), Humble Defector(Creature ΓÇö Human Rog)]
[canPlayLand] p_bnxazhz4: Found land in hand: Homeward Path (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.068Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.068Z [nextStep]   Hand (8): Cultivate, Fog, Humble Defector, Beast Within, Edric, Spymaster of Trest, Homeward Path, Arcane Denial, Mountain
2026-02-10T21:38:58.068Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.068Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.068Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.068Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.068Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.068Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.068Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.068Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.068Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.068Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.068Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.068Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.068Z [nextStep]   Hand (8): Cultivate, Fog, Humble Defector, Beast Within, Edric, Spymaster of Trest, Homeward Path, Arcane Denial, Mountain
2026-02-10T21:38:58.069Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.069Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.069Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.069Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.069Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.069Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.069Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.069Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.069Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.069Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.069Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.069Z [nextStep]   Hand (7): Cultivate, Fog, Humble Defector, Beast Within, Edric, Spymaster of Trest, Homeward Path, Arcane Denial
2026-02-10T21:38:58.069Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.069Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.069Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.070Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.070Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.070Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.070Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.070Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.070Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.070Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.070Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.070Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.070Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.070Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.070Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.070Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.070Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.070Z [nextStep]   Hand (7): Island, Rogue's Passage, Temple Bell, Kodama's Reach, Orzhov Advokist, Ghostly Prison, Collective Restraint
2026-02-10T21:38:58.070Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.070Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.070Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.070Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.070Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.070Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.070Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.070Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.070Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.070Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.070Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.070Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.070Z [nextStep]   Hand (8): Island, Rogue's Passage, Temple Bell, Kodama's Reach, Orzhov Advokist, Ghostly Prison, Collective Restraint, Summary Dismissal
2026-02-10T21:38:58.070Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.070Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.070Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.071Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.071Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.071Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.071Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.071Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.071Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.071Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.071Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.071Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Island(Basic Land ΓÇö Island), Rogue's Passage(Land), Temple Bell(Artifact)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.071Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.071Z [nextStep]   Hand (8): Island, Rogue's Passage, Temple Bell, Kodama's Reach, Orzhov Advokist, Ghostly Prison, Collective Restraint, Summary Dismissal
2026-02-10T21:38:58.071Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.071Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.071Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.071Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.071Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.071Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.071Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.071Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.071Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.071Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.071Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.071Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.071Z [nextStep]   Hand (8): Island, Rogue's Passage, Temple Bell, Kodama's Reach, Orzhov Advokist, Ghostly Prison, Collective Restraint, Summary Dismissal
2026-02-10T21:38:58.072Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.072Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.072Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.072Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.072Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.072Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.072Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.072Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.072Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.072Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.072Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.072Z [nextStep]   Hand (8): Island, Rogue's Passage, Temple Bell, Kodama's Reach, Orzhov Advokist, Ghostly Prison, Collective Restraint, Summary Dismissal
2026-02-10T21:38:58.072Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.072Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.072Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.073Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.073Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.073Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.073Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.073Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.073Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.073Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.073Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.073Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.073Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.073Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.073Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.073Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.073Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.073Z [nextStep]   Hand (7): Island, Sidar Kondo of Jamuraa, Mountain, Selfless Squire, Hour of Promise, Seeds of Renewal, Kami of the Crescent Moon
2026-02-10T21:38:58.073Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.073Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.073Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.074Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.074Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.074Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.074Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.074Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.074Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.074Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.074Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.074Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.074Z [nextStep]   Hand (8): Island, Sidar Kondo of Jamuraa, Mountain, Selfless Squire, Hour of Promise, Seeds of Renewal, Kami of the Crescent Moon, Rupture Spire
2026-02-10T21:38:58.074Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.074Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.074Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.074Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.074Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.074Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.074Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.074Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.074Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.074Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.074Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.074Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Island(Basic Land ΓÇö Island), Sidar Kondo of Jamuraa(Legendary Creature ΓÇö), Mountain(Basic Land ΓÇö Mountai)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.074Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.074Z [nextStep]   Hand (8): Island, Sidar Kondo of Jamuraa, Mountain, Selfless Squire, Hour of Promise, Seeds of Renewal, Kami of the Crescent Moon, Rupture Spire
2026-02-10T21:38:58.074Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.074Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.074Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.074Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.074Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.074Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.074Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.074Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.074Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.074Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.074Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.075Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.075Z [nextStep]   Hand (8): Island, Sidar Kondo of Jamuraa, Mountain, Selfless Squire, Hour of Promise, Seeds of Renewal, Kami of the Crescent Moon, Rupture Spire
2026-02-10T21:38:58.075Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.075Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.075Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.075Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.075Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.075Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.075Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.075Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.075Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.075Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.075Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.075Z [nextStep]   Hand (8): Island, Sidar Kondo of Jamuraa, Mountain, Selfless Squire, Hour of Promise, Seeds of Renewal, Kami of the Crescent Moon, Rupture Spire
2026-02-10T21:38:58.075Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.075Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.075Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.076Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.076Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.076Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.076Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.076Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.076Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.076Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.076Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.076Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.076Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.076Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.076Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.076Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.076Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.076Z [nextStep]   Hand (7): Evacuation, Island, Selvala, Explorer Returned, Entrapment Maneuver, Temporal Mastery, Sphere of Safety, Chromatic Lantern
2026-02-10T21:38:58.076Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.076Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.076Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.076Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.076Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.076Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.076Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.076Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.076Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.076Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.076Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.076Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.076Z [nextStep]   Hand (8): Evacuation, Island, Selvala, Explorer Returned, Entrapment Maneuver, Temporal Mastery, Sphere of Safety, Chromatic Lantern, Kraum, Ludevic's Opus
2026-02-10T21:38:58.076Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.076Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.076Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.076Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.076Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.076Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.076Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.076Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.076Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.076Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.076Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.076Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Evacuation(Instant), Island(Basic Land ΓÇö Island), Selvala, Explorer Returned(Legendary Creature ΓÇö)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.077Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.077Z [nextStep]   Hand (8): Evacuation, Island, Selvala, Explorer Returned, Entrapment Maneuver, Temporal Mastery, Sphere of Safety, Chromatic Lantern, Kraum, Ludevic's Opus
2026-02-10T21:38:58.077Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.077Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.077Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.077Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.077Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.077Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.077Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.077Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.077Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.077Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.077Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.077Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.077Z [nextStep]   Hand (8): Evacuation, Island, Selvala, Explorer Returned, Entrapment Maneuver, Temporal Mastery, Sphere of Safety, Chromatic Lantern, Kraum, Ludevic's Opus
2026-02-10T21:38:58.077Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.077Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.077Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.077Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.077Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.077Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.077Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.077Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.077Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.077Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.077Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.077Z [nextStep]   Hand (8): Evacuation, Island, Selvala, Explorer Returned, Entrapment Maneuver, Temporal Mastery, Sphere of Safety, Chromatic Lantern, Kraum, Ludevic's Opus
2026-02-10T21:38:58.077Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.077Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.077Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.078Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.078Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.078Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.078Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.078Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.078Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.078Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.078Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.078Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.078Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.078Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.078Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.078Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.079Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.079Z [nextStep]   Hand (7): Ghostly Prison, Blasphemous Act, Kami of the Crescent Moon, Homeward Path, Font of Mythos, Venser's Journal, Reverse the Sands
2026-02-10T21:38:58.079Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.079Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.079Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.079Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.079Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.079Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.079Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.079Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.079Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.079Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.079Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.079Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.079Z [nextStep]   Hand (8): Ghostly Prison, Blasphemous Act, Kami of the Crescent Moon, Homeward Path, Font of Mythos, Venser's Journal, Reverse the Sands, Cultivate
2026-02-10T21:38:58.079Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.079Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.079Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.079Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.079Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.079Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.079Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.079Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.079Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.079Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.079Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.079Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Ghostly Prison(Enchantment), Blasphemous Act(Sorcery), Kami of the Crescent Moon(Legendary Creature ΓÇö)]
[canPlayLand] p_bnxazhz4: Found land in hand: Homeward Path (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.079Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.079Z [nextStep]   Hand (8): Ghostly Prison, Blasphemous Act, Kami of the Crescent Moon, Homeward Path, Font of Mythos, Venser's Journal, Reverse the Sands, Cultivate
2026-02-10T21:38:58.079Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.079Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.079Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.080Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.080Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.080Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.080Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.080Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.080Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.080Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.080Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.080Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.080Z [nextStep]   Hand (8): Ghostly Prison, Blasphemous Act, Kami of the Crescent Moon, Homeward Path, Font of Mythos, Venser's Journal, Reverse the Sands, Cultivate
2026-02-10T21:38:58.080Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.080Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.080Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.080Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.080Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.080Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.080Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.080Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.080Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.080Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.080Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.080Z [nextStep]   Hand (8): Ghostly Prison, Blasphemous Act, Kami of the Crescent Moon, Homeward Path, Font of Mythos, Venser's Journal, Reverse the Sands, Cultivate
2026-02-10T21:38:58.080Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.080Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.080Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.081Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.081Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.081Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.081Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.081Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.081Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.081Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.081Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.081Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.081Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.081Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.081Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.081Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.081Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.081Z [nextStep]   Hand (7): Kraum, Ludevic's Opus, Sidar Kondo of Jamuraa, Blasphemous Act, Mountain, Mountain, Chromatic Lantern, Rites of Flourishing
2026-02-10T21:38:58.081Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.081Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.081Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.081Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.081Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.081Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.081Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.081Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.081Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.081Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.081Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.081Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.081Z [nextStep]   Hand (8): Kraum, Ludevic's Opus, Sidar Kondo of Jamuraa, Blasphemous Act, Mountain, Mountain, Chromatic Lantern, Rites of Flourishing, Font of Mythos
2026-02-10T21:38:58.081Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.081Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.081Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.082Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.082Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.082Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.082Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.082Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.082Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.082Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.082Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.082Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Kraum, Ludevic's Opus(Legendary Creature ΓÇö), Sidar Kondo of Jamuraa(Legendary Creature ΓÇö), Blasphemous Act(Sorcery)]
[canPlayLand] p_bnxazhz4: Found land in hand: Mountain (Basic Land ΓÇö Mountain) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.082Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.082Z [nextStep]   Hand (8): Kraum, Ludevic's Opus, Sidar Kondo of Jamuraa, Blasphemous Act, Mountain, Mountain, Chromatic Lantern, Rites of Flourishing, Font of Mythos
2026-02-10T21:38:58.082Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.082Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.082Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.082Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.082Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.082Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.082Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.082Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.082Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.082Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.082Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.082Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.082Z [nextStep]   Hand (8): Kraum, Ludevic's Opus, Sidar Kondo of Jamuraa, Blasphemous Act, Mountain, Mountain, Chromatic Lantern, Rites of Flourishing, Font of Mythos
2026-02-10T21:38:58.082Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.082Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.082Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.083Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.083Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.083Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.083Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.083Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.083Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.083Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.083Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.083Z [nextStep]   Hand (7): Kraum, Ludevic's Opus, Sidar Kondo of Jamuraa, Blasphemous Act, Mountain, Chromatic Lantern, Rites of Flourishing, Font of Mythos
2026-02-10T21:38:58.083Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.083Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.083Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.083Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.083Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.083Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.083Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.083Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.083Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.084Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.084Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.084Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.084Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.084Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.084Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.084Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.084Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.084Z [nextStep]   Hand (7): Telepathy, Chromatic Lantern, Kraum, Ludevic's Opus, Ghirapur Orrery, Elixir of Immortality, Beast Within, Declaration in Stone
2026-02-10T21:38:58.084Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.084Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.084Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.084Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.084Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.084Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.084Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.084Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.084Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.084Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.084Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.084Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.084Z [nextStep]   Hand (8): Telepathy, Chromatic Lantern, Kraum, Ludevic's Opus, Ghirapur Orrery, Elixir of Immortality, Beast Within, Declaration in Stone, Mountain
2026-02-10T21:38:58.084Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.084Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.084Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.084Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.084Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.084Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.084Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.084Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.084Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.084Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.084Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.084Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Telepathy(Enchantment), Chromatic Lantern(Artifact), Kraum, Ludevic's Opus(Legendary Creature ΓÇö)]
[canPlayLand] p_bnxazhz4: Found land in hand: Mountain (Basic Land ΓÇö Mountain) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.084Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.084Z [nextStep]   Hand (8): Telepathy, Chromatic Lantern, Kraum, Ludevic's Opus, Ghirapur Orrery, Elixir of Immortality, Beast Within, Declaration in Stone, Mountain
2026-02-10T21:38:58.084Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.084Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.084Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.085Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.085Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.085Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.085Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.085Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.085Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.085Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.085Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.085Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.085Z [nextStep]   Hand (8): Telepathy, Chromatic Lantern, Kraum, Ludevic's Opus, Ghirapur Orrery, Elixir of Immortality, Beast Within, Declaration in Stone, Mountain
2026-02-10T21:38:58.085Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.085Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.085Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.085Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.085Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.085Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.085Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.085Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.085Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.085Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.085Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.085Z [nextStep]   Hand (8): Telepathy, Chromatic Lantern, Kraum, Ludevic's Opus, Ghirapur Orrery, Elixir of Immortality, Beast Within, Declaration in Stone, Mountain
2026-02-10T21:38:58.085Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.085Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.085Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.086Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.086Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.086Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.086Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.086Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.086Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.086Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.086Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.086Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.086Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.086Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.086Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.086Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.086Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.086Z [nextStep]   Hand (7): Commander's Sphere, Mountain, Forest, Island, Minds Aglow, Norn's Annex, Treacherous Terrain
2026-02-10T21:38:58.086Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.086Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.086Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.087Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.087Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.087Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.087Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.087Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.087Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.087Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.087Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.087Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.087Z [nextStep]   Hand (8): Commander's Sphere, Mountain, Forest, Island, Minds Aglow, Norn's Annex, Treacherous Terrain, Tempt with Discovery
2026-02-10T21:38:58.087Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.087Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.087Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.087Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.087Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.087Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.087Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.087Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.087Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.087Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.087Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.087Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Commander's Sphere(Artifact), Mountain(Basic Land ΓÇö Mountai), Forest(Basic Land ΓÇö Forest)]
[canPlayLand] p_bnxazhz4: Found land in hand: Mountain (Basic Land ΓÇö Mountain) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.087Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.087Z [nextStep]   Hand (8): Commander's Sphere, Mountain, Forest, Island, Minds Aglow, Norn's Annex, Treacherous Terrain, Tempt with Discovery
2026-02-10T21:38:58.087Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.087Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.087Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.088Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.088Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.088Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.088Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.088Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.088Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.088Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.088Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.088Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.088Z [nextStep]   Hand (8): Commander's Sphere, Mountain, Forest, Island, Minds Aglow, Norn's Annex, Treacherous Terrain, Tempt with Discovery
2026-02-10T21:38:58.088Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.088Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.088Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.088Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.088Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.088Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.088Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.088Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.088Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.088Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.088Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.088Z [nextStep]   Hand (8): Commander's Sphere, Mountain, Forest, Island, Minds Aglow, Norn's Annex, Treacherous Terrain, Tempt with Discovery
2026-02-10T21:38:58.088Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.088Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.088Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.089Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.089Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.089Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.089Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.089Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.089Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.089Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.089Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.089Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.089Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.089Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.089Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.089Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.089Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.089Z [nextStep]   Hand (7): Plains, Elixir of Immortality, Island, Mountain, Temple Bell, Temporal Mastery, Beast Within
2026-02-10T21:38:58.089Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.089Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.089Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.089Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.089Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.089Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.089Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.089Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.089Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.089Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.089Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.090Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.090Z [nextStep]   Hand (8): Plains, Elixir of Immortality, Island, Mountain, Temple Bell, Temporal Mastery, Beast Within, Rites of Flourishing
2026-02-10T21:38:58.090Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.090Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.090Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.090Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.090Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.090Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.090Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.090Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.090Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.090Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.090Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.090Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Plains(Basic Land ΓÇö Plains), Elixir of Immortality(Artifact), Island(Basic Land ΓÇö Island)]
[canPlayLand] p_bnxazhz4: Found land in hand: Plains (Basic Land ΓÇö Plains) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.090Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.090Z [nextStep]   Hand (8): Plains, Elixir of Immortality, Island, Mountain, Temple Bell, Temporal Mastery, Beast Within, Rites of Flourishing
2026-02-10T21:38:58.090Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.090Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.090Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.090Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.090Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.090Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.090Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.090Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.090Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.090Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.090Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.090Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.090Z [nextStep]   Hand (8): Plains, Elixir of Immortality, Island, Mountain, Temple Bell, Temporal Mastery, Beast Within, Rites of Flourishing
2026-02-10T21:38:58.090Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.090Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.090Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.091Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.091Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.091Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.091Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.091Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.091Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.091Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.091Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.091Z [nextStep]   Hand (8): Plains, Elixir of Immortality, Island, Mountain, Temple Bell, Temporal Mastery, Beast Within, Rites of Flourishing
2026-02-10T21:38:58.091Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.091Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.091Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.091Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.091Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.091Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.091Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.091Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.091Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.092Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.092Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.092Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.092Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.092Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.092Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.092Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.092Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.092Z [nextStep]   Hand (7): Commander's Sphere, Rites of Flourishing, Frontier Bivouac, Horizon Chimera, Forest, Kraum, Ludevic's Opus, Transguild Promenade
2026-02-10T21:38:58.092Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.092Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.092Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.092Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.092Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.092Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.092Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.092Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.092Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.092Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.092Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.092Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.092Z [nextStep]   Hand (8): Commander's Sphere, Rites of Flourishing, Frontier Bivouac, Horizon Chimera, Forest, Kraum, Ludevic's Opus, Transguild Promenade, Izzet Boilerworks
2026-02-10T21:38:58.092Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.092Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.092Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.092Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.092Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.092Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.092Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.092Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.092Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.092Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.092Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.092Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Commander's Sphere(Artifact), Rites of Flourishing(Enchantment), Frontier Bivouac(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Frontier Bivouac (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.092Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.092Z [nextStep]   Hand (8): Commander's Sphere, Rites of Flourishing, Frontier Bivouac, Horizon Chimera, Forest, Kraum, Ludevic's Opus, Transguild Promenade, Izzet Boilerworks
2026-02-10T21:38:58.092Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.092Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.092Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.093Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.093Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.093Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.093Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.093Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.093Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.093Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.093Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.093Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.093Z [nextStep]   Hand (8): Commander's Sphere, Rites of Flourishing, Frontier Bivouac, Horizon Chimera, Forest, Kraum, Ludevic's Opus, Transguild Promenade, Izzet Boilerworks
2026-02-10T21:38:58.093Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.093Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.093Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.093Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.093Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.093Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.093Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.093Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.093Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.093Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.093Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.093Z [nextStep]   Hand (8): Commander's Sphere, Rites of Flourishing, Frontier Bivouac, Horizon Chimera, Forest, Kraum, Ludevic's Opus, Transguild Promenade, Izzet Boilerworks
2026-02-10T21:38:58.093Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.093Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.093Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.094Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.094Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.094Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.094Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.094Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.094Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.094Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.094Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.094Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.094Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.094Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.094Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.094Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.094Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.094Z [nextStep]   Hand (7): Reverse the Sands, Gruul Turf, Plains, Norn's Annex, Simic Growth Chamber, Transguild Promenade, Arcane Denial
2026-02-10T21:38:58.094Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.094Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.094Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.095Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.095Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.095Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.095Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.095Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.095Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.095Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.095Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.095Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.095Z [nextStep]   Hand (8): Reverse the Sands, Gruul Turf, Plains, Norn's Annex, Simic Growth Chamber, Transguild Promenade, Arcane Denial, Island
2026-02-10T21:38:58.095Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.095Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.095Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.095Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.095Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.095Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.095Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.095Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.095Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.095Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.095Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.095Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Reverse the Sands(Sorcery), Gruul Turf(Land), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_bnxazhz4: Found land in hand: Gruul Turf (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.095Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.095Z [nextStep]   Hand (8): Reverse the Sands, Gruul Turf, Plains, Norn's Annex, Simic Growth Chamber, Transguild Promenade, Arcane Denial, Island
2026-02-10T21:38:58.095Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.095Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.095Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.095Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.095Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.095Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.095Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.095Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.095Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.095Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.096Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.096Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.096Z [nextStep]   Hand (8): Reverse the Sands, Gruul Turf, Plains, Norn's Annex, Simic Growth Chamber, Transguild Promenade, Arcane Denial, Island
2026-02-10T21:38:58.096Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.096Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.096Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.096Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.096Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.096Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.096Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.096Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.096Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.096Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.096Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.096Z [nextStep]   Hand (8): Reverse the Sands, Gruul Turf, Plains, Norn's Annex, Simic Growth Chamber, Transguild Promenade, Arcane Denial, Island
2026-02-10T21:38:58.096Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.096Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.096Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.097Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.097Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.097Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.097Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.097Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.097Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.097Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.097Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.097Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.097Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.097Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.097Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.097Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.097Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.097Z [nextStep]   Hand (7): Sylvan Reclamation, Azorius Chancery, Island, Hour of Promise, FrontierBivouac, Humble Defector, Plains
2026-02-10T21:38:58.097Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.097Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.097Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.097Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.097Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.097Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.097Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.097Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.097Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.097Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.097Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.097Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.097Z [nextStep]   Hand (8): Sylvan Reclamation, Azorius Chancery, Island, Hour of Promise, FrontierBivouac, Humble Defector, Plains, Norn's Annex
2026-02-10T21:38:58.097Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.097Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.097Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.097Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.097Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.097Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.097Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.097Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.097Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.097Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.097Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.097Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Sylvan Reclamation(Instant), Azorius Chancery(Land), Island(Basic LandΓÇö Island)]
[canPlayLand] p_bnxazhz4: Found land in hand: Azorius Chancery (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.097Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.097Z [nextStep]   Hand (8): Sylvan Reclamation, Azorius Chancery, Island, Hour of Promise, FrontierBivouac, Humble Defector, Plains, Norn's Annex
2026-02-10T21:38:58.097Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.097Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.098Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.098Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.098Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.098Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.098Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.098Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.098Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.098Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.098Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.098Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.098Z [nextStep]   Hand (8): Sylvan Reclamation, Azorius Chancery, Island, Hour of Promise, FrontierBivouac, Humble Defector, Plains, Norn's Annex
2026-02-10T21:38:58.098Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.098Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.098Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.098Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.098Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.098Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.098Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.098Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.098Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.098Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.098Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.098Z [nextStep]   Hand (8): Sylvan Reclamation, Azorius Chancery, Island, Hour of Promise, FrontierBivouac, Humble Defector, Plains, Norn's Annex
2026-02-10T21:38:58.098Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.098Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.098Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.099Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.099Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.099Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.099Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.099Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.099Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.099Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.099Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.099Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.099Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.099Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.099Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.099Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.099Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.099Z [nextStep]   Hand (7): Blasphemous Act, Humble Defector, Soul Conduit, Triumph of the Hordes, Island, Swords to Plowshares, Declaration in Stone
2026-02-10T21:38:58.099Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.099Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.100Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.100Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.100Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.100Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.100Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.100Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.100Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.100Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.100Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.100Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.100Z [nextStep]   Hand (8): Blasphemous Act, Humble Defector, Soul Conduit, Triumph of the Hordes, Island, Swords to Plowshares, Declaration in Stone, Sidar Kondo of Jamuraa
2026-02-10T21:38:58.100Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.100Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.100Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.100Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.100Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.100Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.100Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.100Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.100Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.100Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.100Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.100Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Blasphemous Act(Sorcery), Humble Defector(Creature ΓÇö Human Rog), Soul Conduit(Artifact)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.100Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.100Z [nextStep]   Hand (8): Blasphemous Act, Humble Defector, Soul Conduit, Triumph of the Hordes, Island, Swords to Plowshares, Declaration in Stone, Sidar Kondo of Jamuraa
2026-02-10T21:38:58.100Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.100Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.100Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.100Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.101Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.101Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.101Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.101Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.101Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.101Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.101Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.101Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.101Z [nextStep]   Hand (8): Blasphemous Act, Humble Defector, Soul Conduit, Triumph of the Hordes, Island, Swords to Plowshares, Declaration in Stone, Sidar Kondo of Jamuraa
2026-02-10T21:38:58.101Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.101Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.101Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.101Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.101Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.101Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.101Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.101Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.101Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.101Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.101Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.101Z [nextStep]   Hand (8): Blasphemous Act, Humble Defector, Soul Conduit, Triumph of the Hordes, Island, Swords to Plowshares, Declaration in Stone, Sidar Kondo of Jamuraa
2026-02-10T21:38:58.101Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.101Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.101Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.102Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.102Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.102Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.102Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.102Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.102Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.102Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.102Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.102Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.102Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.102Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.102Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.102Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.102Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.102Z [nextStep]   Hand (7): Selesnya Sanctuary, Enchanted Evening, Plains, Seeds of Renewal, Transguild Promenade, Font of Mythos, Beast Within
2026-02-10T21:38:58.102Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.102Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.102Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.102Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.102Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.102Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.102Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.102Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.102Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.102Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.102Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.102Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.102Z [nextStep]   Hand (8): Selesnya Sanctuary, Enchanted Evening, Plains, Seeds of Renewal, Transguild Promenade, Font of Mythos, Beast Within, Reliquary Tower
2026-02-10T21:38:58.102Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.102Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.102Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.102Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.102Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.102Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.102Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.102Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.102Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.102Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.102Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.102Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Selesnya Sanctuary(Land), Enchanted Evening(Enchantment), Plains(BasicLand ΓÇö Plains)]
[canPlayLand] p_bnxazhz4: Found land in hand: Selesnya Sanctuary (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.103Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.103Z [nextStep]   Hand (8): Selesnya Sanctuary, Enchanted Evening, Plains, Seeds of Renewal, Transguild Promenade, Font of Mythos, Beast Within, Reliquary Tower
2026-02-10T21:38:58.103Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.103Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.103Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.103Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.103Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.103Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.103Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.103Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.103Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.103Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.103Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.103Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.103Z [nextStep]   Hand (8): Selesnya Sanctuary, Enchanted Evening, Plains, Seeds of Renewal, Transguild Promenade, Font of Mythos, Beast Within, Reliquary Tower
2026-02-10T21:38:58.103Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.103Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.103Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.103Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.103Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.103Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.103Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.103Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.103Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.103Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.103Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.103Z [nextStep]   Hand (8): Selesnya Sanctuary, Enchanted Evening, Plains, Seeds of Renewal, Transguild Promenade, Font of Mythos, Beast Within, Reliquary Tower
2026-02-10T21:38:58.103Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.103Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.103Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.104Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.104Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.104Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.104Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.104Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.104Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.104Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.104Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.104Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.104Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.104Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.104Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.104Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.104Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.104Z [nextStep]   Hand (7): Selfless Squire, Plains, Cultivate, Seaside Citadel, Sunhome, Fortress of the Legion, Mountain, Howling Mine
2026-02-10T21:38:58.104Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.104Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.104Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.105Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.105Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.105Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.105Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.105Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.105Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.105Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.105Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.105Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.105Z [nextStep]   Hand (8): Selfless Squire, Plains, Cultivate, Seaside Citadel, Sunhome, Fortress of the Legion, Mountain, Howling Mine, Forest
2026-02-10T21:38:58.105Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.105Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.105Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.105Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.105Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.105Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.105Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.105Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.105Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.105Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.105Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.105Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.105Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.105Z [nextStep]   Hand (7): Selfless Squire, Plains, Cultivate, Seaside Citadel, Mountain, Howling Mine, Forest
2026-02-10T21:38:58.105Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.105Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.105Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.106Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.106Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.106Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.106Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.106Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.106Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.106Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.106Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.106Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.106Z [nextStep]   Hand (7): Selfless Squire, Plains, Cultivate, Seaside Citadel, Mountain, Howling Mine, Forest
2026-02-10T21:38:58.106Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.106Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.106Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.106Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.106Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.106Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.106Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.106Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.106Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.106Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.106Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.106Z [nextStep]   Hand (7): Selfless Squire, Plains, Cultivate, Seaside Citadel, Mountain, Howling Mine, Forest
2026-02-10T21:38:58.106Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.106Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.106Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.107Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.107Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.107Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.107Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.107Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.107Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.107Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.107Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.107Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.107Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.107Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.107Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.107Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.107Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.107Z [nextStep]   Hand (7): Jungle Shrine, Forest, Gruul Turf, Tempt with Discovery, Enchanted Evening, Selvala, Explorer Returned, Selesnya Sanctuary
2026-02-10T21:38:58.107Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.107Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.107Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.107Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.107Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.107Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.107Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.107Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.107Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.108Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.108Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.108Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.108Z [nextStep]   Hand (8): Jungle Shrine, Forest, Gruul Turf, Tempt with Discovery, Enchanted Evening, Selvala, Explorer Returned, Selesnya Sanctuary, Reliquary Tower
2026-02-10T21:38:58.108Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.108Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.108Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.108Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.108Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.108Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.108Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.108Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.108Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.108Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.108Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.108Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Jungle Shrine(Land), Forest(Basic Land ΓÇö Forest), Gruul Turf(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Jungle Shrine (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.108Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.108Z [nextStep]   Hand (8): Jungle Shrine, Forest, Gruul Turf, Tempt with Discovery, Enchanted Evening, Selvala, Explorer Returned, Selesnya Sanctuary, Reliquary Tower
2026-02-10T21:38:58.108Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.108Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.108Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.108Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.108Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.108Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.108Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.108Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.108Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.108Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.108Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.108Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.108Z [nextStep]   Hand (8): Jungle Shrine, Forest, Gruul Turf, Tempt with Discovery, Enchanted Evening, Selvala, Explorer Returned, Selesnya Sanctuary, Reliquary Tower
2026-02-10T21:38:58.108Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.108Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.108Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.109Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.109Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.109Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.109Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.109Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.109Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.109Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.109Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.109Z [nextStep]   Hand (8): Jungle Shrine, Forest, Gruul Turf, Tempt with Discovery, Enchanted Evening, Selvala, Explorer Returned, Selesnya Sanctuary, Reliquary Tower
2026-02-10T21:38:58.109Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.109Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.109Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.109Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.109Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.109Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.109Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.109Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.109Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.110Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.110Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.110Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.110Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.110Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.110Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.110Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.110Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.110Z [nextStep]   Hand (7): Reins of Power, Howling Mine, Forest, Sunhome, Fortress of the Legion, Rites of Flourishing, Telepathy, Selfless Squire
2026-02-10T21:38:58.110Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.110Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.110Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.110Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.110Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.110Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.110Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.110Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.110Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.110Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.110Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.110Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.110Z [nextStep]   Hand (8): Reins of Power, Howling Mine, Forest, Sunhome, Fortress of the Legion, Rites of Flourishing, Telepathy, Selfless Squire, Summary Dismissal
2026-02-10T21:38:58.110Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.110Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.110Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.110Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.110Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.110Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.110Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.110Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.110Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.110Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.110Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.110Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.112Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.112Z [nextStep]   Hand (7): Reins of Power, Howling Mine, Forest, Rites of Flourishing, Telepathy, Selfless Squire, Summary Dismissal
2026-02-10T21:38:58.112Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.112Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.112Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.112Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.112Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.112Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.112Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.112Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.112Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.112Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.112Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.112Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.112Z [nextStep]   Hand (7): Reins of Power, Howling Mine, Forest, Rites of Flourishing, Telepathy, Selfless Squire, Summary Dismissal
2026-02-10T21:38:58.112Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.112Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.113Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.113Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.113Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.113Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.113Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.113Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.113Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.113Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.113Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.113Z [nextStep]   Hand (7): Reins of Power, Howling Mine, Forest, Rites of Flourishing, Telepathy, Selfless Squire, Summary Dismissal
2026-02-10T21:38:58.113Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.113Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.113Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.114Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.114Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.114Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.114Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.114Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.114Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.114Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.114Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.114Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.114Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.114Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.114Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.114Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.114Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.114Z [nextStep]   Hand (7): Forest, Minds Aglow, Sunhome, Fortress of the Legion, Island, Selvala, Explorer Returned, Rites of Flourishing, Elixir of Immortality
2026-02-10T21:38:58.114Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.114Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.114Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.114Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.114Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.114Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.114Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.114Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.114Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.114Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.114Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.114Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.114Z [nextStep]   Hand (8): Forest, Minds Aglow, Sunhome, Fortress of the Legion, Island, Selvala, Explorer Returned, Rites of Flourishing, Elixir of Immortality, Swords to Plowshares
2026-02-10T21:38:58.114Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.114Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.114Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.115Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.115Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.115Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.115Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.115Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.115Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.115Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.115Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.115Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: Can cast sorcery-speed spell - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.115Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.115Z [nextStep]   Hand (7): Forest, Minds Aglow, Island, Selvala, Explorer Returned, Rites of Flourishing, Elixir of Immortality, Swords to Plowshares
2026-02-10T21:38:58.115Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.115Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.115Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.115Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.115Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.115Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.115Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.115Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.115Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.115Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.115Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.116Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.116Z [nextStep]   Hand (7): Forest, Minds Aglow, Island, Selvala, Explorer Returned, Rites of Flourishing, Elixir of Immortality, Swords to Plowshares
2026-02-10T21:38:58.116Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.116Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.116Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.116Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.116Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.116Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.116Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.116Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.116Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.116Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.116Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.116Z [nextStep]   Hand (7): Forest, Minds Aglow, Island, Selvala, Explorer Returned, Rites of Flourishing, Elixir of Immortality, Swords to Plowshares
2026-02-10T21:38:58.116Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.116Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.116Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.117Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.117Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.117Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.117Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.117Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.117Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.117Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.117Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.117Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.117Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.117Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.117Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.117Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.117Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.117Z [nextStep]   Hand (7): Transguild Promenade, Humble Defector, Forest, Seaside Citadel, Simic Growth Chamber, Soul Conduit, Ghostly Prison
2026-02-10T21:38:58.117Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.117Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.117Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.117Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.117Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.117Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.117Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.117Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.117Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.117Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.117Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.117Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.117Z [nextStep]   Hand (8): Transguild Promenade, Humble Defector, Forest, Seaside Citadel, Simic Growth Chamber, Soul Conduit, Ghostly Prison, Enchanted Evening
2026-02-10T21:38:58.118Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.118Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.118Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.118Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.118Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.118Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.118Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.118Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.118Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.118Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.118Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.118Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Transguild Promenade(Land), Humble Defector(Creature ΓÇö Human Rog), Forest(Basic Land ΓÇö Forest)]
[canPlayLand] p_bnxazhz4: Found land in hand: Transguild Promenade (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.118Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.118Z [nextStep]   Hand (8): Transguild Promenade, Humble Defector, Forest, Seaside Citadel, Simic Growth Chamber, Soul Conduit, Ghostly Prison, Enchanted Evening
2026-02-10T21:38:58.118Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.118Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.118Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.118Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.118Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.118Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.118Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.118Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.118Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.118Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.118Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.118Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.118Z [nextStep]   Hand (8): Transguild Promenade, Humble Defector, Forest, Seaside Citadel, Simic Growth Chamber, Soul Conduit, Ghostly Prison, Enchanted Evening
2026-02-10T21:38:58.118Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.118Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.118Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.118Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.118Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.118Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.118Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.118Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.118Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.118Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.118Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.118Z [nextStep]   Hand (8): Transguild Promenade, Humble Defector, Forest, Seaside Citadel, Simic Growth Chamber, Soul Conduit, Ghostly Prison, Enchanted Evening
2026-02-10T21:38:58.119Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.119Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.119Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.119Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.119Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.119Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.119Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.119Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.119Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.119Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.119Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.119Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.119Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.119Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.119Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.119Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.120Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.120Z [nextStep]   Hand (7): Jungle Shrine, Selvala, Explorer Returned, Plains, Psychosis Crawler, Forest, Mountain, Sylvan Reclamation
2026-02-10T21:38:58.120Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.120Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.120Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.120Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.120Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.120Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.120Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.120Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.120Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.120Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.120Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.120Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.120Z [nextStep]   Hand (8): Jungle Shrine, Selvala, Explorer Returned, Plains, Psychosis Crawler, Forest, Mountain, Sylvan Reclamation, Fog
2026-02-10T21:38:58.120Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.120Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.120Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.120Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.120Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.120Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.120Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.120Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.120Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.120Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.120Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.120Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Jungle Shrine(Land), Selvala, Explorer Returned(Legendary Creature ΓÇö), Plains(Basic Land ΓÇö Plains)]
[canPlayLand] p_bnxazhz4: Found land in hand: Jungle Shrine (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.120Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.120Z [nextStep]   Hand (8): Jungle Shrine, Selvala, Explorer Returned, Plains, Psychosis Crawler, Forest, Mountain, Sylvan Reclamation, Fog
2026-02-10T21:38:58.120Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.120Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.120Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.121Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.121Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.121Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.121Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.121Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.121Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.121Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.121Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.121Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.121Z [nextStep]   Hand (8): Jungle Shrine, Selvala, Explorer Returned, Plains, Psychosis Crawler, Forest, Mountain, Sylvan Reclamation, Fog
2026-02-10T21:38:58.121Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.121Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.121Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.121Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.121Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.121Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.121Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.121Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.121Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.121Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.121Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.121Z [nextStep]   Hand (8): Jungle Shrine, Selvala, Explorer Returned, Plains, Psychosis Crawler, Forest, Mountain, Sylvan Reclamation, Fog
2026-02-10T21:38:58.121Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.121Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.121Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.122Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.122Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.122Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.122Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.122Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.122Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.122Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.122Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.122Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.122Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.122Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.122Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.122Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.122Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.122Z [nextStep]   Hand (7): Reliquary Tower, Telepathy, Blasphemous Act, Forest, Plains, Ludevic, Necro-Alchemist, Prismatic Geoscope
2026-02-10T21:38:58.122Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.122Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.122Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.122Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.122Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.122Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.122Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.122Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.122Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.122Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.122Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.122Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.122Z [nextStep]   Hand (8): Reliquary Tower, Telepathy, Blasphemous Act, Forest, Plains, Ludevic, Necro-Alchemist, Prismatic Geoscope, Island
2026-02-10T21:38:58.122Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.122Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.122Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.123Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.123Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.123Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.123Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.123Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.123Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.123Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.123Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.123Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Reliquary Tower(Land), Telepathy(Enchantment), Blasphemous Act(Sorcery)]
[canPlayLand] p_bnxazhz4: Found land in hand: Reliquary Tower (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.123Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.123Z [nextStep]   Hand (8): Reliquary Tower, Telepathy, Blasphemous Act, Forest, Plains, Ludevic, Necro-Alchemist, Prismatic Geoscope, Island
2026-02-10T21:38:58.123Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.123Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.123Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.123Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.123Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.123Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.123Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.123Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.123Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.123Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.123Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.123Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.123Z [nextStep]   Hand (8): Reliquary Tower, Telepathy, Blasphemous Act, Forest, Plains, Ludevic, Necro-Alchemist, Prismatic Geoscope, Island
2026-02-10T21:38:58.123Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.123Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.123Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.123Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.123Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.123Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.123Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.123Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.123Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.123Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.124Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.124Z [nextStep]   Hand (8): Reliquary Tower, Telepathy, Blasphemous Act, Forest, Plains, Ludevic, Necro-Alchemist, Prismatic Geoscope, Island
2026-02-10T21:38:58.124Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.124Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.124Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.124Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.124Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.124Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.124Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.124Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.124Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.125Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.125Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.125Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.125Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.125Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.125Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.125Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.125Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.125Z [nextStep]   Hand (7): Edric, Spymaster of Trest, Sylvan Reclamation, Rupture Spire, Izzet Boilerworks, Temporal Mastery, Telepathy, Ghostly Prison
2026-02-10T21:38:58.125Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.125Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.125Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.125Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.125Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.125Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.125Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.125Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.125Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.125Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.125Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.125Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.125Z [nextStep]   Hand (8): Edric, Spymaster of Trest, Sylvan Reclamation, Rupture Spire, Izzet Boilerworks, Temporal Mastery, Telepathy, Ghostly Prison, Forest
2026-02-10T21:38:58.125Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.125Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.125Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.125Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.125Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.125Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.125Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.125Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.125Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.125Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.125Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.125Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Edric, Spymaster of Trest(Legendary Creature ΓÇö), Sylvan Reclamation(Instant), Rupture Spire(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Rupture Spire (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.125Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.125Z [nextStep]   Hand (8): Edric, Spymaster of Trest, Sylvan Reclamation, Rupture Spire, Izzet Boilerworks, Temporal Mastery, Telepathy, Ghostly Prison, Forest
2026-02-10T21:38:58.125Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.125Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.125Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.126Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.126Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.126Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.126Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.126Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.126Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.126Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.126Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.126Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.126Z [nextStep]   Hand (8): Edric, Spymaster of Trest, Sylvan Reclamation, Rupture Spire, Izzet Boilerworks, Temporal Mastery, Telepathy, Ghostly Prison, Forest
2026-02-10T21:38:58.126Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.126Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.126Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.126Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.126Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.126Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.126Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.126Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.126Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.126Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.126Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.126Z [nextStep]   Hand (8): Edric, Spymaster of Trest, Sylvan Reclamation, Rupture Spire, Izzet Boilerworks, Temporal Mastery, Telepathy, Ghostly Prison, Forest
2026-02-10T21:38:58.126Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.126Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.126Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.127Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.127Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.127Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.127Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.127Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.127Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.127Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.127Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.127Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.127Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.127Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.127Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.127Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.127Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.127Z [nextStep]   Hand (7): Boros Garrison, Forest, Temple Bell, Rogue's Passage, Homeward Path, Veteran Explorer, Rites of Flourishing
2026-02-10T21:38:58.127Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.127Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.127Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.127Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.127Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.127Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.127Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.127Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.127Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.127Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.127Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.127Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.127Z [nextStep]   Hand (8): Boros Garrison, Forest, Temple Bell, Rogue's Passage, Homeward Path, Veteran Explorer, Rites of Flourishing, Sunhome, Fortress of the Legion
2026-02-10T21:38:58.127Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.127Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.127Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.128Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.128Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.128Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.128Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.128Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.128Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.128Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.128Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.128Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: In main phase with empty stack, checking sorcery-speed actions
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Already played max lands this turn (1/1)
[canAct] p_bnxazhz4: No sorcery-speed actions available in main phase - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.128Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.128Z [nextStep]   Hand (7): Boros Garrison, Forest, Temple Bell, Rogue's Passage, Homeward Path, Veteran Explorer, Rites of Flourishing
2026-02-10T21:38:58.128Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.128Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.128Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.128Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.128Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.128Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.128Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.128Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.128Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.128Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.128Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.129Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.129Z [nextStep]   Hand (7): Boros Garrison, Forest, Temple Bell, Rogue's Passage, Homeward Path, Veteran Explorer, Rites of Flourishing
2026-02-10T21:38:58.129Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.129Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.129Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.129Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.129Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.129Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.129Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.129Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.129Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.129Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.129Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.129Z [nextStep]   Hand (7): Boros Garrison, Forest, Temple Bell, Rogue's Passage, Homeward Path, Veteran Explorer, Rites of Flourishing
2026-02-10T21:38:58.129Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.129Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.129Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.130Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.130Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.130Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.130Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.130Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.130Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.130Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.130Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.130Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.130Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.130Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.130Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.130Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.130Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.130Z [nextStep]   Hand (7): Venser's Journal, Kydele, Chosen of Kruphix, Reins of Power, Evacuation, Kami of the Crescent Moon, Commander's Sphere, Island
2026-02-10T21:38:58.130Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.130Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.130Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.130Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.130Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.130Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.130Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.130Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.130Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.130Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.130Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.130Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.130Z [nextStep]   Hand (8): Venser's Journal, Kydele, Chosen of Kruphix, Reins of Power, Evacuation, Kami of the Crescent Moon, Commander's Sphere, Island, Rupture Spire
2026-02-10T21:38:58.130Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.130Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.130Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.131Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.131Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.131Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.131Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.131Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.131Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.131Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.131Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.131Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Venser's Journal(Artifact), Kydele, Chosen of Kruphix(Legendary Creature ΓÇö), Reins of Power(Instant)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.131Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.131Z [nextStep]   Hand (8): Venser's Journal, Kydele, Chosen of Kruphix, Reins of Power, Evacuation, Kami of the Crescent Moon, Commander's Sphere, Island, Rupture Spire
2026-02-10T21:38:58.131Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.131Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.131Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.131Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.131Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.131Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.131Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.131Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.131Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.131Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.131Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.131Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.131Z [nextStep]   Hand (8): Venser's Journal, Kydele, Chosen of Kruphix, Reins of Power, Evacuation, Kami of the Crescent Moon, Commander's Sphere, Island, Rupture Spire
2026-02-10T21:38:58.131Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.131Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.131Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.131Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.131Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.131Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.131Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.131Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.131Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.131Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.132Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.132Z [nextStep]   Hand (8): Venser's Journal, Kydele, Chosen of Kruphix, Reins of Power, Evacuation, Kami of the Crescent Moon, Commander's Sphere, Island, Rupture Spire
2026-02-10T21:38:58.132Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.132Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.132Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.132Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.132Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.132Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.132Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.132Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.132Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.133Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.133Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.133Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.133Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.133Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.133Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.133Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.133Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.133Z [nextStep]   Hand (7): Island, Veteran Explorer, Rites of Flourishing, Transguild Promenade, Swords to Plowshares, Mystic Monastery, Bring to Light
2026-02-10T21:38:58.133Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.133Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.133Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.133Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.133Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.133Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.133Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.133Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.133Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.133Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.133Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.133Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.133Z [nextStep]   Hand (8): Island, Veteran Explorer, Rites of Flourishing, Transguild Promenade, Swords to Plowshares, Mystic Monastery, Bring to Light, Rupture Spire
2026-02-10T21:38:58.133Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.133Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.133Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.133Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.133Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.133Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.133Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.133Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.133Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.133Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.133Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.133Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Island(Basic Land ΓÇö Island), Veteran Explorer(Creature ΓÇö Human Sol), Rites of Flourishing(Enchantment)]
[canPlayLand] p_bnxazhz4: Found land in hand: Island (Basic Land ΓÇö Island) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.133Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.133Z [nextStep]   Hand (8): Island, Veteran Explorer, Rites of Flourishing, Transguild Promenade, Swords to Plowshares, Mystic Monastery, Bring to Light, Rupture Spire
2026-02-10T21:38:58.133Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.133Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.133Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.134Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.134Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.134Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.134Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.134Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.134Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.134Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.134Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.134Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.134Z [nextStep]   Hand (8): Island, Veteran Explorer, Rites of Flourishing, Transguild Promenade, Swords to Plowshares, Mystic Monastery, Bring to Light, Rupture Spire
2026-02-10T21:38:58.134Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.134Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.134Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.134Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.134Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.134Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.134Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.134Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.134Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.134Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.134Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.134Z [nextStep]   Hand (8): Island, Veteran Explorer, Rites of Flourishing, Transguild Promenade, Swords to Plowshares, Mystic Monastery, Bring to Light, Rupture Spire
2026-02-10T21:38:58.134Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.134Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.134Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.135Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.135Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.135Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.135Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.135Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.135Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.135Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.135Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.135Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.135Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.135Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.135Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.135Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.136Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.136Z [nextStep]   Hand (7): Homeward Path, Mountain, Reins of Power, Kodama's Reach, Humble Defector, Elixir of Immortality, Island
2026-02-10T21:38:58.136Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.136Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.136Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.136Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.136Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.136Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.136Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.136Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.136Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.136Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.136Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.136Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.136Z [nextStep]   Hand (8): Homeward Path, Mountain, Reins of Power, Kodama's Reach, Humble Defector, Elixir of Immortality, Island, Soul Conduit
2026-02-10T21:38:58.136Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.136Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.136Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.136Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.136Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.136Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.136Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.136Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.136Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.136Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.136Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.136Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Homeward Path(Land), Mountain(Basic Land ΓÇö Mountai), Reins of Power(Instant)]
[canPlayLand] p_bnxazhz4: Found land in hand: Homeward Path (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.136Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.136Z [nextStep]   Hand (8): Homeward Path, Mountain, Reins of Power, Kodama's Reach, Humble Defector, Elixir of Immortality, Island, Soul Conduit
2026-02-10T21:38:58.136Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.136Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.136Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.137Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.137Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.137Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.137Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.137Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.137Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.137Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.137Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.137Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.137Z [nextStep]   Hand (8): Homeward Path, Mountain, Reins of Power, Kodama's Reach, Humble Defector, Elixir of Immortality, Island, Soul Conduit
2026-02-10T21:38:58.137Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.137Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.137Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.137Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.137Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.137Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.137Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.137Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.137Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.137Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.137Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.137Z [nextStep]   Hand (8): Homeward Path, Mountain, Reins of Power, Kodama's Reach, Humble Defector, Elixir of Immortality, Island, Soul Conduit
2026-02-10T21:38:58.137Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.137Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.137Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.138Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.138Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.138Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.138Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.138Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.138Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.138Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.138Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.138Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.138Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.138Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.138Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.138Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.138Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.138Z [nextStep]   Hand (7): Forest, Kodama's Reach, Selvala, Explorer Returned, Kraum, Ludevic's Opus, Plains, Island, Entrapment Maneuver
2026-02-10T21:38:58.138Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.139Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.139Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.139Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.139Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.139Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.139Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.139Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.139Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.139Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.139Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.139Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.139Z [nextStep]   Hand (8): Forest, Kodama's Reach, Selvala, Explorer Returned, Kraum, Ludevic's Opus, Plains, Island, Entrapment Maneuver, Kydele, Chosen of Kruphix
2026-02-10T21:38:58.139Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.139Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.139Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.139Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.139Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.139Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.139Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.139Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.139Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.139Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.139Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.139Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Kodama's Reach(Sorcery ΓÇö Arcane), Selvala, Explorer Returned(Legendary Creature ΓÇö)]
[canPlayLand] p_bnxazhz4: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.139Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.139Z [nextStep]   Hand (8): Forest, Kodama's Reach, Selvala, Explorer Returned, Kraum, Ludevic's Opus, Plains, Island, Entrapment Maneuver, Kydele, Chosen of Kruphix
2026-02-10T21:38:58.139Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.139Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.139Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.140Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.140Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.140Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.140Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.140Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.140Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.140Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.140Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.140Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.140Z [nextStep]   Hand (8): Forest, Kodama's Reach, Selvala, Explorer Returned, Kraum, Ludevic's Opus, Plains, Island, Entrapment Maneuver, Kydele, Chosen of Kruphix
2026-02-10T21:38:58.140Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.140Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.140Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.140Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.140Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.140Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.140Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.140Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.140Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.140Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.140Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.140Z [nextStep]   Hand (8): Forest, Kodama's Reach, Selvala, Explorer Returned, Kraum, Ludevic's Opus, Plains, Island, Entrapment Maneuver, Kydele, Chosen of Kruphix
2026-02-10T21:38:58.140Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.140Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.140Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.141Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.141Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.141Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.141Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.141Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.141Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.141Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.141Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.141Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.141Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.141Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.141Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.141Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.141Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.141Z [nextStep]   Hand (7): Kodama's Reach, Collective Voyage, Mystic Monastery, Blazing Archon, Orzhov Advokist, Horizon Chimera, Island
2026-02-10T21:38:58.141Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.141Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.141Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.141Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.141Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.141Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.141Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.141Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.141Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.141Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.141Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.141Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.141Z [nextStep]   Hand (8): Kodama's Reach, Collective Voyage, Mystic Monastery, Blazing Archon, Orzhov Advokist, Horizon Chimera, Island, Plains
2026-02-10T21:38:58.141Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.141Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.141Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.142Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.142Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.142Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.142Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.142Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.142Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.142Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.142Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.142Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Kodama's Reach(Sorcery ΓÇö Arcane), Collective Voyage(Sorcery), MysticMonastery(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Mystic Monastery (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.142Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.142Z [nextStep]   Hand (8): Kodama's Reach, Collective Voyage, Mystic Monastery, Blazing Archon, Orzhov Advokist, Horizon Chimera, Island, Plains
2026-02-10T21:38:58.142Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.142Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.142Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.142Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.142Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.142Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.142Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.142Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.142Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.142Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.142Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.142Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.142Z [nextStep]   Hand (8): Kodama's Reach, Collective Voyage, Mystic Monastery, Blazing Archon, Orzhov Advokist, Horizon Chimera, Island, Plains
2026-02-10T21:38:58.142Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.142Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.142Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.142Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.142Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.142Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.142Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.142Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.142Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.142Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.143Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.143Z [nextStep]   Hand (8): Kodama's Reach, Collective Voyage, Mystic Monastery, Blazing Archon, Orzhov Advokist, Horizon Chimera, Island, Plains
2026-02-10T21:38:58.143Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.143Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.143Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.143Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.143Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.143Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.143Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.143Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.143Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.143Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.143Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.143Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.143Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.143Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.143Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.144Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.144Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.144Z [nextStep]   Hand (7): Forest, Kraum, Ludevic's Opus, Treacherous Terrain, Cultivate, Telepathy, Collective Restraint, Mountain
2026-02-10T21:38:58.144Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.144Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.144Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.144Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.144Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.144Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.144Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.144Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.144Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.144Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.144Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.144Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.144Z [nextStep]   Hand (8): Forest, Kraum, Ludevic's Opus, Treacherous Terrain, Cultivate, Telepathy, Collective Restraint, Mountain, Seaside Citadel
2026-02-10T21:38:58.144Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.144Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.144Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.144Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.144Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.144Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.144Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.144Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.144Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.144Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.144Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.144Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Kraum, Ludevic's Opus(Legendary Creature ΓÇö), Treacherous Terrain(Sorcery)]
[canPlayLand] p_bnxazhz4: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.144Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.144Z [nextStep]   Hand (8): Forest, Kraum, Ludevic's Opus, Treacherous Terrain, Cultivate, Telepathy, Collective Restraint, Mountain, Seaside Citadel
2026-02-10T21:38:58.144Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.144Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.144Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.145Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.145Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.145Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.145Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.145Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.145Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.145Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.145Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.145Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.145Z [nextStep]   Hand (8): Forest, Kraum, Ludevic's Opus, Treacherous Terrain, Cultivate, Telepathy, Collective Restraint, Mountain, Seaside Citadel
2026-02-10T21:38:58.145Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.145Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.145Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.145Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.145Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.145Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.145Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.145Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.145Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.145Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.145Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.145Z [nextStep]   Hand (8): Forest, Kraum, Ludevic's Opus, Treacherous Terrain, Cultivate, Telepathy, Collective Restraint, Mountain, Seaside Citadel
2026-02-10T21:38:58.145Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.145Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.145Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.146Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.146Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.146Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.146Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.146Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.146Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.146Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.146Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.146Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.146Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.146Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.146Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.146Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.146Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.146Z [nextStep]   Hand (7): Azorius Chancery, Rogue's Passage, Font of Mythos, Sphere of Safety, Simic Growth Chamber, Plains, Mountain
2026-02-10T21:38:58.146Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.146Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.146Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.146Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.146Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.146Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.146Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.146Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.146Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.146Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.146Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.147Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.147Z [nextStep]   Hand (8): Azorius Chancery, Rogue's Passage, Font of Mythos, Sphere of Safety, Simic Growth Chamber, Plains, Mountain, Swords to Plowshares
2026-02-10T21:38:58.147Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.147Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.147Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.147Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.147Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.147Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.147Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.147Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.147Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.147Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.147Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.147Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Azorius Chancery(Land), Rogue's Passage(Land), Font of Mythos(Artifact)]
[canPlayLand] p_bnxazhz4: Found land in hand: Azorius Chancery (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.147Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.147Z [nextStep]   Hand (8): Azorius Chancery, Rogue's Passage, Font of Mythos, Sphere of Safety, Simic Growth Chamber, Plains, Mountain, Swords to Plowshares
2026-02-10T21:38:58.147Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.147Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.147Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.147Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.147Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.147Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.147Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.147Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.147Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.147Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.147Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.147Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.147Z [nextStep]   Hand (8): Azorius Chancery, Rogue's Passage, Font of Mythos, Sphere of Safety, Simic Growth Chamber, Plains, Mountain, Swords to Plowshares
2026-02-10T21:38:58.147Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.147Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.147Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.147Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.148Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.148Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.148Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.148Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.148Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.148Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.148Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.148Z [nextStep]   Hand (8): Azorius Chancery, Rogue's Passage, Font of Mythos, Sphere of Safety, Simic Growth Chamber, Plains, Mountain, Swords to Plowshares
2026-02-10T21:38:58.148Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.148Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.148Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.148Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.148Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.148Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.148Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.148Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.148Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.149Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.149Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.149Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.149Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.149Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.149Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.149Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.149Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.149Z [nextStep]   Hand (7): Homeward Path, Boros Garrison, Izzet Boilerworks, Island, Rupture Spire, Windborn Muse, Forest
2026-02-10T21:38:58.149Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.149Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.149Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.149Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.149Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.149Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.149Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.149Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.149Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.149Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.149Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.149Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.149Z [nextStep]   Hand (8): Homeward Path, Boros Garrison, Izzet Boilerworks, Island, Rupture Spire, Windborn Muse, Forest, Cultivate
2026-02-10T21:38:58.149Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.149Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.149Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.149Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.149Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.149Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.149Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.149Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.149Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.149Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.149Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.149Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Homeward Path(Land), Boros Garrison(Land), Izzet Boilerworks(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Homeward Path (Land) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.150Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.150Z [nextStep]   Hand (8): Homeward Path, Boros Garrison, Izzet Boilerworks, Island, Rupture Spire, Windborn Muse, Forest, Cultivate
2026-02-10T21:38:58.150Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.150Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.150Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.150Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.150Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.150Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.150Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.150Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.150Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.150Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.150Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.150Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.150Z [nextStep]   Hand (8): Homeward Path, Boros Garrison, Izzet Boilerworks, Island, Rupture Spire, Windborn Muse, Forest, Cultivate
2026-02-10T21:38:58.150Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.150Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.150Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.150Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.150Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.150Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.150Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.150Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.150Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.150Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.150Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.150Z [nextStep]   Hand (8): Homeward Path, Boros Garrison, Izzet Boilerworks, Island, Rupture Spire, Windborn Muse, Forest, Cultivate
2026-02-10T21:38:58.150Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.150Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.150Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.151Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.151Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.151Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.151Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.151Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.151Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.151Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.151Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.151Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.151Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.151Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.151Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.151Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.151Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.151Z [nextStep]   Hand (7): Forest, Boros Garrison, Mystic Monastery, Triumph of the Hordes, Collective Voyage, Mountain, Treacherous Terrain
2026-02-10T21:38:58.151Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.151Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.151Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.152Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.152Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.152Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.152Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.152Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.152Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.152Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.152Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.152Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.152Z [nextStep]   Hand (8): Forest, Boros Garrison, Mystic Monastery, Triumph of the Hordes, Collective Voyage, Mountain, Treacherous Terrain, Psychosis Crawler
2026-02-10T21:38:58.152Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.152Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.152Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.152Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.152Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.152Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.152Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.152Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.152Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.152Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.152Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.152Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Boros Garrison(Land), Mystic Monastery(Land)]
[canPlayLand] p_bnxazhz4: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.152Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.152Z [nextStep]   Hand (8): Forest, Boros Garrison, Mystic Monastery, Triumph of the Hordes, Collective Voyage, Mountain, Treacherous Terrain, Psychosis Crawler
2026-02-10T21:38:58.152Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.152Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.152Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.152Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.152Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.152Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.152Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.152Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.152Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.152Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.152Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.153Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.153Z [nextStep]   Hand (8): Forest, Boros Garrison, Mystic Monastery, Triumph of the Hordes, Collective Voyage, Mountain, Treacherous Terrain, Psychosis Crawler
2026-02-10T21:38:58.153Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.153Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.153Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_295b92bc-d66f-45d8-9bbe-5f5f13e39fd4_399e014cf2a16c54 not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.153Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.153Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.153Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.153Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.153Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.153Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.153Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.153Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.153Z [nextStep]   Hand (8): Forest, Boros Garrison, Mystic Monastery, Triumph of the Hordes, Collective Voyage, Mountain, Treacherous Terrain, Psychosis Crawler
2026-02-10T21:38:58.153Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.153Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.153Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[importDeckResolved] Importing 100 cards for player p_bnxazhz4
[importDeckResolved] Mapped 100 cards. First card: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[importDeckResolved] Library set for player p_bnxazhz4. Final library size: 100
[setCommander] Initialized inCommandZone for p_bnxazhz4: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7']
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7' ]
[setCommander] Found commander "Kynaios and Tiro of Meletis" (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7) in library at index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Kynaios and Tiro of Meletis (card_97fa8615-2b6c-445a-bcaf-44a7e847bf65_9415d89bcb0a20e7)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_bnxazhz4].libraryCount to 99
[importDeckResolved] Importing 100 cards for player p_cwx7263k
[importDeckResolved] Mapped 100 cards. First card: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[importDeckResolved] Library set for player p_cwx7263k. Final library size: 100
[setCommander] Initialized inCommandZone for p_cwx7263k: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Library size before commander removal: 100, Commander IDs to remove: [ 'e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b' ]
[setCommander] Found commander "Neera, Wild Mage" (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b) in libraryat index 0
[setCommander] Removing 1 commander(s) from library at indices: [ 0 ] library size before: 100
[setCommander] Removed card at index 0: Neera, Wild Mage (e5431f73-9a70-47dc-b5d4-7f43e41b878e_mlh4fyxe_1_368cb34b)
[setCommander] Library size after removal: 99
[setCommander] Updated zones[p_cwx7263k].libraryCount to 99
2026-02-10T21:38:58.153Z [nextTurn] Reset planeswalker loyalty activation counters for player p_bnxazhz4
2026-02-10T21:38:58.153Z [nextTurn] Cleared noncreatureSpellsCastThisTurn for new turn
2026-02-10T21:38:58.153Z [nextTurn] Cleared spellsCastFromHandThisTurn for new turn
2026-02-10T21:38:58.153Z [nextTurn] Cleared spellsCastThisTurn for new turn
2026-02-10T21:38:58.153Z [nextTurn] Cleared playedCardFromExileThisTurn for new turn
2026-02-10T21:38:58.153Z [nextTurn] Advanced to player p_bnxazhz4, phase=beginning, step=UNTAP
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 0 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.154Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.154Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.154Z [nextStep] Current: beginning/UNTAP
2026-02-10T21:38:58.154Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.154Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.154Z [nextStep] Advanced to phase=beginning, step=UPKEEP
2026-02-10T21:38:58.154Z [nextStep] Granting priority to active player p_bnxazhz4 (step: UPKEEP, stack size: 0)
[canAct] p_bnxazhz4: step=UPKEEP, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.154Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.154Z [nextStep]   Hand (7): Forest, Mountain, Mountain, Soul Conduit, Gruul Turf, Veteran Explorer,Master Warcraft
2026-02-10T21:38:58.154Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.154Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.154Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
2026-02-10T21:38:58.155Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.155Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.155Z [nextStep] Current: beginning/UPKEEP
2026-02-10T21:38:58.155Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.155Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.155Z [nextStep] Advanced to phase=beginning, step=DRAW
2026-02-10T21:38:58.155Z [nextStep] Drew 1 card(s) for p_bnxazhz4 at draw step (base: 1, additional: 0)
2026-02-10T21:38:58.155Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DRAW, stack size: 0)
[canAct] p_bnxazhz4: step=DRAW, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.155Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.155Z [nextStep]   Hand (8): Forest, Mountain, Mountain, Soul Conduit, Gruul Turf, Veteran Explorer,Master Warcraft, Seaside Citadel
2026-02-10T21:38:58.155Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.155Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.155Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
playLand: card card_4ebb97da-e4d5-41ba-9a70-2a1de91f513c_adddd2e7e7d1a30e not found in expected zone(s) for player p_bnxazhz4 (may be replay)
2026-02-10T21:38:58.155Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.155Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.155Z [nextStep] Current: beginning/DRAW
2026-02-10T21:38:58.155Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.155Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.155Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.155Z [nextStep] Advanced to phase=precombatMain, step=MAIN1
2026-02-10T21:38:58.155Z [nextStep] Checking precombat main triggers for p_bnxazhz4, found 0 trigger(s)
2026-02-10T21:38:58.155Z [nextStep] Granting priority to active player p_bnxazhz4 (step: MAIN1, stack size: 0)
[canAct] p_bnxazhz4: step=MAIN1, isMainPhase=true, stackIsEmpty=true, isTurnPlayer=true
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 1 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[canPlayLand] p_bnxazhz4: Checking hand with 8 cards
[canPlayLand] p_bnxazhz4: Sample cards in hand: [Forest(Basic Land ΓÇö Forest), Mountain(Basic Land ΓÇö Mountai), Mountain(Basic Land ΓÇö Mountai)]
[canPlayLand] p_bnxazhz4: Found land in hand: Forest (Basic Land ΓÇö Forest) - returning TRUE
[canAct] p_bnxazhz4: Turn player in main phase can play land - returning TRUE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.155Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.155Z [nextStep]   Hand (8): Forest, Mountain, Mountain, Soul Conduit, Gruul Turf, Veteran Explorer,Master Warcraft, Seaside Citadel
2026-02-10T21:38:58.155Z [nextStep]   canAct: true, canRespond: false
2026-02-10T21:38:58.155Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.155Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[playLand] Thundering Falls enters tapped (ETB-tapped pattern detected)
[playLand] Found 1 ETB trigger(s) for Thundering Falls
[playLand] Pushed ETB trigger to stack: surveil 1
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 2 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Triggered ability from Thundering Falls resolved: surveil 1
[resolveTopOfStack] Executing trigger effect: controller=p_cwx7263k, sourceName=Thundering Falls, triggerType=etb
[executeTriggerEffect] triggerType=etb, sourceName=Thundering Falls
[executeTriggerEffect] Found 1 keywords via dynamic detection for Thundering Falls
[KeywordHandlers] Processing surveil for Thundering Falls
[KeywordHandlers] No specific handler for surveil, using generic
[executeTriggerEffect] Keyword surveil processed: Thundering Falls's surveil triggers: Look at the top 1 card of your library. Put any into your graveyard, rest on top in any order
2026-02-10T21:38:58.155Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.155Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.155Z [nextStep] Current: precombatMain/MAIN1
2026-02-10T21:38:58.156Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.156Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.156Z [clearManaPool] Processed mana pools for all players
2026-02-10T21:38:58.156Z [nextStep] Advanced to phase=combat, step=BEGIN_COMBAT
[getBeginningOfCombatTriggers] Total triggers for activePlayer=p_bnxazhz4: 0
2026-02-10T21:38:58.156Z [nextStep] Granting priority to active player p_bnxazhz4 (step: BEGIN_COMBAT, stack size: 0)
[canAct] p_bnxazhz4: step=BEGIN_COMBAT, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.156Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.156Z [nextStep]   Hand (8): Forest, Mountain, Mountain, Soul Conduit, Gruul Turf, Veteran Explorer,Master Warcraft, Seaside Citadel
2026-02-10T21:38:58.156Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.156Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.156Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 3 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
2026-02-10T21:38:58.156Z [nextStep] ========== CALLED ==========
2026-02-10T21:38:58.156Z [nextStep] Game: game_mlh4fpku
2026-02-10T21:38:58.156Z [nextStep] Current: combat/BEGIN_COMBAT
2026-02-10T21:38:58.156Z [nextStep] Priority: p_cwx7263k, Turn: p_bnxazhz4
2026-02-10T21:38:58.156Z [nextStep] Call stack:
        at applyEvent (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:1327:9)
        at replay (D:\Git\MTGEDH\server\src\state\modules\applyEvent.ts:3076:7)
        at Object.replay (D:\Git\MTGEDH\server\src\state\index.ts:208:38)
        at GameManagerClass.ensureGame (D:\Git\MTGEDH\server\src\GameManager.ts:657:18)
2026-02-10T21:38:58.156Z [nextStep] Advanced to phase=combat, step=DECLARE_ATTACKERS
2026-02-10T21:38:58.156Z [nextStep] Granting priority to active player p_bnxazhz4 (step: DECLARE_ATTACKERS, stack size:0)
[canAct] p_bnxazhz4: step=DECLARE_ATTACKERS, isMainPhase=false, stackIsEmpty=true, isTurnPlayer=true
[canAct] p_bnxazhz4: Not in main phase with empty stack (phase check failed or stack not empty) - returning FALSE
[canAct] p_bnxazhz4: No actions available - returning FALSE
[canRespond] p_bnxazhz4: checking instant-speed responses only
[canRespond] p_bnxazhz4: No instant-speed responses available (returning false)
2026-02-10T21:38:58.156Z [nextStep] DEBUG - Turn Player p_bnxazhz4:
2026-02-10T21:38:58.156Z [nextStep]   Hand (7): Forest, Mountain, Soul Conduit, Gruul Turf, Veteran Explorer, Master Warcraft, Seaside Citadel
2026-02-10T21:38:58.156Z [nextStep]   canAct: false, canRespond: false
2026-02-10T21:38:58.156Z [nextStep] Checking if auto-pass should apply after granting priority
[priority] autoPassLoop starting - active players: p_cwx7263k, p_bnxazhz4, autoPassEnabled: , currentPriority: p_bnxazhz4, turnPlayer: p_bnxazhz4
[priority] autoPassLoop - stopping at p_bnxazhz4: auto-pass not enabled
2026-02-10T21:38:58.156Z [nextStep] Auto-pass stopped, player p_bnxazhz4 has priority
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 4 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Permanent Talisman of Creativity entered battlefield under p_cwx7263k
[calculateMaxLandsPerTurn] Calculating for player p_cwx7263k, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_cwx7263k: 1 lands per turn
[calculateMaxLandsPerTurn] Calculating for player p_bnxazhz4, battlefield has 5 permanents
[calculateMaxLandsPerTurn] Final result for p_bnxazhz4: 1 lands per turn
[recalculateHandVisibility] Players with hand reveal effects: none
[resolveTopOfStack] Reset priorityPassedBy after spell resolution
[GameManager] ensureGame: replayed persisted events { gameId: 'game_mlh4fpku', count: 73 }
[VIEW_FOR_DEBUG] {
  viewer: 'p_cwx7263k',
  stackLength: 1,
  stackItems: [ 'Firebending Student' ],
  zones: {
    p_cwx7263k: { handCount: 6, firstKnown: [Array] },
    p_bnxazhz4: { handCount: 7, firstKnown: [Array] }
  }
}
[Automation] Auto-pass for turn disabled for p_cwx7263k in game game_mlh4fpku
[Automation] Auto-pass for turn state in game game_mlh4fpku: {}
